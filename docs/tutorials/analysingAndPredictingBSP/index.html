
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation, guides and articles on creating, developing and implementing automated betting strategies, using data analysis to inform betting models and how to interact with the Betfair API.">
      
      
        <meta name="author" content="Betfair Data Scientists">
      
      
        <link rel="canonical" href="https://betfair-datascientists.github.io/tutorials/analysingAndPredictingBSP/">
      
      
        <link rel="prev" href="../analysingAndPredictingMarketMovements/">
      
      
        <link rel="next" href="../../mentalGame/intro/">
      
      
      <link rel="icon" href="../../img/BetfairFavicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.6">
    
    
      
        <title>Wisdom of the crowd? Analysing & understanding BSP - The Automation Hub</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/betfair.css">
    
      <link rel="stylesheet" href="../../css/buttons_and_animations.css">
    
      <link rel="stylesheet" href="../../css/fonts.css">
    
      <link rel="stylesheet" href="../../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-125973915-1"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","UA-125973915-1",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-125973915-1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="betfair" data-md-color-primary="amber" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#wisdom-of-the-crowd-analysing-understanding-bsp" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      
  
  <header class="md-header" data-md-component="header">
    <nav class="md-header__inner md-grid" aria-label="header.title">
      <a href="../.." title="The Automation Hub" class="md-header__button md-logo" aria-label="The Automation Hub" data-md-component="logo">
        
  <img src="../../img/logo.svg" alt="logo">

      </a>
      <label class="md-header__button md-icon" for="__drawer">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
      </label>
      <div class="md-header__title" data-md-component="header-title">
        <div class="md-header__ellipsis">
          <div class="md-header__topic">
            <span class="md-ellipsis">
              The Automation Hub
            </span>
          </div>
          <div class="md-header__topic" data-md-component="header-topic">
            <span class="md-ellipsis">
              
                Wisdom of the crowd? Analysing & understanding BSP
              
            </span>
          </div>
        </div>
      </div>

      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="betfair" data-md-color-primary="amber" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
        </form>
      
      

      
     
      <div class="bf-nav">
        <a class="bf-hidable" href="https://www.betfair.com.au/exchange/plus/"><svg class="exchangeLogo" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#"
          xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 38.775 4.59" width="24" height="17">
          <path class="st1" d="m 160.3,-136.95 v 26" />
          <g transform="translate(18.8,-137.15)">
            <path d="m 2.2901089,126.53441 v 5.20093 H -3.3107216 L 7.4888397,144.33446 18.2884,131.73534 h -5.598633 v -5.20093 z m -8.6000974,8.10132 -10.8017585,12.59913 h 5.60083 v 5.2998 h 10.3996581 v -5.2998 h 5.6008306 z" />
          </g>
        </svg><span> Exchange</span></a>
        <a href="https://www.betfair.com.au/hub/">Hub</a>
      </div>

      

    </nav>
    
  </header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../data/dataListing/" class="md-tabs__link">
          
  
  Data

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../wagering/betfairHowTo/" class="md-tabs__link">
          
  
  Wagering

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/apiResources/" class="md-tabs__link">
          
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../modelling/greyhoundDatathon/" class="md-tabs__link">
          
  
  Modelling

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../automation/GoldenRulesofAutomation/" class="md-tabs__link">
          
  
  Automation

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../How_to_Automate_1/" class="md-tabs__link">
          
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mentalGame/intro/" class="md-tabs__link">
          
  
  Mental Game

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../contactUs/test/" class="md-tabs__link">
          
  
  Contact Us

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The Automation Hub" class="md-nav__button md-logo" aria-label="The Automation Hub" data-md-component="logo">
      
  <img src="../../img/logo.svg" alt="logo">

    </a>
    The Automation Hub
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataListing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSV Files
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Wagering
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Wagering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wagering/betfairHowTo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Betfair How-To
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wagering/bettingGlossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Betting Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wagering/stakingMethods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Staking Methods and Bankroll Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wagering/valueAndOdds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Value and Odds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wagering/commission/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Commission and other charges
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wagering/hubPredictionsModel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hub Predictions Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wagering/exactaQuinella/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exactas & Quinella
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/apiResources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/apiappkey/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to access the Betfair API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/apiRtutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API tutorial in R
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/apiPythontutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API tutorial in Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Modelling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Modelling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/greyhoundDatathon/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Greyhound Racing Datathon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/howToModel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro to modelling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/dataSources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pricing Data Sources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/cloudOrLocalMachine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud or Local
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Racing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Racing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/topazTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Greyhound Topaz API Tutorial (New)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/fasttrackTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Greyhound form FastTrack API (Old)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/greyhoundModellingPython/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Greyhound modelling in Python (Old)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Soccer
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Soccer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/soccerModellingELO2022WorldCup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Soccer modelling tutorial in R for 2022 FIFA World Cup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/soccerModellingTutorialPython/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Soccer modelling tutorial in Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/EPLmlPython/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EPL ML walk through in Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    AFL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            AFL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/AFLPlayerDisposalsTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Player Disposal Lines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/AFLmodellingPython/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AFL modelling walk through in Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/brownlowModelTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelling the Brownlow Medal in Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tennis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Tennis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/howToModelTheAusOpen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to model the Australian Open
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/AusOpenRTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aus Open R Tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modelling/AusOpenPythonTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aus Open Python Tutorial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Automation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Automation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/GoldenRulesofAutomation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Golden rules of automation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Bet Angel
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Bet Angel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngel/betAngel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngelbeginners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Beginner's guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngelintermediate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intermediate guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngeladvanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngelRatingsAutomation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratings auto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngelMarketFavouriteAutomation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Market fav auto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngelTippingAutomation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tipping auto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngelSimultaneousMarkets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simultaneous markets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betAngelKellyStake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kelly criterion staking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Gruss Betting Assistant
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Gruss Betting Assistant
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/Gruss/Gruss/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/GrussSettingupbasicmarketview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup basic market view and one click betting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/grussRatingsAutomation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratings auto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/grussMarketFavouriteAutomation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Market fav auto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/grusslSimultaneousMarkets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simultaneous markets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/grussKellyStake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kelly criterion staking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Cymatic Trader
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Cymatic Trader
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/CymaticTrader/CymaticTrader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/cymaticTraderRatingsAutomation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratings auto
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Geeks Toy
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            Geeks Toy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/GeeksToyinstallationandsetup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation and setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/GeeksToybasicmarketviewstakingandoneclickbetting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup basic market view and one click betting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/geeksToyRefreshSettings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimising refresh settings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_7" >
        
          
          <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Bet Jet Pro
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7">
            <span class="md-nav__icon md-icon"></span>
            Bet Jet Pro
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/betJetOverview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../How_to_Automate_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Automate 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../How_to_Automate_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Automate 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../How_to_Automate_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Automate 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../How_to_Automate_4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Automate 4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../How_to_Automate_5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Automate 5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../processingTarFiles101/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Take away the pain! Processing TAR Files 101
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jsonToCsvRevisited/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON to CSV | Revisited
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backtestingRatingsTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Back testing ratings in Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../automatedBettingAnglesTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automated betting angles in Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analysingAndPredictingMarketMovements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Do they know? Analysing Betfair market formation & market movements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Wisdom of the crowd? Analysing & understanding BSP
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Wisdom of the crowd? Analysing & understanding BSP
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cheat-sheet" class="md-nav__link">
    <span class="md-ellipsis">
      Cheat sheet
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#00-setup" class="md-nav__link">
    <span class="md-ellipsis">
      0.0 Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.0 Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#01-importing-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      0.1 Importing libraries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#02-context" class="md-nav__link">
    <span class="md-ellipsis">
      0.2 Context
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#03-the-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      0.3 The Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#04-this-example" class="md-nav__link">
    <span class="md-ellipsis">
      0.4 This Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-data" class="md-nav__link">
    <span class="md-ellipsis">
      1.0 Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.0 Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-sourcing-data" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Sourcing Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-utility-functions" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Utility functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-selection-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Selection Metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-preplay-prices-and-projections" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Preplay Prices and Projections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      2.0 Analysis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.0 Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-load-inspect" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Load &amp; Inspect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-transform-and-assemble" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Transform and Assemble
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 Transform and Assemble">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-mid-points" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 Mid points
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-analysing-the-bsp" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Analysing the BSP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 Analysing the BSP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 Volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-efficiency" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2 Efficiency?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-predicting-the-bsp" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Predicting the BSP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 Predicting the BSP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#234-machine-learning" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.4 Machine Learning
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#235-next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.5 Next Steps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      3.0 Conclusion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.0 Conclusion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-over-to-you" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Over to you
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-complete-code" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Complete code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Mental Game
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Mental Game
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/roleOfEmotions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/mapYourEmotions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/handlingBadVariance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/winbyBeingGreatatLosing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/correctingyouremotions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/responsibleGambling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/InchwormConcept/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/HighExpectations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mentalGame/TappingYourIntuition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 9
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Contact Us
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Contact Us
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contactUs/test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Meet the Team
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>
(function() {
  function addWidgetsRenderer() {
    var requireJsScript = document.createElement('script');
    requireJsScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js';

    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var jupyterWidgetsScript = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    jupyterWidgetsScript.src = widgetRendererSrc;

    document.body.appendChild(requireJsScript);
    document.body.appendChild(jupyterWidgetsScript);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="wisdom-of-the-crowd-analysing-understanding-bsp">Wisdom of the crowd? Analysing &amp; understanding BSP</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<p>This tutorial was written by <a href="https://github.com/TMBish">Tom Bishop</a> and was <a href="https://github.com/TMBish/bfStreamTutorials/tree/main/04-bsp">originally published on Github</a>. It is shared here with his permission.</p>
<p>This tutorial follows on logically from the <a href="https://betfair-datascientists.github.io/tutorials/analysingAndPredictingMarketMovements/">Market Movements tutorial</a> we shared previously. If you're still new to working with the JSON data sets we suggest you take a look at that tutorial before diving into this one.</p>
<p>As always please <a href="mailto:automation@betfair.com.au">reach out</a> with feedback, suggestions or queries, or feel free to submit a <a href="https://github.com/betfair-down-under/autoHubTutorials/pulls">pull request</a> if you catch some bugs or have other improvements!</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="cheat-sheet">Cheat sheet</h3>
<ul>
<li>This is presented as a Jupyter notebook as this format is interactive and lets you run snippets of code from wihtin the notebook. To use this functionality <a href="https://github.com/betfair-down-under/autoHubTutorials/blob/master/analysingAndPredictingBSP/bsp.ipynb">you'll need to download a copy of the <code>ipynb</code> file locally</a> and open it in a text editor (i.e. VS code).</li>
<li>If you're looking for the complete code <a href="https://betfair-datascientists.github.io/tutorials/analysingAndPredictingBSP/#32-complete-code">head to the bottom of the page</a> or <a href="https://github.com/betfair-down-under/autoHubTutorials/tree/master/analysingAndPredictingBSP">download the script from Github</a>.</li>
<li>To run the code, save it to your machine, open a command prompt, or a terminal in your text editor of choice (we're using <a href="https://code.visualstudio.com/download">VS code</a>), make sure you've navigated in the terminal to the folder you've saved the script in and then type <code>py main.py</code> (or whatever you've called your script file if not main) then hit enter. To stop the code running use Ctrl C. </li>
<li>Make sure you amend your data path to point to your data file. We'll be taking in an input of a historical tar file downloaded from the <a href="https://historicdata.betfair.com/#/help">Betfair historic data site</a>. We're using a PRO version, though the code should work on ADVANCED too. This approach won't work with the BASIC data tier. </li>
<li>We're using the <a href="https://github.com/liampauling/betfair/tree/master/betfairlightweight"><code>betfairlightweight</code></a> package to do the heavy lifting</li>
<li>We've also posted the completed code logic on the <a href="https://github.com/betfair-down-under/autoHubTutorials/tree/master/analysingAndPredictingBSP"><code>betfair-downunder</code> Github repo</a>.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
<h2 id="00-setup">0.0 Setup</h2>
<h3 id="01-importing-libraries">0.1 Importing libraries</h3>
<p>Once again I'll be presenting the analysis in a jupyter notebook and will be using python as a programming language.</p>
<p>Some of the data processing code takes a while to execute - that code will be in cells that are commented out - and will require a bit of adjustment to point to places on your computer locally where you want to store the intermediate data files.</p>
<p>You'll also need <code>betfairlightweight</code> which you can install with something like <code>pip install betfairlightweight</code>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span> <span class="nn">requests</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">import</span> <span class="nn">os</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">import</span> <span class="nn">re</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">import</span> <span class="nn">csv</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="kn">import</span> <span class="nn">math</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="kn">import</span> <span class="nn">logging</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="kn">import</span> <span class="nn">yaml</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="kn">import</span> <span class="nn">csv</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="kn">import</span> <span class="nn">tarfile</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="kn">import</span> <span class="nn">zipfile</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="kn">import</span> <span class="nn">bz2</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="kn">import</span> <span class="nn">glob</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="kn">import</span> <span class="nn">ast</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="kn">from</span> <span class="nn">unittest.mock</span> <span class="kn">import</span> <span class="n">patch</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Optional</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">zip_longest</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="kn">import</span> <span class="nn">betfairlightweight</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="kn">from</span> <span class="nn">betfairlightweight</span> <span class="kn">import</span> <span class="n">StreamListener</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="kn">from</span> <span class="nn">betfairlightweight.resources.bettingresources</span> <span class="kn">import</span> <span class="p">(</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="n">PriceSize</span><span class="p">,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>    <span class="n">MarketBook</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="02-context">0.2 Context</h3>
<p>The Betfair Starting Price (BSP) is a starting price product offered by Betfair (on large enough markets, almost all racing and some sports) that gives customers a chance to back or lay any selection at a "fair" price. Without getting too complex too quickly, the BSP allows you lock in a bet at any time after the market is opened and for as much stake as you can afford. The BSP is a good option for many different segments of customers:</p>
<ul>
<li>Recreational punters that don't have a particular strategy for trying to get the best odds can lock in a price that is (in the aggregate) a lot better than what they'd get at a corporate book or they'd get by taking limit bets early in a market's trading</li>
<li>Automated customers that don't want the hassle of managing live market trading can implement automated strategies a lot easier whilst also protecting them from edge cases like race reschedules </li>
<li>Is perfect for simply backtesting fundamental models as it's a resilient and robust single price</li>
</ul>
<p>There’s a lot of background reading available on BSP if you’re keen to understand it better. Here are some resources that might be interesting if you want to learn more: </p>
<ul>
<li><a href="https://docs.developer.betfair.com/pages/viewpage.action?pageId=4392566">Overview</a></li>
<li><a href="https://www.betfair.com.au/hub/betfair-starting-price-faqs/">FAQ summary</a></li>
<li><a href="https://promo.betfair.com/betfairsp/FAQs_theBasics.html">Detailed explanation</a></li>
<li><a href="https://promo.betfair.com/betfairsp/FAQs_detailedWorkings.html">Worked examples of the reconciliation process</a></li>
<li><a href="https://promo.betfair.com/betfairsp/FAQs_projectedOdds.html">How the projected odds work</a></li>
</ul>
<p>Despite it being a good option for a lot of customers it's also a fairly controversial topic for some other types of customers. Some people firmly believe that the BSP on big markets reflects the "true chance" of a selection so betting it is a fool's errand that will simply lose you commission over the long run. You might have heard a version of this story before: given the large pool sizes, the 0% overround, the settlement at the exact moment the market is suspended the BSP perfectly synthesises all available public information and demand and arrives at a true fair odds. Some will attempt to prove this to you by showing you a predicted chance vs observed win rate scatterplot which shows a perfect correlation between chance implied by the BSP and a horse's true chance. Whilst I don't disagree that the BSP is a <strong>very strong</strong> estimate of a selections chance it's pretty obviously not perfect. </p>
<p>Furthermore, it presents some other tricky challenges to use in practical situations. It's not knowable perfectly before it's the exact moment of market suspension so many model or strategy builders make the mistake of unknowingly leaking it into their preplay model development or their theoretical staking calculations. Where the final number will land is actually another source of uncertainty in your processes which presents anothing forecasting / predictive modelling application as I'll explore later in this piece. I'll take you through how I'd measure the accuracy of the BSP, show you how it's traded on the exchange, and take you through a host of methods of estimating the BSP and build a custom machine learning approach that's better than each of them.</p>
<h3 id="03-the-algorithm">0.3 The Algorithm</h3>
<p>The actual logic of how Betfair arrives at the final BSP number is quite complex and for a few reasons you won't be able to perfectly replicate it at home. However, the general gist of the BSP reconciliation algorithm that is executed just as the market suspended goes something like:</p>
<ul>
<li>The algorithm combines 4 distinct groups of open bets for a given selection: <ul>
<li>Non-price-limited BSP orders on both the back and lay side (<code>market_on_close</code> orders)</li>
<li>Price-limited orders on both the back and lay side (<code>limit_on_close</code> orders)</li>
<li>All non-filled open lay orders</li>
<li>All non-filled open back orders </li>
</ul>
</li>
<li>It then combines them all together, passes a sophisticated balancing algorithm over the top of them and arrives at a single fair price for the BSP that balances the demand on either side of the ledger</li>
</ul>
<h3 id="04-this-example">0.4 This Example</h3>
<p>For this exercise we'll again take advantage of the betfair historical stream json files. The slice of Betfair markets I'll be analysing is all thoroughbred races over July 2020 - June 2021. </p>
<p>As an aside the projected BSP number you see on the betfair website isn't collected inside betfair's own internal database of orders, so any custom data request you may be able to get as a VIP won't include this number. So if you were planning to include it in any kind of projection or bet placement logic operation you were making the only way to anlayse it historically is to mine these data files. Another good reason to learn the skills to do so! </p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="10-data">1.0 Data</h2>
<p>Like the previous tutorial we won't be able to collapse the stream data down into a single row per runner because I'm interested in analysing how the projected BSP moves late in betfair markets. I'm also interested in plotting the efficiency of certain odds values at certain distinct time points leading up the the races so I need multiple records per runner.</p>
<p>Like in the previous tutorial I'll split out the selection metadata, BSP and win flag values as a separate data file to reduce the size of the data-files extracted for this analysis.</p>
<p>For the preplay prices dataset I'll:</p>
<ul>
<li>Start extraction at 2 mins before the scheduled off</li>
<li>Extract prices every 10 seconds thereafter until the market is suspended</li>
<li>I'll also extract the final market state the instant before the market is suspended</li>
</ul>
<h3 id="11-sourcing-data">1.1 Sourcing Data</h3>
<p>First you'll need to source the stream file TAR archive files. I'll be analysing 12 months of Australian thoroughbred Pro files. Ask <a href="mailto:automation@betfair.com.au">automation@betfair.com.au</a> for more info if you don't know how to do this. Once you've gotten access, download them to your computer and store them together in a folder.</p>
<h3 id="12-utility-functions">1.2 Utility functions</h3>
<p>First like always we'll need some general utility functions that you may have seen before:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># General Utility Functions</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># _________________________________</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="k">def</span> <span class="nf">split_anz_horse_market_name</span><span class="p">(</span><span class="n">market_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    <span class="n">parts</span> <span class="o">=</span> <span class="n">market_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="n">race_no</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># return example R6</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="n">race_len</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># return example 1400m</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="n">race_type</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="c1"># return example grp1, trot, pace</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    <span class="k">return</span> <span class="p">(</span><span class="n">race_no</span><span class="p">,</span> <span class="n">race_len</span><span class="p">,</span> <span class="n">race_type</span><span class="p">)</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="k">def</span> <span class="nf">load_markets</span><span class="p">(</span><span class="n">file_paths</span><span class="p">):</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">:</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">iglob</span><span class="p">(</span><span class="n">file_path</span> <span class="o">+</span> <span class="s1">&#39;**/**/*.bz2&#39;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>                <span class="n">f</span> <span class="o">=</span> <span class="n">bz2</span><span class="o">.</span><span class="n">BZ2File</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>                <span class="k">yield</span> <span class="n">f</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>                <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>            <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">file_path</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>            <span class="c1"># iterate through a tar archive</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>            <span class="k">if</span> <span class="n">ext</span> <span class="o">==</span> <span class="s1">&#39;.tar&#39;</span><span class="p">:</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>                <span class="k">with</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">TarFile</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>                    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">archive</span><span class="p">:</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>                        <span class="k">yield</span> <span class="n">bz2</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">extractfile</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>            <span class="c1"># or a zip archive</span>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>            <span class="k">elif</span> <span class="n">ext</span> <span class="o">==</span> <span class="s1">&#39;.zip&#39;</span><span class="p">:</span>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>                <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>                    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">namelist</span><span class="p">():</span>
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>                        <span class="k">yield</span> <span class="n">bz2</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="k">def</span> <span class="nf">pull_ladder</span><span class="p">(</span><span class="n">availableLadder</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
<a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>        <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>        <span class="n">price</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>        <span class="n">volume</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">availableLadder</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>            <span class="k">return</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>        
<a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a>            <span class="k">for</span> <span class="n">rung</span> <span class="ow">in</span> <span class="n">availableLadder</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">n</span><span class="p">]:</span>
<a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>                <span class="n">price</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rung</span><span class="o">.</span><span class="n">price</span><span class="p">)</span>
<a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>                <span class="n">volume</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rung</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>
<a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>            <span class="n">out</span><span class="p">[</span><span class="s2">&quot;p&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">price</span>
<a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a>            <span class="n">out</span><span class="p">[</span><span class="s2">&quot;v&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">volume</span>
<a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a>            <span class="k">return</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a>
<a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a><span class="k">def</span> <span class="nf">filter_market</span><span class="p">(</span><span class="n">market</span><span class="p">:</span> <span class="n">MarketBook</span><span class="p">)</span> <span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="nb">bool</span><span class="p">:</span> 
<a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a>
<a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a>    <span class="n">d</span> <span class="o">=</span> <span class="n">market</span><span class="o">.</span><span class="n">market_definition</span>
<a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a>
<a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a>    <span class="k">return</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">country_code</span> <span class="o">==</span> <span class="s1">&#39;AU&#39;</span> 
<a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a>        <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">market_type</span> <span class="o">==</span> <span class="s1">&#39;WIN&#39;</span> 
<a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a>        <span class="ow">and</span> <span class="p">(</span><span class="n">c</span> <span class="o">:=</span> <span class="n">split_anz_horse_market_name</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">name</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span> <span class="o">!=</span> <span class="s1">&#39;trot&#39;</span> <span class="ow">and</span> <span class="n">c</span> <span class="o">!=</span> <span class="s1">&#39;pace&#39;</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="13-selection-metadata">1.3 Selection Metadata</h3>
<p>Given that the detailed price data will have so many records we will split out the selection metadata (including the selection win outcome flag and the bsp) into it's own dataset much you would do in a relational database to manage data volumes.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">def</span> <span class="nf">final_market_book</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s2">&quot;builtins.open&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">f</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">f</span><span class="p">):</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>        <span class="n">gen</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get_generator</span><span class="p">()</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        <span class="k">for</span> <span class="n">market_books</span> <span class="ow">in</span> <span class="n">gen</span><span class="p">():</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>            <span class="c1"># Check if this market book meets our market filter ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>            <span class="k">if</span> <span class="p">((</span><span class="n">evaluate_market</span> <span class="o">:=</span> <span class="n">filter_market</span><span class="p">(</span><span class="n">market_books</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>                    <span class="k">return</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>            <span class="k">for</span> <span class="n">market_book</span> <span class="ow">in</span> <span class="n">market_books</span><span class="p">:</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>                <span class="n">last_market_book</span> <span class="o">=</span> <span class="n">market_book</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>        <span class="k">return</span><span class="p">(</span><span class="n">last_market_book</span><span class="p">)</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="k">def</span> <span class="nf">parse_final_selection_meta</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">out_file</span><span class="p">):</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">out_file</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>        <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;market_id,selection_id,venue,market_time,selection_name,win,bsp</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>        <span class="k">for</span> <span class="n">file_obj</span> <span class="ow">in</span> <span class="n">load_markets</span><span class="p">(</span><span class="nb">dir</span><span class="p">):</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>            <span class="n">stream</span> <span class="o">=</span> <span class="n">trading</span><span class="o">.</span><span class="n">streaming</span><span class="o">.</span><span class="n">create_historical_generator_stream</span><span class="p">(</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>                <span class="n">file_path</span><span class="o">=</span><span class="n">file_obj</span><span class="p">,</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>                <span class="n">listener</span><span class="o">=</span><span class="n">listener</span><span class="p">,</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>            <span class="p">)</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>            <span class="n">last_market_book</span> <span class="o">=</span> <span class="n">final_market_book</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>            <span class="k">if</span> <span class="n">last_market_book</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>                <span class="k">continue</span> 
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>            <span class="c1"># Extract Info ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>            <span class="n">runnerMeta</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>                <span class="p">{</span>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>                    <span class="s1">&#39;selection_id&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">selection_id</span><span class="p">,</span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>                    <span class="s1">&#39;selection_name&#39;</span><span class="p">:</span> <span class="nb">next</span><span class="p">((</span><span class="n">rd</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">rd</span> <span class="ow">in</span> <span class="n">last_market_book</span><span class="o">.</span><span class="n">market_definition</span><span class="o">.</span><span class="n">runners</span> <span class="k">if</span> <span class="n">rd</span><span class="o">.</span><span class="n">selection_id</span> <span class="o">==</span> <span class="n">r</span><span class="o">.</span><span class="n">selection_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">),</span>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>                    <span class="s1">&#39;selection_status&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>                    <span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;WINNER&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>                    <span class="s1">&#39;sp&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">actual_sp</span>
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>                <span class="p">}</span>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>                <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">last_market_book</span><span class="o">.</span><span class="n">runners</span> 
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a>            <span class="p">]</span>
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a>
<a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>            <span class="c1"># Return Info ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a>            <span class="k">for</span> <span class="n">runnerMeta</span> <span class="ow">in</span> <span class="n">runnerMeta</span><span class="p">:</span>
<a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a>                <span class="k">if</span> <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;selection_status&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;REMOVED&#39;</span><span class="p">:</span>
<a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a>                    <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>                        <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a>                            <span class="nb">str</span><span class="p">(</span><span class="n">last_market_book</span><span class="o">.</span><span class="n">market_id</span><span class="p">),</span>
<a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a>                            <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;selection_id&#39;</span><span class="p">],</span>
<a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>                            <span class="n">last_market_book</span><span class="o">.</span><span class="n">market_definition</span><span class="o">.</span><span class="n">venue</span><span class="p">,</span>
<a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a>                            <span class="n">last_market_book</span><span class="o">.</span><span class="n">market_definition</span><span class="o">.</span><span class="n">market_time</span><span class="p">,</span>
<a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a>                            <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;selection_name&#39;</span><span class="p">],</span>
<a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a>                            <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;win&#39;</span><span class="p">],</span>
<a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a>                            <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;sp&#39;</span><span class="p">]</span>
<a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a>                        <span class="p">)</span>
<a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a>                    <span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">selection_meta</span> <span class="o">=</span> <span class="s2">&quot;[OUTPUT PATH TO CSV FOR SELECTION METADATA]&quot;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">stream_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;[PATH TO STREAM FILES]*.tar&quot;</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1"># trading = betfairlightweight.APIClient(&quot;username&quot;, &quot;password&quot;)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># listener = StreamListener(max_latency=None)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;__ Parsing Selection Metadata ___ &quot;</span><span class="p">)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1"># parse_final_selection_meta(stream_files, selection_meta)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>
<code>__ Parsing Selection Metadata ___ 
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="14-preplay-prices-and-projections">1.4 Preplay Prices and Projections</h3>
<p>In this set of preplay prices I'm interested in many of the same fields as we've extracted in previous tutorials as well as fields relating to the current state of the BSP.</p>
<p>These objects sit under the <code>sp</code> slot within the returned <code>runner</code> object. The fields we'll extract are:</p>
<ul>
<li>The so called "near price"<ul>
<li>The near price is the projected SP value you can see on the website</li>
<li>It includes both bets already placed into the SP pools as well as open limit orders to estimate what the final BSP value will be</li>
</ul>
</li>
<li>The so called "far price"<ul>
<li>This is the same as the near price except it excludes limit orders on the exchange</li>
<li>This makes it fairly redundant value and we'll see how poor of an estimator it is a bit later</li>
</ul>
</li>
<li>The volume currently bet into the BSP back pool</li>
<li>The liability currently laid into the BSP lay pool</li>
</ul>
<p>We'll also extract the top 5 rungs of the available to back and available to lay ladders as well as the traded volume of limit bets.</p>
<p>It's worth noting that I am discarding some key information about the BSP pools that I could have extracted if I wanted to. The current SP bets are laid out in a way that I could split out <code>limit_on_close</code> as well as <code>market_on_close</code> sp bets but I've rolled everything together in SP stake on the back side and sp liability on the lay side. This is just to reduce complexity of this article but including it would increase the predictive power of the BSP model in the final step.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">def</span> <span class="nf">loop_preplay_prices</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s2">&quot;builtins.open&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">f</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">f</span><span class="p">):</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>        <span class="n">gen</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get_generator</span><span class="p">()</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>        <span class="n">marketID</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>        <span class="n">tradeVols</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>        <span class="n">time</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>        <span class="n">last_book_recorded</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>        <span class="n">prev_book</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>        <span class="k">for</span> <span class="n">market_books</span> <span class="ow">in</span> <span class="n">gen</span><span class="p">():</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>            <span class="c1"># Check if this market book meets our market filter ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>            <span class="k">if</span> <span class="p">((</span><span class="n">evaluate_market</span> <span class="o">:=</span> <span class="n">filter_market</span><span class="p">(</span><span class="n">market_books</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>                    <span class="k">break</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>            <span class="k">for</span> <span class="n">market_book</span> <span class="ow">in</span> <span class="n">market_books</span><span class="p">:</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>                <span class="c1"># Time Step Management ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>                <span class="k">if</span> <span class="n">marketID</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>                    <span class="c1"># No market initialised</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>                    <span class="n">marketID</span> <span class="o">=</span> <span class="n">market_book</span><span class="o">.</span><span class="n">market_id</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>                    <span class="n">time</span> <span class="o">=</span>  <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>                <span class="k">elif</span> <span class="n">market_book</span><span class="o">.</span><span class="n">inplay</span> <span class="ow">and</span> <span class="n">last_book_recorded</span><span class="p">:</span>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>                    <span class="k">break</span>
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>                    <span class="n">seconds_to_start</span> <span class="o">=</span> <span class="p">(</span><span class="n">market_book</span><span class="o">.</span><span class="n">market_definition</span><span class="o">.</span><span class="n">market_time</span> <span class="o">-</span> <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>                    <span class="k">if</span> <span class="n">seconds_to_start</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">120</span><span class="p">:</span>
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>                        <span class="c1"># Too early before off to start logging prices</span>
<a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>                        <span class="n">prev_book</span> <span class="o">=</span> <span class="n">market_book</span>
<a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>                        <span class="k">continue</span>
<a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a>
<a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a>                        <span class="c1"># Update data at different time steps depending on seconds to off</span>
<a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a>                        <span class="n">wait</span> <span class="o">=</span> <span class="mi">10</span>
<a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a>
<a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a>                        <span class="c1"># New Market</span>
<a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a>                        <span class="k">if</span> <span class="n">market_book</span><span class="o">.</span><span class="n">market_id</span> <span class="o">!=</span> <span class="n">marketID</span><span class="p">:</span>
<a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a>                            <span class="n">last_book_recorded</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a>                            <span class="n">marketID</span> <span class="o">=</span> <span class="n">market_book</span><span class="o">.</span><span class="n">market_id</span>
<a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a>                            <span class="n">time</span> <span class="o">=</span>  <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span>
<a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a>                            <span class="k">continue</span>
<a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a>                        <span class="c1"># (wait) seconds elapsed since last write</span>
<a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a>                        <span class="k">elif</span> <span class="p">(</span><span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span> <span class="o">-</span> <span class="n">time</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">wait</span><span class="p">:</span>
<a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a>                            <span class="n">time</span> <span class="o">=</span> <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span>
<a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a>                        <span class="c1"># if current marketbook is inplay want to record the previous market book as it&#39;s the last preplay marketbook</span>
<a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a>                        <span class="k">elif</span> <span class="n">market_book</span><span class="o">.</span><span class="n">inplay</span><span class="p">:</span>
<a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a>                            <span class="n">last_book_recorded</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-4-55" name="__codelineno-4-55" href="#__codelineno-4-55"></a>                            <span class="n">market_book</span> <span class="o">=</span> <span class="n">prev_book</span>
<a id="__codelineno-4-56" name="__codelineno-4-56" href="#__codelineno-4-56"></a>                        <span class="c1"># fewer than (wait) seconds elapsed continue to next loop</span>
<a id="__codelineno-4-57" name="__codelineno-4-57" href="#__codelineno-4-57"></a>                        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-58" name="__codelineno-4-58" href="#__codelineno-4-58"></a>                            <span class="n">prev_book</span> <span class="o">=</span> <span class="n">market_book</span>
<a id="__codelineno-4-59" name="__codelineno-4-59" href="#__codelineno-4-59"></a>                            <span class="k">continue</span>
<a id="__codelineno-4-60" name="__codelineno-4-60" href="#__codelineno-4-60"></a>
<a id="__codelineno-4-61" name="__codelineno-4-61" href="#__codelineno-4-61"></a>                <span class="c1"># Execute Data Logging ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-4-62" name="__codelineno-4-62" href="#__codelineno-4-62"></a>                <span class="k">for</span> <span class="n">runner</span> <span class="ow">in</span> <span class="n">market_book</span><span class="o">.</span><span class="n">runners</span><span class="p">:</span>
<a id="__codelineno-4-63" name="__codelineno-4-63" href="#__codelineno-4-63"></a>
<a id="__codelineno-4-64" name="__codelineno-4-64" href="#__codelineno-4-64"></a>                    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-4-65" name="__codelineno-4-65" href="#__codelineno-4-65"></a>                        <span class="n">atb_ladder</span> <span class="o">=</span> <span class="n">pull_ladder</span><span class="p">(</span><span class="n">runner</span><span class="o">.</span><span class="n">ex</span><span class="o">.</span><span class="n">available_to_back</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-4-66" name="__codelineno-4-66" href="#__codelineno-4-66"></a>                        <span class="n">atl_ladder</span> <span class="o">=</span> <span class="n">pull_ladder</span><span class="p">(</span><span class="n">runner</span><span class="o">.</span><span class="n">ex</span><span class="o">.</span><span class="n">available_to_lay</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-4-67" name="__codelineno-4-67" href="#__codelineno-4-67"></a>                    <span class="k">except</span><span class="p">:</span>
<a id="__codelineno-4-68" name="__codelineno-4-68" href="#__codelineno-4-68"></a>                        <span class="n">atb_ladder</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-4-69" name="__codelineno-4-69" href="#__codelineno-4-69"></a>                        <span class="n">atl_ladder</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-4-70" name="__codelineno-4-70" href="#__codelineno-4-70"></a>
<a id="__codelineno-4-71" name="__codelineno-4-71" href="#__codelineno-4-71"></a>                    <span class="n">limitTradedVol</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">rung</span><span class="o">.</span><span class="n">size</span> <span class="k">for</span> <span class="n">rung</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">ex</span><span class="o">.</span><span class="n">traded_volume</span><span class="p">])</span>
<a id="__codelineno-4-72" name="__codelineno-4-72" href="#__codelineno-4-72"></a>
<a id="__codelineno-4-73" name="__codelineno-4-73" href="#__codelineno-4-73"></a>                    <span class="n">o</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span>
<a id="__codelineno-4-74" name="__codelineno-4-74" href="#__codelineno-4-74"></a>                        <span class="p">(</span>
<a id="__codelineno-4-75" name="__codelineno-4-75" href="#__codelineno-4-75"></a>                            <span class="n">market_book</span><span class="o">.</span><span class="n">market_id</span><span class="p">,</span>
<a id="__codelineno-4-76" name="__codelineno-4-76" href="#__codelineno-4-76"></a>                            <span class="n">runner</span><span class="o">.</span><span class="n">selection_id</span><span class="p">,</span>
<a id="__codelineno-4-77" name="__codelineno-4-77" href="#__codelineno-4-77"></a>                            <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span><span class="p">,</span>
<a id="__codelineno-4-78" name="__codelineno-4-78" href="#__codelineno-4-78"></a>                            <span class="nb">int</span><span class="p">(</span><span class="n">limitTradedVol</span><span class="p">),</span>
<a id="__codelineno-4-79" name="__codelineno-4-79" href="#__codelineno-4-79"></a>                            <span class="c1"># SP Fields</span>
<a id="__codelineno-4-80" name="__codelineno-4-80" href="#__codelineno-4-80"></a>                            <span class="n">runner</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">near_price</span><span class="p">,</span>
<a id="__codelineno-4-81" name="__codelineno-4-81" href="#__codelineno-4-81"></a>                            <span class="n">runner</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">far_price</span><span class="p">,</span>
<a id="__codelineno-4-82" name="__codelineno-4-82" href="#__codelineno-4-82"></a>                            <span class="nb">int</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">ps</span><span class="o">.</span><span class="n">size</span> <span class="k">for</span> <span class="n">ps</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">back_stake_taken</span><span class="p">])),</span>
<a id="__codelineno-4-83" name="__codelineno-4-83" href="#__codelineno-4-83"></a>                            <span class="nb">int</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">ps</span><span class="o">.</span><span class="n">size</span> <span class="k">for</span> <span class="n">ps</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">lay_liability_taken</span><span class="p">])),</span>
<a id="__codelineno-4-84" name="__codelineno-4-84" href="#__codelineno-4-84"></a>                            <span class="c1"># Limit bets available</span>
<a id="__codelineno-4-85" name="__codelineno-4-85" href="#__codelineno-4-85"></a>                            <span class="nb">str</span><span class="p">(</span><span class="n">atb_ladder</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span> 
<a id="__codelineno-4-86" name="__codelineno-4-86" href="#__codelineno-4-86"></a>                            <span class="nb">str</span><span class="p">(</span><span class="n">atl_ladder</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<a id="__codelineno-4-87" name="__codelineno-4-87" href="#__codelineno-4-87"></a>                        <span class="p">)</span>
<a id="__codelineno-4-88" name="__codelineno-4-88" href="#__codelineno-4-88"></a>                    <span class="p">)</span>
<a id="__codelineno-4-89" name="__codelineno-4-89" href="#__codelineno-4-89"></a>
<a id="__codelineno-4-90" name="__codelineno-4-90" href="#__codelineno-4-90"></a>                <span class="n">prev_book</span> <span class="o">=</span> <span class="n">market_book</span>
<a id="__codelineno-4-91" name="__codelineno-4-91" href="#__codelineno-4-91"></a>
<a id="__codelineno-4-92" name="__codelineno-4-92" href="#__codelineno-4-92"></a><span class="k">def</span> <span class="nf">parse_preplay_prices</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">out_file</span><span class="p">):</span>
<a id="__codelineno-4-93" name="__codelineno-4-93" href="#__codelineno-4-93"></a>
<a id="__codelineno-4-94" name="__codelineno-4-94" href="#__codelineno-4-94"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">out_file</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
<a id="__codelineno-4-95" name="__codelineno-4-95" href="#__codelineno-4-95"></a>
<a id="__codelineno-4-96" name="__codelineno-4-96" href="#__codelineno-4-96"></a>        <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span>
<a id="__codelineno-4-97" name="__codelineno-4-97" href="#__codelineno-4-97"></a>            <span class="n">output</span><span class="p">,</span> 
<a id="__codelineno-4-98" name="__codelineno-4-98" href="#__codelineno-4-98"></a>            <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span>
<a id="__codelineno-4-99" name="__codelineno-4-99" href="#__codelineno-4-99"></a>            <span class="n">lineterminator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span><span class="p">,</span>
<a id="__codelineno-4-100" name="__codelineno-4-100" href="#__codelineno-4-100"></a>            <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_ALL</span>
<a id="__codelineno-4-101" name="__codelineno-4-101" href="#__codelineno-4-101"></a>        <span class="p">)</span>
<a id="__codelineno-4-102" name="__codelineno-4-102" href="#__codelineno-4-102"></a>        <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">((</span><span class="s2">&quot;market_id&quot;</span><span class="p">,</span><span class="s2">&quot;selection_id&quot;</span><span class="p">,</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;traded_volume&quot;</span><span class="p">,</span><span class="s2">&quot;near_price&quot;</span><span class="p">,</span><span class="s2">&quot;far_price&quot;</span><span class="p">,</span><span class="s2">&quot;bsp_back_pool_stake&quot;</span><span class="p">,</span><span class="s2">&quot;bsp_lay_pool_liability&quot;</span><span class="p">,</span><span class="s2">&quot;atb_ladder&quot;</span><span class="p">,</span><span class="s1">&#39;atl_ladder&#39;</span><span class="p">))</span>
<a id="__codelineno-4-103" name="__codelineno-4-103" href="#__codelineno-4-103"></a>
<a id="__codelineno-4-104" name="__codelineno-4-104" href="#__codelineno-4-104"></a>        <span class="k">for</span> <span class="n">file_obj</span> <span class="ow">in</span> <span class="n">load_markets</span><span class="p">(</span><span class="nb">dir</span><span class="p">):</span>
<a id="__codelineno-4-105" name="__codelineno-4-105" href="#__codelineno-4-105"></a>
<a id="__codelineno-4-106" name="__codelineno-4-106" href="#__codelineno-4-106"></a>            <span class="n">stream</span> <span class="o">=</span> <span class="n">trading</span><span class="o">.</span><span class="n">streaming</span><span class="o">.</span><span class="n">create_historical_generator_stream</span><span class="p">(</span>
<a id="__codelineno-4-107" name="__codelineno-4-107" href="#__codelineno-4-107"></a>                <span class="n">file_path</span><span class="o">=</span><span class="n">file_obj</span><span class="p">,</span>
<a id="__codelineno-4-108" name="__codelineno-4-108" href="#__codelineno-4-108"></a>                <span class="n">listener</span><span class="o">=</span><span class="n">listener</span><span class="p">,</span>
<a id="__codelineno-4-109" name="__codelineno-4-109" href="#__codelineno-4-109"></a>            <span class="p">)</span>
<a id="__codelineno-4-110" name="__codelineno-4-110" href="#__codelineno-4-110"></a>
<a id="__codelineno-4-111" name="__codelineno-4-111" href="#__codelineno-4-111"></a>            <span class="n">loop_preplay_prices</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">price</span> <span class="o">=</span> <span class="s2">&quot;[OUTPUT PATH TO CSV FOR SELECTION METADATA]&quot;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">stream_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;[PATH TO STREAM FILES]*.tar&quot;</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># trading = betfairlightweight.APIClient(&quot;username&quot;, &quot;password&quot;)</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># listener = StreamListener(max_latency=None)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;__ Parsing Selection Prices ___ &quot;</span><span class="p">)</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1"># parse_final_selection_meta(stream_files, price)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>
<code>__ Parsing Selection Prices ___ 
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="20-analysis">2.0 Analysis</h2>
<p>First step let's boot up the datasets we extracted in the previous steps and take a look at what we've managed to extract from the raw stream files.</p>
<h3 id="21-load-inspect">2.1 Load &amp; Inspect</h3>
<p>First we have the high-level selection metadata as we have already seen in other tutorials</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">selection</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;[PATH TO YOUR SELECTION METADATA FILE]&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;market_id&#39;</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">:</span> <span class="nb">object</span><span class="p">},</span> <span class="n">parse_dates</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;market_time&#39;</span><span class="p">])</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">selection</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>market_id</th>
<th>selection_id</th>
<th>venue</th>
<th>market_time</th>
<th>selection_name</th>
<th>win</th>
<th>bsp</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>1.179845158</td>
<td>23493550</td>
<td>Cowra</td>
<td>2021-03-01 04:15:00</td>
<td>1. Larmour</td>
<td>0</td>
<td>6.20</td>
</tr>
<tr>
<th>1</th>
<td>1.179845158</td>
<td>16374800</td>
<td>Cowra</td>
<td>2021-03-01 04:15:00</td>
<td>3. Careering Away</td>
<td>1</td>
<td>3.60</td>
</tr>
<tr>
<th>2</th>
<td>1.179845158</td>
<td>19740699</td>
<td>Cowra</td>
<td>2021-03-01 04:15:00</td>
<td>4. Bells N Bows</td>
<td>0</td>
<td>6.62</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's load the prices file. We'll apply some extra logic to parse the ladder columns into dictionaries and also remove the first odds record per group as it's the first record as the market was instantiated.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">prices</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    <span class="s2">&quot;[PATH TO YOUR PRICES FILE]&quot;</span><span class="p">,</span> 
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_ALL</span><span class="p">,</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;market_id&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="p">)</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c1"># Parse ladder columns</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;atb_ladder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;atb_ladder&#39;</span><span class="p">]]</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;atl_ladder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;atl_ladder&#39;</span><span class="p">]]</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="c1"># Drop the first row within each group</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="n">prices</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">],</span><span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="n">prices</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>market_id</th>
<th>selection_id</th>
<th>time</th>
<th>traded_volume</th>
<th>near_price</th>
<th>far_price</th>
<th>bsp_back_pool_stake</th>
<th>bsp_lay_pool_liability</th>
<th>atb_ladder</th>
<th>atl_ladder</th>
</tr>
</thead>
<tbody>
<tr>
<th>21</th>
<td>1.179845158</td>
<td>23493550</td>
<td>2021-03-01 04:13:00.058</td>
<td>2465</td>
<td>5.93</td>
<td>3.17</td>
<td>113</td>
<td>238</td>
<td>{'p': [6.2, 6, 5.9, 5.8, 5.7], 'v': [14.63, 13...</td>
<td>{'p': [6.6, 6.8, 7, 7.2, 7.4], 'v': [22.86, 12...</td>
</tr>
<tr>
<th>22</th>
<td>1.179845158</td>
<td>16374800</td>
<td>2021-03-01 04:13:00.058</td>
<td>5046</td>
<td>3.35</td>
<td>1.70</td>
<td>449</td>
<td>300</td>
<td>{'p': [3.65, 3.6, 3.55, 3.5, 3.45], 'v': [0.45...</td>
<td>{'p': [3.75, 3.8, 3.9, 4.1, 4.3], 'v': [5.14, ...</td>
</tr>
<tr>
<th>23</th>
<td>1.179845158</td>
<td>19740699</td>
<td>2021-03-01 04:13:00.058</td>
<td>1978</td>
<td>6.39</td>
<td>3.25</td>
<td>154</td>
<td>251</td>
<td>{'p': [6, 5.9, 5.8, 5.7, 5.6], 'v': [4.71, 89....</td>
<td>{'p': [6.4, 6.6, 6.8, 7, 7.2], 'v': [30.24, 2....</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="sa">f</span><span class="s1">&#39;The shape of the prices data file is </span><span class="si">{</span><span class="n">prices</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> rows and </span><span class="si">{</span><span class="n">prices</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1"> columns&#39;</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>'The shape of the prices data file is 3937805 rows and 10 columns'</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Let&#39;s have a look at the prices datafile for a distinct market and selection</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">prices</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;market_id == &quot;1.183995724&quot; and selection_id == &quot;22832649&quot;&#39;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>market_id</th>
<th>selection_id</th>
<th>time</th>
<th>traded_volume</th>
<th>near_price</th>
<th>far_price</th>
<th>bsp_back_pool_stake</th>
<th>bsp_lay_pool_liability</th>
<th>atb_ladder</th>
<th>atl_ladder</th>
</tr>
</thead>
<tbody>
<tr>
<th>2762714</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:38:00.062</td>
<td>1894</td>
<td>8.60</td>
<td>7.69</td>
<td>27</td>
<td>184</td>
<td>{'p': [8, 7.8, 7.6, 7.4, 7.2], 'v': [31.23, 37...</td>
<td>{'p': [8.4, 8.6, 8.8, 9, 9.2], 'v': [63.98, 14...</td>
</tr>
<tr>
<th>2762724</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:38:10.158</td>
<td>2082</td>
<td>8.60</td>
<td>7.69</td>
<td>27</td>
<td>184</td>
<td>{'p': [8, 7.8, 7.6, 7.4, 7.2], 'v': [25.54, 49...</td>
<td>{'p': [8.2, 8.4, 8.6, 8.8, 9], 'v': [37.63, 68...</td>
</tr>
<tr>
<th>2762734</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:38:20.159</td>
<td>2094</td>
<td>8.00</td>
<td>7.69</td>
<td>27</td>
<td>184</td>
<td>{'p': [8, 7.8, 7.6, 7.4, 7.2], 'v': [94.52, 49...</td>
<td>{'p': [8.2, 8.4, 8.6, 8.8, 9], 'v': [37.63, 56...</td>
</tr>
<tr>
<th>2762744</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:38:30.182</td>
<td>2229</td>
<td>8.00</td>
<td>7.69</td>
<td>27</td>
<td>190</td>
<td>{'p': [8, 7.8, 7.6, 7.4, 7.2], 'v': [62.88, 49...</td>
<td>{'p': [8.2, 8.4, 8.6, 8.8, 9], 'v': [22.99, 56...</td>
</tr>
<tr>
<th>2762754</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:38:40.221</td>
<td>2240</td>
<td>8.00</td>
<td>7.69</td>
<td>136</td>
<td>205</td>
<td>{'p': [8.2, 8, 7.8, 7.6, 7.4], 'v': [13.92, 12...</td>
<td>{'p': [8.4, 8.6, 8.8, 9, 9.2], 'v': [53.28, 41...</td>
</tr>
<tr>
<th>2762764</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:38:50.923</td>
<td>2294</td>
<td>8.00</td>
<td>7.69</td>
<td>136</td>
<td>205</td>
<td>{'p': [8, 7.8, 7.6, 7.4, 7.2], 'v': [129.4, 53...</td>
<td>{'p': [8.4, 8.6, 8.8, 9, 9.2], 'v': [67.76, 41...</td>
</tr>
<tr>
<th>2762774</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:39:00.955</td>
<td>2297</td>
<td>8.00</td>
<td>7.69</td>
<td>137</td>
<td>214</td>
<td>{'p': [8.2, 8, 7.8, 7.6, 7.4], 'v': [26.93, 13...</td>
<td>{'p': [8.4, 8.6, 8.8, 9, 9.2], 'v': [53.28, 41...</td>
</tr>
<tr>
<th>2762784</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:39:10.962</td>
<td>2417</td>
<td>8.00</td>
<td>7.69</td>
<td>137</td>
<td>229</td>
<td>{'p': [8.2, 8, 7.8, 7.6, 7.4], 'v': [29.2, 146...</td>
<td>{'p': [8.4, 8.6, 8.8, 9, 9.2], 'v': [53.26, 23...</td>
</tr>
<tr>
<th>2762794</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:39:20.966</td>
<td>2677</td>
<td>8.18</td>
<td>2.68</td>
<td>212</td>
<td>243</td>
<td>{'p': [8.4, 8.2, 8, 7.8, 7.6], 'v': [19.2, 89....</td>
<td>{'p': [8.6, 8.8, 9, 9.2, 9.4], 'v': [69.9, 16....</td>
</tr>
<tr>
<th>2762804</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:39:30.971</td>
<td>2795</td>
<td>8.18</td>
<td>2.68</td>
<td>212</td>
<td>243</td>
<td>{'p': [8.2, 8, 7.8, 7.6, 7.4], 'v': [79.45, 82...</td>
<td>{'p': [8.4, 8.6, 8.8, 9, 9.2], 'v': [59.89, 65...</td>
</tr>
<tr>
<th>2762814</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:39:41.018</td>
<td>3039</td>
<td>8.18</td>
<td>2.68</td>
<td>245</td>
<td>324</td>
<td>{'p': [8.4, 8.2, 8, 7.8, 7.6], 'v': [37.01, 12...</td>
<td>{'p': [8.6, 8.8, 9, 9.2, 9.4], 'v': [73.69, 37...</td>
</tr>
<tr>
<th>2762824</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:39:51.119</td>
<td>3290</td>
<td>8.18</td>
<td>2.68</td>
<td>324</td>
<td>459</td>
<td>{'p': [8.2, 8, 7.8, 7.6, 7.4], 'v': [63.46, 94...</td>
<td>{'p': [8.6, 8.8, 9, 9.2, 9.4], 'v': [19.59, 18...</td>
</tr>
<tr>
<th>2762834</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:40:01.123</td>
<td>3488</td>
<td>8.18</td>
<td>2.68</td>
<td>324</td>
<td>748</td>
<td>{'p': [8.4, 8.2, 8, 7.8, 7.6], 'v': [32.81, 97...</td>
<td>{'p': [8.6, 8.8, 9, 9.2, 9.4], 'v': [0.96, 15....</td>
</tr>
<tr>
<th>2762844</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:40:11.136</td>
<td>3831</td>
<td>8.18</td>
<td>2.68</td>
<td>447</td>
<td>2285</td>
<td>{'p': [8.2, 8, 7.8, 7.6, 7.4], 'v': [46.15, 99...</td>
<td>{'p': [8.4, 8.6, 8.8, 9, 9.2], 'v': [20.11, 47...</td>
</tr>
<tr>
<th>2762854</th>
<td>1.183995724</td>
<td>22832649</td>
<td>2021-06-01 01:40:18.201</td>
<td>3950</td>
<td>8.04</td>
<td>7.60</td>
<td>327</td>
<td>2469</td>
<td>{'p': [6.8, 6.4, 5.9, 5.1, 4.4], 'v': [4.01, 3...</td>
<td>{'p': [10, 11, 11.5, 15, 15.5], 'v': [6.05, 0....</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see some expected behaviour as we zoom in on a particular selection</p>
<ul>
<li>The traded volume increases on this selection as we get closer to the jump</li>
<li>The projected BSP (the <code>near_price</code> column) stays constant for a number of increments as its update is cached for 60 seconds at a time</li>
<li>The sizes in the BSP pools also increases as we get closer to the jump</li>
<li>The prices offered and traded closer to the jump are closer to the BSP than those at the start of the 2 minute period</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="22-transform-and-assemble">2.2 Transform and Assemble</h3>
<p>We have our 2 core datasets, but we'd prefer to work with one now. We'd also like to add some key columns that will be reused throughout our analysis so we'll add those now too.</p>
<h4 id="221-mid-points">2.2.1 Mid points</h4>
<p>The first semi-interesting thing we'll do in this analysis is add selection mid-points to our dataset. Eventually we're going to be interested in estimating the BSP and measuring the efficiency of certain prices at various points leading up to the race. </p>
<p>Betfair markets work like all markets with bids and spreads. The market equilibrium forms around the best price offered on either side of the market to back or to lay. These top prices each have some inherent advantage built into it for the offerer. For example in early markets the best offers on either side of the market might be really wide (say 1.80 as a best back and 2.50 as a best lay). Given the price discovery process is still immature each bidder gets a large premium, backed into their offer price, which compensates them for providing betting opportunities with little to no information provided from other market participants. This spread will naturally get tighter and tighter as the market matures and more participants seek to get volume down and must be more and more competitive. But what's the price "equilibrium" in each case?</p>
<p>Well it's up to you but I'll provide you two ways of finding the central mid-point of a bid-ask spread on betfair markets. The problem we're solving for here is the non-linearity of prices in odds space. We have some intuition for this: when we see a market spread of 10-100 in early trading we have an understanding that the true midpoint of this market is somewhere around 25-35 not the 55 you'd get if you simply took the (arithmetic) mean of those two numbers.</p>
<p>Two techniques for accounting for that non-linearity are as follows.</p>
<p><strong>Ladder Midpoint</strong></p>
<p>The ladder midpoint method takes advantage of the fact that the Betfair price ladder itself accounts for the nonlinearity of prices in odds space. The method calculated the difference in number of rungs on the Betfair ladder, halves it, and shifts the best back or lay price that number of rungs towards the centre. This will generally provide a much better idea of the market midpoint than a simple arithmetic mean of the two prices.</p>
<p><strong>Geometric Mean</strong></p>
<p>Unfortunately the ladder method is a little computationally expensive. A good approximation for this approach is to take the geometric mean of the best back and best lay values. The geometric mean is a special kind of mean that you may have never used before that is more appropriate for purposes like this. It is calculated like: <code>sqrt(x1 * x2 * ...)</code>. This number will also provide a much better estimate of the market midpoint than the simple arithmetic mean.</p>
<p>The latter calculation is trivial. The former requires a suite of <a href="https://github.com/betfair-down-under/ticks">Betfair tick arithmetic functions</a> that I'll put below. It may seem like overkill for this exercise (and it is) but hopefully these functions might be of use to you for other purposes.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Define the betfair tick ladder</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">def</span> <span class="nf">bfTickLadder</span><span class="p">():</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="n">tickIncrements</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>        <span class="mf">1.0</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>        <span class="mf">2.0</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>        <span class="mf">3.0</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>        <span class="mf">4.0</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>        <span class="mf">6.0</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>        <span class="mf">10.0</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>        <span class="mf">20.0</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>        <span class="mf">30.0</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>        <span class="mf">50.0</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>        <span class="mf">100.0</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>        <span class="mf">1000.0</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>    <span class="p">}</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>    <span class="n">ladder</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tickIncrements</span><span class="p">):</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>        <span class="n">increment</span> <span class="o">=</span> <span class="n">tickIncrements</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>        <span class="k">if</span> <span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">tickIncrements</span><span class="p">):</span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>            <span class="n">ladder</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>            <span class="n">key1</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">tickIncrements</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>            <span class="n">key2</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">tickIncrements</span><span class="p">][</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>            <span class="n">steps</span> <span class="o">=</span> <span class="p">(</span><span class="n">key2</span> <span class="o">-</span> <span class="n">key1</span><span class="p">)</span> <span class="o">/</span> <span class="n">increment</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">steps</span><span class="p">)):</span>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a>                <span class="n">ladder</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">key</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">increment</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a>    <span class="k">return</span><span class="p">(</span><span class="n">ladder</span><span class="p">)</span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="n">bfticks</span> <span class="o">=</span> <span class="n">bfTickLadder</span><span class="p">()</span>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="c1"># Round a decimal to the betfair tick value below</span>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="k">def</span> <span class="nf">bfTickFloor</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">includeIndex</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a>    <span class="k">if</span> <span class="s1">&#39;bfticks&#39;</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a>        <span class="k">global</span> <span class="n">bfticks</span>
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a>        <span class="n">bfticks</span> <span class="o">=</span> <span class="n">bfTickLadder</span><span class="p">()</span>
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a>
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a>    <span class="n">ind</span> <span class="o">=</span> <span class="p">[</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span><span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bfticks</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">=</span><span class="n">price</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a>    <span class="k">if</span> <span class="n">includeIndex</span><span class="p">:</span>
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a>        <span class="k">if</span> <span class="n">bfticks</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span><span class="o">==</span><span class="n">price</span><span class="p">:</span>
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a>            <span class="k">return</span><span class="p">((</span><span class="n">ind</span><span class="p">,</span> <span class="n">price</span><span class="p">))</span>
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a>            <span class="k">return</span><span class="p">((</span><span class="n">ind</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">bfticks</span><span class="p">[</span><span class="n">ind</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a>        <span class="k">if</span> <span class="n">bfticks</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span><span class="o">==</span><span class="n">price</span><span class="p">:</span>
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a>            <span class="k">return</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a>            <span class="k">return</span><span class="p">(</span><span class="n">bfticks</span><span class="p">[</span><span class="n">ind</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a>
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a><span class="c1"># Calculate the numder of ticks between two tick values</span>
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a><span class="k">def</span> <span class="nf">bfTickDelta</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a>
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a>    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a>        <span class="k">return</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a>
<a id="__codelineno-10-64" name="__codelineno-10-64" href="#__codelineno-10-64"></a>    <span class="n">x</span> <span class="o">=</span> <span class="n">bfTickFloor</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">includeIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-10-65" name="__codelineno-10-65" href="#__codelineno-10-65"></a>    <span class="n">y</span> <span class="o">=</span> <span class="n">bfTickFloor</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">includeIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-10-66" name="__codelineno-10-66" href="#__codelineno-10-66"></a>    <span class="k">return</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-10-67" name="__codelineno-10-67" href="#__codelineno-10-67"></a>
<a id="__codelineno-10-68" name="__codelineno-10-68" href="#__codelineno-10-68"></a><span class="k">def</span> <span class="nf">bfTickShift</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">rungs</span><span class="p">):</span>
<a id="__codelineno-10-69" name="__codelineno-10-69" href="#__codelineno-10-69"></a>
<a id="__codelineno-10-70" name="__codelineno-10-70" href="#__codelineno-10-70"></a>    <span class="k">if</span> <span class="s1">&#39;bfticks&#39;</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
<a id="__codelineno-10-71" name="__codelineno-10-71" href="#__codelineno-10-71"></a>        <span class="k">global</span> <span class="n">bfticks</span>
<a id="__codelineno-10-72" name="__codelineno-10-72" href="#__codelineno-10-72"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-10-73" name="__codelineno-10-73" href="#__codelineno-10-73"></a>        <span class="n">bfticks</span> <span class="o">=</span> <span class="n">bfTickLadder</span><span class="p">()</span>
<a id="__codelineno-10-74" name="__codelineno-10-74" href="#__codelineno-10-74"></a>
<a id="__codelineno-10-75" name="__codelineno-10-75" href="#__codelineno-10-75"></a>    <span class="n">flr</span> <span class="o">=</span> <span class="n">bfTickFloor</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">includeIndex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-10-76" name="__codelineno-10-76" href="#__codelineno-10-76"></a>
<a id="__codelineno-10-77" name="__codelineno-10-77" href="#__codelineno-10-77"></a>    <span class="k">return</span><span class="p">(</span><span class="n">bfticks</span><span class="p">[</span><span class="n">flr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">rungs</span><span class="p">])</span>
<a id="__codelineno-10-78" name="__codelineno-10-78" href="#__codelineno-10-78"></a>
<a id="__codelineno-10-79" name="__codelineno-10-79" href="#__codelineno-10-79"></a>
<a id="__codelineno-10-80" name="__codelineno-10-80" href="#__codelineno-10-80"></a><span class="k">def</span> <span class="nf">bfLadderMidPoint</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-10-81" name="__codelineno-10-81" href="#__codelineno-10-81"></a>
<a id="__codelineno-10-82" name="__codelineno-10-82" href="#__codelineno-10-82"></a>    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-10-83" name="__codelineno-10-83" href="#__codelineno-10-83"></a>        <span class="k">return</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<a id="__codelineno-10-84" name="__codelineno-10-84" href="#__codelineno-10-84"></a>
<a id="__codelineno-10-85" name="__codelineno-10-85" href="#__codelineno-10-85"></a>    <span class="n">delta</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">bfTickDelta</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
<a id="__codelineno-10-86" name="__codelineno-10-86" href="#__codelineno-10-86"></a>
<a id="__codelineno-10-87" name="__codelineno-10-87" href="#__codelineno-10-87"></a>    <span class="k">if</span> <span class="n">delta</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-10-88" name="__codelineno-10-88" href="#__codelineno-10-88"></a>        <span class="k">return</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<a id="__codelineno-10-89" name="__codelineno-10-89" href="#__codelineno-10-89"></a>    <span class="k">elif</span> <span class="n">delta</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-10-90" name="__codelineno-10-90" href="#__codelineno-10-90"></a>        <span class="k">return</span><span class="p">(</span><span class="n">bfTickShift</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">delta</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)))</span>
<a id="__codelineno-10-91" name="__codelineno-10-91" href="#__codelineno-10-91"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-10-92" name="__codelineno-10-92" href="#__codelineno-10-92"></a>        <span class="k">return</span><span class="p">(</span><span class="n">bfTickShift</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">delta</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)))</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Let&#39;s test a midpoint using the ladder mid point method</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">bfLadderMidPoint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>25.0</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># And for illustrative purposes let&#39;s calculate the geomtric mean of these values</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>31.622776601683793</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's put this all together while stitching together our two core datasets.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Join and augment</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    <span class="n">selection</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">prices</span><span class="p">,</span> <span class="n">on</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">])</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">sbsj</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;market_time&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">back_best</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;atb_ladder&#39;</span><span class="p">]])</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">lay_best</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;atl_ladder&#39;</span><span class="p">]])</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">geometric_mid_point</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;back_best&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;lay_best&#39;</span><span class="p">])),</span> <span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">ladder_mid_point</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">bfLadderMidPoint</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">back_best</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">lay_best</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    <span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="p">)</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>market_id</th>
<th>selection_id</th>
<th>venue</th>
<th>market_time</th>
<th>selection_name</th>
<th>win</th>
<th>bsp</th>
<th>time</th>
<th>traded_volume</th>
<th>near_price</th>
<th>far_price</th>
<th>bsp_back_pool_stake</th>
<th>bsp_lay_pool_liability</th>
<th>atb_ladder</th>
<th>atl_ladder</th>
<th>sbsj</th>
<th>back_best</th>
<th>lay_best</th>
<th>geometric_mid_point</th>
<th>ladder_mid_point</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>1.179845158</td>
<td>23493550</td>
<td>Cowra</td>
<td>2021-03-01 04:15:00</td>
<td>1. Larmour</td>
<td>0</td>
<td>6.2</td>
<td>2021-03-01 04:13:00.058</td>
<td>2465</td>
<td>5.93</td>
<td>3.17</td>
<td>113</td>
<td>238</td>
<td>{'p': [6.2, 6, 5.9, 5.8, 5.7], 'v': [14.63, 13...</td>
<td>{'p': [6.6, 6.8, 7, 7.2, 7.4], 'v': [22.86, 12...</td>
<td>120.0</td>
<td>6.2</td>
<td>6.6</td>
<td>6.397</td>
<td>6.4</td>
</tr>
<tr>
<th>1</th>
<td>1.179845158</td>
<td>23493550</td>
<td>Cowra</td>
<td>2021-03-01 04:15:00</td>
<td>1. Larmour</td>
<td>0</td>
<td>6.2</td>
<td>2021-03-01 04:13:10.077</td>
<td>2848</td>
<td>5.93</td>
<td>3.17</td>
<td>113</td>
<td>238</td>
<td>{'p': [6, 5.9, 5.8, 5.7, 5.6], 'v': [59.93, 36...</td>
<td>{'p': [6.4, 6.6, 6.8, 7, 7.2], 'v': [28.79, 50...</td>
<td>110.0</td>
<td>6.0</td>
<td>6.4</td>
<td>6.197</td>
<td>6.2</td>
</tr>
<tr>
<th>2</th>
<td>1.179845158</td>
<td>23493550</td>
<td>Cowra</td>
<td>2021-03-01 04:15:00</td>
<td>1. Larmour</td>
<td>0</td>
<td>6.2</td>
<td>2021-03-01 04:13:20.161</td>
<td>2866</td>
<td>5.93</td>
<td>3.17</td>
<td>113</td>
<td>238</td>
<td>{'p': [6.2, 6, 5.9, 5.8, 5.7], 'v': [22.91, 88...</td>
<td>{'p': [6.6, 6.8, 7, 7.2, 7.4], 'v': [55.19, 22...</td>
<td>100.0</td>
<td>6.2</td>
<td>6.6</td>
<td>6.397</td>
<td>6.4</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="23-analysing-the-bsp">2.3 Analysing the BSP</h3>
<p>Before we embark on our predictive exercise let's analyse the BSP to get a feel for it as an entity.</p>
<h4 id="231-volumes">2.3.1 Volumes</h4>
<p>Ever wondered how much volume is traded on the BSP? How does it compare to limit bets? Well with our parsed stream data we can answer those questions! Now the BSP volume will be the bigger of the BSP back stake and the lay stake (which you can infer by the final BSP and the total lay liability).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Volume Traded</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="c1"># _________________________</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c1"># Extract the final time slice of data which includes the total preplay volumes traded across limit and BSP poools</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="n">volumeDf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">],</span><span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span>  <span class="s1">&#39;traded_volume&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_back_pool_stake&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_lay_pool_liability&#39;</span><span class="p">]]</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="c1"># Infer the biggest of the two BSP stakes</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="n">volumeDf</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>    <span class="n">volumeDf</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">lay_stake</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp_lay_pool_liability&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">bsp_stake</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[[</span><span class="s1">&#39;lay_stake&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_back_pool_stake&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="p">)</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="p">(</span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>    <span class="n">volumeDf</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;traded_volume&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_stake&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">})</span>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;traded_volume&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_stake&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>traded_volume    98025.705018
bsp_stake         7287.524766
dtype: float64</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So in an average thoroughbred market there's about 98k traded limit volume and 7,300 BSP traded stake. So approximately 7% of thoroughbred volume is traded at the BSP at least for our sample of thoroughbred races.</p>
<h4 id="232-efficiency">2.3.2 Efficiency?</h4>
<p>Now you may have heard this story before: <strong>you can't beat the BSP it's too efficient!</strong> I'm not sure people really have a firm idea about what they're talking about when they say this.</p>
<p>Typically what you'll see in a discussion about efficiency is the predicted vs observed scatterplot. Let's see if we can reproduce this chart.</p>
<p>First let's assemble a dataframe that we can use for this chart as well as others. What we'll do is we'll extract the BSP and a price value at 5 different slices before the race starts. We could chose any price point (we'll analyse the difference between them in a subsequent step) but for this section I'm going to take the preplay market estimate as the geometric market midpoint (you'll have to trust me for now that this is a sensible decision).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Extract the geomtric market mid point at time slices: 120, 90, 60, 30, and 0 seconds from the scheduled off</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">preplay</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sbsj</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">120</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">])][[</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;win&#39;</span><span class="p">,</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">],</span> <span class="n">ascending</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">:</span> <span class="s1">&#39;odds&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;seconds before off: &quot;</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1"># Extract the BSP values</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">bsp</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">ascending</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;win&#39;</span><span class="p">,</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bsp&#39;</span><span class="p">:</span> <span class="s1">&#39;odds&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;bsp&quot;</span><span class="p">)</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="c1"># Append them together</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="n">accuracyFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">preplay</span><span class="p">,</span> <span class="n">bsp</span><span class="p">])</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="n">accuracyFrame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>market_id</th>
<th>selection_id</th>
<th>win</th>
<th>sbsj</th>
<th>odds</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<th>2790008</th>
<td>1.171091071</td>
<td>10693094</td>
<td>0</td>
<td>120.0</td>
<td>134.164</td>
<td>seconds before off: 120</td>
</tr>
<tr>
<th>2790011</th>
<td>1.171091071</td>
<td>10693094</td>
<td>0</td>
<td>90.0</td>
<td>149.666</td>
<td>seconds before off: 90</td>
</tr>
<tr>
<th>2790014</th>
<td>1.171091071</td>
<td>10693094</td>
<td>0</td>
<td>60.0</td>
<td>200.000</td>
<td>seconds before off: 60</td>
</tr>
<tr>
<th>2790017</th>
<td>1.171091071</td>
<td>10693094</td>
<td>0</td>
<td>30.0</td>
<td>239.792</td>
<td>seconds before off: 30</td>
</tr>
<tr>
<th>2790020</th>
<td>1.171091071</td>
<td>10693094</td>
<td>0</td>
<td>-0.0</td>
<td>239.165</td>
<td>seconds before off: 0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we'll filter just on our BSP records and plot the observed vs actual scatterplot</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># BSP Scatter</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="c1"># __________________</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="n">winRates</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>    <span class="n">accuracyFrame</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>    <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;type == &quot;bsp&quot;&#39;</span><span class="p">)</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">implied_chance</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="mi">20</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;odds&#39;</span><span class="p">]))</span><span class="o">/</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;implied_chance&#39;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="p">)</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">winRates</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;implied_chance&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;win&quot;</span><span class="p">,</span> <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;BSP: implied win vs actual win&quot;</span><span class="p">)</span>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>    <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">winRates</span><span class="o">.</span><span class="n">implied_chance</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">winRates</span><span class="o">.</span><span class="n">implied_chance</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;no bias&#39;</span><span class="p">,</span> <span class="n">line_color</span> <span class="o">=</span> <span class="s1">&#39;rgba(8,61,119, 0.3)&#39;</span>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>    <span class="p">)</span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="p">)</span>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_png output_subarea">
<img alt="No description has been provided for this image" src="data:image/png;base64,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"/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ok aside from some small sample noise at the top end (there's very few horses that run at sub 1.20 BSPs) we can see that the BSP is pretty perfectly.... efficient? Is that the right word? I'd argue that it's very much not the right word. Let me illustrate with a counter example. Let's plot the same chart for the BSP as well as our 5 other price points.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Bsp + Other Odds Scatter</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="c1"># __________________</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">winRates</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>    <span class="n">accuracyFrame</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">implied_chance</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="mi">20</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;odds&#39;</span><span class="p">]))</span><span class="o">/</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;implied_chance&#39;</span><span class="p">],</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="p">)</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">winRates</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;implied_chance&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;win&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Comparing Price Points: implied win vs actual win&quot;</span><span class="p">)</span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>    <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">winRates</span><span class="o">.</span><span class="n">implied_chance</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">winRates</span><span class="o">.</span><span class="n">implied_chance</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;no bias&#39;</span><span class="p">,</span> <span class="n">line_color</span> <span class="o">=</span> <span class="s1">&#39;rgba(8,61,119, 0.3)&#39;</span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>    <span class="p">)</span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="p">)</span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_png output_subarea">
<img alt="No description has been provided for this image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAH0CAYAAADfWf7fAAAgAElEQVR4XuydBXQV1xaG/xiEoMVdS6G4U6y4uwUrEtw1WLBAcJfiBYJTpBTXV6AUWtwp7k4geEL0rX3Se0mIz9yQy80/a3W9RzJn5pxvz839Zs8+Z6wCAwMDwY0ESIAESIAESIAESIAELJSAFYXXQiPLYZEACZAACZAACZAACSgCFF5eCCRAAiRAAiRAAiRAAhZNgMJr0eHl4EiABEiABEiABEiABCi8vAZIgARIgARIgARIgAQsmgCF16LDy8GRAAmQAAmQAAmQAAlQeHkNkAAJkAAJkAAJkAAJWDQBCq9Fh5eDIwESIAESIAESIAESoPDyGiABEiABEiABEiABErBoAhReiw4vB0cCJEACJEACJEACJEDh5TVAAiRAAiRAAiRAAiRg0QQovBYdXg6OBEiABEiABEiABEiAwstrgARIgARIgARIgARIwKIJUHgtOrwcHAmQAAmQAAmQAAmQAIWX1wAJkAAJkAAJkAAJkIBFE6DwWnR4OTgSIAESIAESIAESIAEKL68BEiABEiABEiABEiABiyZA4bXo8HJwJEACJEACJEACJEACFF5eAyRAAiRAAiRAAiRAAhZNgMJr0eHl4EiABEiABEiABEiABCi8vAZIgARIgARIgARIgAQsmgCF16LDy8GRAAmQAAmQAAmQAAlQeHkNkAAJkAAJkAAJkAAJWDQBCq9Fh5eDIwESIAESIAESIAESoPDyGiABEiABEiABEiABErBoAhReiw4vB0cCJEACJEACJEACJEDh5TVAAiRAAiRAAiRAAiRg0QQovBYdXg6OBEiABEiABEiABEiAwstrgARIgARIgARIgARIwKIJUHgtOrwcHAmQAAmQAAmQAAmQAIWX1wAJkAAJkAAJkAAJkIBFE6DwWnR4OTgSIAESIAESIAESIAEKL68BEiABEiABEiABEiABiyZA4bXo8HJwJEACJEACJEACJEACFF5eAyRAAiRAAiRAAiRAAhZNgMJr0eHl4EiABEiABEiABEiABCi8vAZIgARIgARIgARIgAQsmgCF16LDy8GRAAmQAAmQAAmQAAmYrfCeOHsFKzftxblLN/H6zTskS5oYub/NBMe6FVGpbBGLidy2vUcxZPwi7F03FRnSpozxcdVoOQj3Hz0LcZ5ECRMg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JkDhtejwcnAkQAIkQAIkQAIkQAIUXl4DJEACJEACJEACJEACFk2AwmvR4eXgSIAESIAESIAESIAEKLy8BkiABEiABEiABEiABCyaAIXXosPLwZEACZAACZAACZAACVB4eQ2QAAmQAAmQAAmQAAlYNAEKr0WHl4MjARIgARIgARIgARKg8PIaIAESIAESIAESIAESsGgCFF6LDi8HRwIkQAIkQAIkQAIkQOHlNUACJEACJEACJEACJGDRBCi8Fh1eDo4ESIAESIAESIAESIDCy2uABEiABEiABEiABEjAoglQeC06vBwcCZAACZAACZAACZAAhZfXAAmQAAmQAAmQAAmQgEUToPBadHg5OBIgARIgARIgARIgAQovrwESIAESIAESIAESIAGLJkDhtejwcnAkQAIkQAIkQAIkQAIUXl4DJEACJEACJEACJEACFk2AwmvR4eXgSIAESIAESIAESIAEKLy8BkiABEiABEiABEiABCyaAIXXosPLwZEACZAACZAACZAACVB4eQ2QAAmQAAmQAAmQAAlYNAEKr0WHl4MjARIgARIgARIgARKg8PIaIAESIAESIAESIAESsGgCFF6LDi8HRwIkQAIkQAIkQAIkQOHlNUACJEACJEACJEACJGDRBCi8Fh1eDo4ESIAESIAESIAESIDCy2uABEiABEiABEiABEjAoglQeC06vBwcCZAACZAACZAACZAAhZfXAAmQAAmQAAmQAAmQgEUToPBadHg5OBIgARIgARIgARIgAQqvmV8Dnm994B8QiG8Sx4ONtZWZ99b8uif8kiS0IzsNofHxDYC3rz+SONhpaM0mnu98kDiBHWxt+LmN7tXg4xcA74/+6rPLLfoEXr3zQSJee9EHxxYWTYDCa+bhpfDqCxCFVzs/Cq92dtKSwqudH4VXOztpSeHVx4+tLZMAhdfM40rh1RcgCq92fhRe7ewovPrYUXj18aPw6uPH1pZJgMJr5nGl8OoLEIVXOz8Kr3Z2FF597Ci8+vhRePXxY2vLJEDhNfO4Unj1BYjCq50fhVc7OwqvPnYUXn38KLz6+LG1ZRKg8Jp5XCm8+gJE4dXOj8KrnR2FVx87Cq8+fhReffzY2jIJUHjNPK4UXn0BovBq50fh1c6OwquPHYVXHz8Krz5+bG2ZBCi8Zh5XCq++AFF4tfOj8GpnR+HVx47Cq48fhVcf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dWZfqQqBZAsQeJNNx4UIIIAAAh4qQOD10MYwLQQel8CjDrxmW0PYjKWJllujcimNHuj/uDi4LwIIIICAAwQIvA5oIiUggAACCCCAAAIIJC5A4GV1IIAAAggggAACCDhagMDr6PZSHAIIIIAAAggggACBlzWAAAIIIIAAAggg4GgBAq+j20txCCCAAAIIIIAAAgRe1gACCCCAAAIIIICAowUIvI5uL8UhgAACCCCAAAIIEHhZAwgggAACCCCAAAKOFiDwOrq9FIcAAggggAACCCBA4GUNIIAAAggggAACCDhagMDr6PZSHAIIIIAAAggggACBlzWAAAIIIIAAAggg4GgBAq+j20txCCCAAAIIIIAAAgRe1gACCCCAAAIIIICAowUIvI5uL8UhgAACCCCAAAIIEHhZAwgggAACCCCAAAKOFiDwOrq9FIcAAggggAACCCBA4GUNIIAAAggggAACCDhagMDr6PZSHAIIIIAAAggggACBlzWAAAIIIIAAAggg4GgBAq+j20txCCCAAAIIIIAAAgRe1gACCCCAAAIIIICAowUIvI5uL8UhgAACCCCAAAIIEHhZAwgggAACCCCAAAKOFiDwOrq9FIcAAggggAACCCBA4GUNIIAAAggggAACCDhagMDr6PZSHAIIIIAAAggggACBlzWAAAIIIIAAAggg4GgBAq+j20txCCCAAAIIIIAAAgRe1gACCCCAAAIIIICAowUIvI5uL8UhgAACCCCAAAIIEHhZAwgggAACCCCAAAKOFiDwOrq9FIcAAggggAACCCBA4GUNIIAAAggggAACCDhagMDr6PZSHAIIIIAAAggggACBlzWAAAIIIIAAAggg4GiB/wE3zFhb7U8IlwAAAABJRU5ErkJggg=="/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So they're all efficient? And indecernibly as efficient as one another?</p>
<p>Well, to cut a long and possibly boring story short this isn't the right way to measure efficiency. What we're measure here is <strong>bias</strong>. All my scatter plot here tells me is if there's any systematic bias in the BSP, i.e. groups of BSPs that aren't well calibrated with actual outcomes. That is, for example, that perhaps randomly the group of horses that BSP around 2 don't happen to win 50% of the time maybe there was a sytemic bias that short favourites were underbet and these selections actually won 55% of the time. That would be a price bias in the BSP that someone could take advatange at just by looking at historical prices and outcomes alone.</p>
<p>For an even simpler counter point: I could create a perfectly well calibrated estimate that assigned a single odds value to every horse which was the overall horse empirical win rate over our sample: 10.25% (which is merely a reflection of field sizes). This estimate would be unbiased, and would pass through our scatterplot method unscathed but would it be an efficient estimate? Clearly not.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">df</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>win    0.102595
dtype: float64</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Bias only tells us if there's a systematic way of exploiting the odds values themselves. I could have told you that this was unlikely but the scatterplot proves it.</p>
<p>How else could we measure efficiency? I propose using the <code>logloss</code> metric.</p>
<p>Let's calculate the logloss of the BSP</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Logloss ++++++++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">log_loss</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="c1"># Overall Logloss</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c1"># _________________</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="n">bspLoss</span> <span class="o">=</span> <span class="n">log_loss</span><span class="p">(</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>    <span class="n">y_pred</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">accuracyFrame</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;type == &quot;bsp&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;odds&#39;</span><span class="p">],</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>    <span class="n">y_true</span> <span class="o">=</span> <span class="n">accuracyFrame</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;type == &quot;bsp&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;win&#39;</span><span class="p">]</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="p">)</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The overall logloss of the BSP is </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">bspLoss</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>
<code>The overall logloss of the BSP is 0.2757
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ok what does this mean? Well nothing really. This metric won't tell you anything by itself it's just useful for relative comparisons. Let's plot the logloss of our geometric midpoint at our various timeslices.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Logloss at Different Time Points</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="c1"># _________________</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">accuracyFrame</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">log_loss</span><span class="p">(</span><span class="n">y_pred</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;odds&#39;</span><span class="p">],</span><span class="n">y_true</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;win&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="kc">None</span><span class="p">:</span> <span class="s1">&#39;logloss&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;logloss&#39;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>type</th>
<th>logloss</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>bsp</td>
<td>0.275679</td>
</tr>
<tr>
<th>1</th>
<td>seconds before off: 0</td>
<td>0.275824</td>
</tr>
<tr>
<th>3</th>
<td>seconds before off: 30</td>
<td>0.275999</td>
</tr>
<tr>
<th>4</th>
<td>seconds before off: 60</td>
<td>0.276044</td>
</tr>
<tr>
<th>5</th>
<td>seconds before off: 90</td>
<td>0.276206</td>
</tr>
<tr>
<th>2</th>
<td>seconds before off: 120</td>
<td>0.276256</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># And in chart form</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>    <span class="n">accuracyFrame</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">log_loss</span><span class="p">(</span><span class="n">y_pred</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;odds&#39;</span><span class="p">],</span><span class="n">y_true</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;win&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="kc">None</span><span class="p">:</span> <span class="s1">&#39;logloss&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;logloss&#39;</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">),</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>    <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>    <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;logloss&quot;</span><span class="p">,</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>    <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Logloss Of Odds At Various Time Points&quot;</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="p">)</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mf">.2755</span><span class="p">,</span> <span class="mf">.2765</span><span class="p">])</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_png output_subarea">
<img alt="No description has been provided for this image" src="data:image/png;base64,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"/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now this is a cool graph. This is exactly like we would have intiuited. The market sharpens monotonically as we approach the market jump with the BSP being the most effiecient of all the prices!</p>
<p>Hopefully you can now see the logical failing of measuring bias over market efficiency and it changes the way you think about your bet placement.</p>
<p>Let's move on to what we're here for: is it possible to predict the BSP.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="24-predicting-the-bsp">2.4 Predicting the BSP</h3>
<p>Ok so I'm interested in finding the answer to the question: which estimate of BSP should I use when betting on the exchange and is it possible to beat the projected SP provided on the website and through the API?</p>
<p>Well the first thing we should recognise about this projection is that it's cached. What does that mean? It means it only updated every 60 seconds. This suprised me when I first learned it and it was actually causing issues in my bet placement logic for the SP.</p>
<p>Let's have a look at a selection to see how this works in practice</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># Lets take a sample of a market and a selection</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">dSlice</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;market_id == &quot;1.182394184&quot; and selection_id == &quot;39243409&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">def</span> <span class="nf">chartClosingPrices</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>        <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">d</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">][[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">]],</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">),</span> 
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>            <span class="n">x</span><span class="o">=</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>            <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">,</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>            <span class="n">template</span><span class="o">=</span><span class="s1">&#39;plotly_white&#39;</span><span class="p">,</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Selection&quot;</span><span class="p">,</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>            <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>                <span class="s1">&#39;sbsj&#39;</span><span class="p">:</span> <span class="s2">&quot;Seconds Before Scheduled Jump&quot;</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>            <span class="p">}</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>    <span class="p">)</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a>    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">font_family</span><span class="o">=</span><span class="s2">&quot;Roboto&quot;</span><span class="p">)</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a>    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>        <span class="n">go</span><span class="o">.</span><span class="n">Line</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">dSlice</span><span class="o">.</span><span class="n">sbsj</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">dSlice</span><span class="o">.</span><span class="n">bsp</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;BSP&#39;</span><span class="p">,</span> <span class="n">line_color</span> <span class="o">=</span> <span class="s1">&#39;rgba(8,61,119, 0.3)&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;lines&quot;</span><span class="p">)</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a>    <span class="p">)</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a>    <span class="n">fig</span><span class="p">[</span><span class="s1">&#39;layout&#39;</span><span class="p">][</span><span class="s1">&#39;xaxis&#39;</span><span class="p">][</span><span class="s1">&#39;autorange&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;reversed&quot;</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a>    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="n">chartClosingPrices</span><span class="p">(</span><span class="n">dSlice</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stderr output_text">
<pre>
<code>/home/tmbish/.local/lib/python3.9/site-packages/plotly/graph_objs/_deprecations.py:378: DeprecationWarning:

plotly.graph_objs.Line is deprecated.
Please replace it with one of the following more specific types
  - plotly.graph_objs.scatter.Line
  - plotly.graph_objs.layout.shape.Line
  - etc.


</code>
</pre>
</div>
</div>
<div class="output_area">
<div class="output_png output_subarea">
<img alt="No description has been provided for this image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAH0CAYAAADfWf7fAAAgAElEQVR4XuydB3gU1fqHf5vdTUgCBJAO0gRBihQpgiDSewdBkA7SewuBUBI6ofdepPcuSBVFqiAoTQQEKYIUqSnb/s+Z/MOlBLLZndmdnf3N89zn3ktmzvm+9ztJ3pw9c47OZrPZwIsESIAESIAESIAESIAENEpAR+HVaGWZFgmQAAmQAAmQAAmQgESAwsuBQAIkQAIkQAIkQAIkoGkCFF5Nl5fJkQAJkAAJkAAJkAAJUHg5BkiABEiABEiABEiABDRNgMKr6fIyORIgARIgARIgARIgAQovxwAJkAAJkAAJkAAJkICmCVB4NV1eJkcCJEACJEACJEACJEDh5RggARIgARIgARIgARLQNAEKr6bLy+RIgARIgARIgARIgAQovBwDJEACJEACJEACJEACmiZA4dV0eZkcCZAACZAACZAACZAAhZdjgARIgARIgARIgARIQNMEKLyaLi+TIwESIAESIAESIAESoPByDJAACZAACZAACZAACWiaAIVX0+VlciRAAiRAAiRAAiRAAhRejgESIAESIAESIAESIAFNE6Dwarq8TI4ESIAESIAESIAESIDCyzFAAiRAAiRAAiRAAiSgaQIUXk2Xl8mRAAmQAAmQAAmQAAlQeDkGSIAESIAESIAESIAENE2Awqvp8jI5EiABEiABEiABEiABCi/HAAmQAAmQAAmQAAmQgKYJUHg1XV4mRwIkQAIkQAIkQAIkQOHlGCABEiABEiABEiABEtA0AQqvpsvL5EiABEiABEiABEiABCi8HAMkQAIkQAIkQAIkQAKaJkDh1XR5mRwJkAAJkAAJkAAJkACFl2OABEiABEiABEiABEhA0wQovJouL5MjARIgARIgARIgARKg8HIMkAAJkAAJkAAJkAAJaJoAhVfT5WVyJEACJEACJEACJEACFF6OARIgARIgARIgARIgAU0ToPBqurxMjgRIgARIgARIgARIgMLLMUACJEACJEACJEACJKBpAhReTZeXyZEACZAACZAACZAACVB4OQZIgARIgARIgARIgAQ0TYDCq+nyMjkSIAESIAESIAESIAFVCu+Rk+cwb/k2XLpyA4+fPsf7GdKgbrUyaPVlVej1PnZXrVPwJFy/eQfbvx1j9zOO3mixWFG39SCU+6wwenf4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JEACqiRA4VVlWRgUCZAACZAACZAACZCAXAQovHKRZDskQAIkQAIkQAIkQAKqJEDhVWVZGBQJkAAJkAAJkAAJkIBcBCi8cpFkOyRAAiRAAiRAAiRAAqokQOFVZVkYFAmQAAmQAAmQAAmQgFwEKLxykWQ7JEACJEACJEACJEACqiRA4VVlWRgUCZAACZAACZAACZCAXAQovHKRZDskQAIkQAIkQAIkQAKqJEDhVWVZGBQJkAAJkAAJkAAJkIBcBCi8cpFkOyRAAiRAAiRAAiRAAqokQOFVZVkYFAmQAAmQAAmQAAmQgFwEKLxykWQ7JEACJEACJEACJEACqiRA4VVlWRgUCZAACZAACZAACZCAXAQovHKRZDskQAIkQAIkQAIkQAKqJEDhVWVZGBQJkAAJkAAJkAAJkIBcBCi8cpFkOyRAAiRAAiRAAiRAAqokQOFVZVkYFAmQAAmQAAmQAAmQgFwEKLxykWQ7JEACJEACJEACJEACqiRA4VVlWRgUCZAACZAACZAACZCAXAQovHKRZDskQAIkQAIkQAIkQAKqJEDhVWVZGBQJkAAJkAAJkAAJkIBcBCi8cpFkOyRAAiRAAiRAAiRAAqokQOFVZVkYFAmQAAmQAAmQAAmQgFwEKLxykWQ7JEACJEACJEACJEACqiRA4VVlWRgUCZAACZAACZAACZCAXAQovHKRZDskQAIkQAIkQAIkQAKqJEDhVWVZGBQJkAAJkAAJkAAJkIBcBCi8cpFkOyRAAiRAAiRAAiRAAqokQOFVZVkYFAmQAAmQAAmQAAmQgFwEKLxykWQ7JEACJEACJEACJEACqiRA4VVlWRgUCZAACZAACZAACZCAXAQovHKRZDskQAIkQAIkQAIkQAKqJEDhVWVZGBQJkAAJkAAJkAAJkIBcBCi8cpFkOyRAAiRAAiRAAiRAAqokQOFVZVkYFAmQAAmQAAmQAAmQgFwEKLxykWQ7JEACJEACJEACJEACqiRA4VVlWRgUCZAACZAACZAACZCAXAQovHKRZDskQAIkQAIkQAIkQAKqJEDhVWVZGBQJkAAJkAAJkAAJkIBcBCi8cpFkOyRAAiRAAiRAAiRAAqokQOFVZVkYFAmQAAmQAAmQAAmQgFwEKLxykWQ7JEACJEACJEACJEACqiRA4VVlWRgUCZAACZAACZAACZCAXAQovHKRZDskQAIkQAIk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VxHsHJQESIAESIAESIAESMBTBCi8niLNcUiABEiABEiABEiABBQhQOFVBDsHJQESIAESIAESIAES8BQBCq+nSHMcEiABEiABEiABEiABRQhQeBXBzkFJgARIgARIgARIgAQ8RYDC6ynSHIcESIAESIAESIAESEARAhReRbBzUBIgARIgARIgARIgAU8RoPB6ijTHIQESIAESIAESIAESUIQAhVcR7ByUBEiABEiABEiABEjAUwQovJ4izXFIgARIgARIgARIgAQUIUDhVQQ7ByUBEiABEiABEiABEvAUAQqvp0hzHBIgARIgARIgARIgAUUIUHgVwc5BSYAESIAESIAESIAEPEWAwusp0hyHBEiABEiABEiABEhAEQIUXkWwc1ASIAESIAESIAESIAFPEaDweoo0xyEBEiABEiABEiABElCEAIVXEewclARIgARIgARIgARIwFMEKLyeIs1xSIAESIAESIAESIAEFCFA4VUEOwclARIgARIgARIgARLwFAEKr6dIcxwSIAESIAESIAESIAFFCFB4FcHOQUmABEiABEiABEiABDxFgMLrKdIchwRIgARIgARIgARIQBECFF5FsHNQEiABEiABEiABEiABTxGg8HqKNMchARIgARIgARIgARJQhACFVxHsHJQESIAESIAESIAESMBTBCi8niLNcUiABEiABEiABEiABBQhQOFVBDsHJQESIAESIAESIAES8BQBCq+nSHMcEiABEiABEiABEiABRQhQeBXBzkFJgARIgARIgARIgAQ8ReB//x50EhnciTAAAAAASUVORK5CYII="/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The red line is the projected BSP, you can see that it's not very responsive. As the best back price comes in from ~3 to 2.9 leading up to the jump the projected SP doesn't move because it's cached. If you were relying on this number for something important and you were using it in that period you were using stale information and you'd be worse off for it. In this instance the final SP was 2.79 so you may have made the wrong betting decision.</p>
<p>This is somewhat counter intuitive because the projected sp (the so called near price) should be a good estimate of the BSP because it synthetically runs the BSP algorithm on the current market state and produces and estimate, so you would think that it'd be a pretty good estimate.</p>
<p>Let's widen our sample a bit and see how it performs across our entire sample. We'll slice the data at the exact scheduled off and see how accurate various price points are at predicting what the final BSP is. We'll use mean absolute error (MAE) as our error metric. We'll assess 6 price points:</p>
<ul>
<li>The near price (projected sp)</li>
<li>The far price (projected sp excluding limit orders)</li>
<li>The best back price</li>
<li>The best lay price</li>
<li>The ladder midpoint price</li>
<li>The geometric midpoint price</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># Measurement</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="c1"># ________________________</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="n">estimatesDf</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sbsj</span> <span class="o">==</span> <span class="mi">0</span><span class="p">][[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">]]</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="p">(</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>    <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">estimatesDf</span><span class="p">,</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;estimate&#39;</span><span class="p">)</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">error</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;estimate&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>estimate</th>
<th>error</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>back_best</td>
<td>0.091702</td>
</tr>
<tr>
<th>3</th>
<td>ladder_mid_point</td>
<td>0.093181</td>
</tr>
<tr>
<th>2</th>
<td>geometric_mid_point</td>
<td>0.094405</td>
</tr>
<tr>
<th>4</th>
<td>lay_best</td>
<td>0.103142</td>
</tr>
<tr>
<th>5</th>
<td>near_price</td>
<td>0.121266</td>
</tr>
<tr>
<th>1</th>
<td>far_price</td>
<td>0.578425</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So a bit surprisingly, in thoroughbred markets at the scheduled off your best to just use the current best back price as your estimate of the BSP. It significantly outperforms the projected SP and even some of our midpoint methods. </p>
<p>Let's change the timeslice a little and take the very last moment before the market settles and see which performs best.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">lastEstimatesDf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">],</span><span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">]]</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="p">(</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>    <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">lastEstimatesDf</span><span class="p">,</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;estimate&#39;</span><span class="p">)</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">error</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;estimate&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>estimate</th>
<th>error</th>
</tr>
</thead>
<tbody>
<tr>
<th>2</th>
<td>geometric_mid_point</td>
<td>0.039627</td>
</tr>
<tr>
<th>3</th>
<td>ladder_mid_point</td>
<td>0.042526</td>
</tr>
<tr>
<th>0</th>
<td>back_best</td>
<td>0.063622</td>
</tr>
<tr>
<th>5</th>
<td>near_price</td>
<td>0.077108</td>
</tr>
<tr>
<th>4</th>
<td>lay_best</td>
<td>0.098198</td>
</tr>
<tr>
<th>1</th>
<td>far_price</td>
<td>0.290777</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First thing to notice is the estimates get a lot better than at the scheduled off, as we'd expect. A bit surprisingly the projected SP is still very weak due to the caching issue. In this scenario the geometric mid point beforms significantly better than the current best back price which suggests that as the late market is forming the back and lay spread with start converging to the fair price and eventual BSP. I personally use the geometric midpoint as my BSP estimate as it's a quick and easy metric that performs pretty well.</p>
<p>What if you want more though? Is it possible to do better than these metrics? These simple price points use no information about what's in the BSP pools, surely if we used this information we'd be able to do better. Let's try to use machine learning to synthesise all this information at once.</p>
<h4 id="234-machine-learning">2.3.4 Machine Learning</h4>
<p>We'll build a quick random forest model to estimate the BSP with current price and pool size information. This is a very simple application of machine learning so hopefully gives you an idea of its power without being too complex.</p>
<p>Now we need an intelligent way of turning our pool and ladder information into a feature to insert into our model, how could we engineer this feature? Well what we'll do is calculate a WAP required to fill our pool stake on the back and lay side. What does that mean? Say we've got \$200 sitting in the BSP back pool and \$200 sitting on the top box of 2.5 on the back side, in this instance our WAP value would be exactly 2.5 cause we can fill it all at the top box. But if however, there was only $100 in the top box then we'd need to move down the ladder to fill the remaining \$100 volume. Our feature will simulate this allocation logic and return the final weighted average price required to fill the total BSP pool. Here's the functions to do it on the back and lay side respectively:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">def</span> <span class="nf">wapToGetBack</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="n">ladder</span><span class="p">):</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>    <span class="n">price</span> <span class="o">=</span> <span class="n">ladder</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    <span class="n">volume</span> <span class="o">=</span> <span class="n">ladder</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">]</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>        <span class="n">indmax</span> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span> <span class="n">i</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cVolume</span><span class="p">)</span> <span class="k">if</span> <span class="n">j</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">pool</span> <span class="p">])</span><span class="o">+</span><span class="mi">1</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>    <span class="k">except</span><span class="p">:</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>        <span class="n">indmax</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>    <span class="k">return</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">price</span><span class="p">[:</span><span class="n">indmax</span><span class="p">],</span> <span class="n">volume</span><span class="p">[:</span><span class="n">indmax</span><span class="p">])])</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">volume</span><span class="p">[:</span><span class="n">indmax</span><span class="p">]),</span><span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="k">def</span> <span class="nf">wapToGetLay</span><span class="p">(</span><span class="n">liability_pool</span><span class="p">,</span> <span class="n">ladder</span><span class="p">):</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>    <span class="n">price</span> <span class="o">=</span> <span class="n">ladder</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>    <span class="n">volume</span> <span class="o">=</span> <span class="n">ladder</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">]</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>    <span class="n">liability</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">volume</span><span class="p">)]</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>    <span class="n">cLiability</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">liability</span><span class="p">)</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>        <span class="n">indmax</span> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span> <span class="n">i</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cLiability</span><span class="p">)</span> <span class="k">if</span> <span class="n">j</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">liability_pool</span> <span class="p">])</span><span class="o">+</span><span class="mi">1</span>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>    <span class="k">except</span><span class="p">:</span>
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>        <span class="n">indmax</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>    <span class="k">return</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">price</span><span class="p">[:</span><span class="n">indmax</span><span class="p">],</span> <span class="n">volume</span><span class="p">[:</span><span class="n">indmax</span><span class="p">])])</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">volume</span><span class="p">[:</span><span class="n">indmax</span><span class="p">]),</span><span class="mi">4</span><span class="p">))</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we'll set up our model matrix which will be the market state at the exact scheduled off. We'll also add our custom features.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">model_matrix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">,</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;traded_volume&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_back_pool_stake&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_lay_pool_liability&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">]]</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="c1"># Filter at scheduled jump</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="n">model_matrix</span> <span class="o">=</span> <span class="n">model_matrix</span><span class="p">[</span><span class="n">model_matrix</span><span class="o">.</span><span class="n">sbsj</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="n">model_matrix</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>    <span class="n">model_matrix</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">wap_to_get_back_pool</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">wapToGetBack</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">bsp_back_pool_stake</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">atb_ladder</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">wap_to_get_lay_pool</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">wapToGetLay</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">bsp_lay_pool_liability</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">atl_ladder</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="p">)</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="c1"># Drop other columns</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="n">model_matrix</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="n">model_matrix</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>bsp</th>
<th>traded_volume</th>
<th>near_price</th>
<th>far_price</th>
<th>bsp_back_pool_stake</th>
<th>bsp_lay_pool_liability</th>
<th>back_best</th>
<th>lay_best</th>
<th>geometric_mid_point</th>
<th>ladder_mid_point</th>
<th>wap_to_get_back_pool</th>
<th>wap_to_get_lay_pool</th>
</tr>
</thead>
<tbody>
<tr>
<th>12</th>
<td>6.20</td>
<td>6891</td>
<td>5.74</td>
<td>4.22</td>
<td>518</td>
<td>1580</td>
<td>6.00</td>
<td>6.2</td>
<td>6.099</td>
<td>6.00</td>
<td>5.7762</td>
<td>6.3731</td>
</tr>
<tr>
<th>28</th>
<td>3.60</td>
<td>13579</td>
<td>3.57</td>
<td>1.73</td>
<td>1023</td>
<td>1771</td>
<td>3.45</td>
<td>3.6</td>
<td>3.524</td>
<td>3.55</td>
<td>3.3010</td>
<td>3.7007</td>
</tr>
<tr>
<th>44</th>
<td>6.62</td>
<td>5911</td>
<td>5.81</td>
<td>1.59</td>
<td>845</td>
<td>1378</td>
<td>6.20</td>
<td>6.6</td>
<td>6.397</td>
<td>6.40</td>
<td>5.9156</td>
<td>7.1167</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now the machine learning. Sklearn makes this very simple, in our case it's a few lines only. We'll split our data into train and test sets and train a small random forrest to predict the BSP.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1"># Setup Train / Test</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="n">train_features</span><span class="p">,</span> <span class="n">test_features</span><span class="p">,</span> <span class="n">train_labels</span><span class="p">,</span> <span class="n">test_labels</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">model_matrix</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">]),</span> <span class="n">model_matrix</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">],</span> <span class="n">test_size</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">)</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Training Features Shape:&#39;</span><span class="p">,</span> <span class="n">train_features</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Training Labels Shape:&#39;</span><span class="p">,</span> <span class="n">train_labels</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Testing Features Shape:&#39;</span><span class="p">,</span> <span class="n">test_features</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Testing Labels Shape:&#39;</span><span class="p">,</span> <span class="n">test_labels</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="c1"># Instantiate Model</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="c1"># Train Model</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_features</span><span class="p">,</span> <span class="n">train_labels</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>
<code>Training Features Shape: (119822, 11)
Training Labels Shape: (119822,)
Testing Features Shape: (39941, 11)
Testing Labels Shape: (39941,)
</code>
</pre>
</div>
</div>
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>RandomForestRegressor()</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's check out our predictions on the test set (remember our model hasn't seen any of this data so it should be a true reflection on how we'd perform on some new races that would happen this afternoon say)</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># Use the forest&#39;s predict method on the test data</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="n">predicted_bsp</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_features</span><span class="p">)</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="n">predicted_bsp</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>array([268.9971,   4.9892,  24.2727, ...,  29.067 ,   4.6216,  16.3991])</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Seems reasonable. All well and good though is the prediction any good? Let's measure it using MAE in the same way as we did before.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># Let&#39;s test our estimate vs our others in the same way as before</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="n">testDf</span> <span class="o">=</span> <span class="n">test_features</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="n">testDf</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">test_labels</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="n">testDf</span><span class="p">[</span><span class="s1">&#39;rf_bsp_prediction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">predicted_bsp</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="p">(</span>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>    <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">testDf</span><span class="p">[[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;rf_bsp_prediction&#39;</span><span class="p">]],</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;estimate&#39;</span><span class="p">)</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">error</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;estimate&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a>    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>estimate</th>
<th>error</th>
</tr>
</thead>
<tbody>
<tr>
<th>6</th>
<td>rf_bsp_prediction</td>
<td>0.088898</td>
</tr>
<tr>
<th>0</th>
<td>back_best</td>
<td>0.091860</td>
</tr>
<tr>
<th>3</th>
<td>ladder_mid_point</td>
<td>0.093477</td>
</tr>
<tr>
<th>2</th>
<td>geometric_mid_point</td>
<td>0.094702</td>
</tr>
<tr>
<th>4</th>
<td>lay_best</td>
<td>0.103435</td>
</tr>
<tr>
<th>5</th>
<td>near_price</td>
<td>0.121456</td>
</tr>
<tr>
<th>1</th>
<td>far_price</td>
<td>0.575946</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nice that's significantly better than the best previous estimate at this time slice. To validate it further let's use the same model to predict the BSP using the market state 10 seconds after the scheduled jump instead of at the exact scheduled off. None of the rows (or samples) in this time slice have been seen by the model during the training step so it should provide a robust out of sample estimate of the models performance on unseen data.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># Validate it on a completely different time point - 10 seconds after scheduled jump</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="n">outOfSample</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">,</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;traded_volume&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_back_pool_stake&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_lay_pool_liability&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">]]</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="n">outOfSample</span> <span class="o">=</span> <span class="n">outOfSample</span><span class="p">[</span><span class="n">outOfSample</span><span class="o">.</span><span class="n">sbsj</span> <span class="o">==</span> <span class="o">-</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="n">outOfSample</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>    <span class="n">outOfSample</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">wap_to_get_back_pool</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">wapToGetBack</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">bsp_back_pool_stake</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">atb_ladder</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">wap_to_get_lay_pool</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">wapToGetLay</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">bsp_lay_pool_liability</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">atl_ladder</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="p">)</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="c1"># Produce Predictions</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="n">outofsamplebspprediction</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">outOfSample</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">]))</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="n">outofsamplebspprediction</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>array([  6.395 ,   3.5781,   6.3449, ..., 503.9829, 220.1171,  54.7511])</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="n">outOfSample</span><span class="p">[</span><span class="s1">&#39;rf_bsp_prediction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outofsamplebspprediction</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="p">(</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>    <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">outOfSample</span><span class="p">[[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;rf_bsp_prediction&#39;</span><span class="p">]],</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;estimate&#39;</span><span class="p">)</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">error</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;estimate&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>estimate</th>
<th>error</th>
</tr>
</thead>
<tbody>
<tr>
<th>6</th>
<td>rf_bsp_prediction</td>
<td>0.079198</td>
</tr>
<tr>
<th>0</th>
<td>back_best</td>
<td>0.084658</td>
</tr>
<tr>
<th>3</th>
<td>ladder_mid_point</td>
<td>0.086128</td>
</tr>
<tr>
<th>2</th>
<td>geometric_mid_point</td>
<td>0.087326</td>
</tr>
<tr>
<th>4</th>
<td>lay_best</td>
<td>0.098311</td>
</tr>
<tr>
<th>5</th>
<td>near_price</td>
<td>0.109640</td>
</tr>
<tr>
<th>1</th>
<td>far_price</td>
<td>0.501813</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Still significantly better on the out of sample set which is a really positive sign.</p>
<h3 id="235-next-steps">2.3.5 Next Steps</h3>
<p>To improve this model I'd include multiple time slices in the training sample and use the seconds before scheduled jump as a feature as I would estimate that the predictive dynamics of each of these features is dynamic and affected by how mature + how close to settlement the market is. </p>
<p>To implement this model in your bet placement code you'd simply need to save the model object (some info about how to do this with sklearn can be found here <a href="https://scikit-learn.org/stable/modules/model_persistence.html">here</a>). Your key challenge will be making sure you can produce the exact inputs you've created in this development process from the live stream or polling API responses, but if you've gotten this far it won't be a huge challenge for you.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="30-conclusion">3.0 Conclusion</h2>
<p>I've taken you through a quick crash course in the Betfair BSP including:</p>
<ul>
<li>What it is</li>
<li>How it's created</li>
<li>How it's traded on betfair Australian thoroughbred markets</li>
<li>How efficient it is and a methodology for measuring its efficiency in different contexts</li>
<li>The accuracy of the projected SP and how it compares with other estimates</li>
<li>How to build your own custom projection that's better than anything available out of the box</li>
</ul>
<p>The analysis focused on thoroughbred markets but could easily be extended to other racing codes or sports markets that have BSP enabled. The custom SP projection methodology could be used for anything from staking your model more accurately or with some improvement maybe as part of a automated trading strategy.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="31-over-to-you">3.1 Over to you</h3>
<p>We're planning on writing some more tutorials to help make it easier to work with the JSON data sets. If there are particular examples or data sets you'd like to see us walk through <a href="mailto:data@betfair.com.au">please reach out</a>.</p>
<p>&gt;Community support
- There's a really active <code>betcode</code> Slack community that's a great place to go to ask questions about the library and get support from other people who are also working in the space</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="32-complete-code">3.2 Complete code</h3>
<p>Run the code from your ide by using <code>py &lt;filename&gt;.py</code>, making sure you amend the path to point to your input data. </p>
<p><a href="https://github.com/betfair-down-under/autoHubTutorials/tree/master/analysingAndPredictingBSP">Download from Github</a>
</filename></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="c1"># # Analysing and Predicting The BSP</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="c1"># </span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="c1"># </span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="c1"># ## 0.1 Setup</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="c1"># </span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="c1"># Once again I&#39;ll be presenting the analysis in a jupyter notebook and will be using python as a programming language.</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="c1"># </span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="c1"># Some of the data processing code takes a while to execute - that code will be in cells that are commented out - and will require a bit of adjustment to point to places on your computer locally where you want to store the intermediate data files.</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="c1"># </span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="c1"># You&#39;ll also need `betfairlightweight` which you can install with something like `pip install betfairlightweight`.</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="c1"># %%</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="kn">import</span> <span class="nn">requests</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="kn">import</span> <span class="nn">os</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="kn">import</span> <span class="nn">re</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="kn">import</span> <span class="nn">csv</span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="kn">import</span> <span class="nn">math</span>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="kn">import</span> <span class="nn">logging</span>
<a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="kn">import</span> <span class="nn">yaml</span>
<a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="kn">import</span> <span class="nn">csv</span>
<a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a><span class="kn">import</span> <span class="nn">tarfile</span>
<a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a><span class="kn">import</span> <span class="nn">zipfile</span>
<a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a><span class="kn">import</span> <span class="nn">bz2</span>
<a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a><span class="kn">import</span> <span class="nn">glob</span>
<a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a><span class="kn">import</span> <span class="nn">ast</span>
<a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a>
<a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span>
<a id="__codelineno-33-33" name="__codelineno-33-33" href="#__codelineno-33-33"></a><span class="kn">from</span> <span class="nn">unittest.mock</span> <span class="kn">import</span> <span class="n">patch</span>
<a id="__codelineno-33-34" name="__codelineno-33-34" href="#__codelineno-33-34"></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Optional</span>
<a id="__codelineno-33-35" name="__codelineno-33-35" href="#__codelineno-33-35"></a><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">zip_longest</span>
<a id="__codelineno-33-36" name="__codelineno-33-36" href="#__codelineno-33-36"></a><span class="kn">import</span> <span class="nn">betfairlightweight</span>
<a id="__codelineno-33-37" name="__codelineno-33-37" href="#__codelineno-33-37"></a><span class="kn">from</span> <span class="nn">betfairlightweight</span> <span class="kn">import</span> <span class="n">StreamListener</span>
<a id="__codelineno-33-38" name="__codelineno-33-38" href="#__codelineno-33-38"></a><span class="kn">from</span> <span class="nn">betfairlightweight.resources.bettingresources</span> <span class="kn">import</span> <span class="p">(</span>
<a id="__codelineno-33-39" name="__codelineno-33-39" href="#__codelineno-33-39"></a>    <span class="n">PriceSize</span><span class="p">,</span>
<a id="__codelineno-33-40" name="__codelineno-33-40" href="#__codelineno-33-40"></a>    <span class="n">MarketBook</span>
<a id="__codelineno-33-41" name="__codelineno-33-41" href="#__codelineno-33-41"></a><span class="p">)</span>
<a id="__codelineno-33-42" name="__codelineno-33-42" href="#__codelineno-33-42"></a>
<a id="__codelineno-33-43" name="__codelineno-33-43" href="#__codelineno-33-43"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-44" name="__codelineno-33-44" href="#__codelineno-33-44"></a><span class="c1"># ## 0.2 Context</span>
<a id="__codelineno-33-45" name="__codelineno-33-45" href="#__codelineno-33-45"></a><span class="c1"># </span>
<a id="__codelineno-33-46" name="__codelineno-33-46" href="#__codelineno-33-46"></a><span class="c1"># The BSP is betting product offered by betfair (on large enough markets) that gives customers a chance to back or lay any selection at a &quot;fair&quot; price. Without getting too complex too quickly, the BSP allows you lock in a bet at any time after the market is openened and for as much stake as you can afford. The BSP is a good option for many different segments of customers:</span>
<a id="__codelineno-33-47" name="__codelineno-33-47" href="#__codelineno-33-47"></a><span class="c1"># </span>
<a id="__codelineno-33-48" name="__codelineno-33-48" href="#__codelineno-33-48"></a><span class="c1"># - Recreational punters that don&#39;t have a particular strategy for trying to get the best odds can lock in a price that is (in the aggregate) a lot better than what they&#39;d get at a corporate book or they&#39;d get by taking limit bets early in a market&#39;s trading</span>
<a id="__codelineno-33-49" name="__codelineno-33-49" href="#__codelineno-33-49"></a><span class="c1"># - Automated customers that don&#39;t want the hassle of managing live market trading can implement automated strategies a lot easier whilst also protecting them from edge cases like race reschedules </span>
<a id="__codelineno-33-50" name="__codelineno-33-50" href="#__codelineno-33-50"></a><span class="c1"># - Is perfect for simply backtesting fundemental models as it&#39;s a resiliant and robust single price</span>
<a id="__codelineno-33-51" name="__codelineno-33-51" href="#__codelineno-33-51"></a><span class="c1"># </span>
<a id="__codelineno-33-52" name="__codelineno-33-52" href="#__codelineno-33-52"></a><span class="c1"># Despite it being a good option for a lot of customers it&#39;s also a fairly contraversial topic for some other types of customers. Some people firmly believe that the BSP on big markets reflects the &quot;true chance&quot; of a selection so betting it is a fools errand that will simply lose you commission over the long run. You might have heard a version of this story before: given the large pool sizes, the 0% overround, the settlement at the exact moment the market is suspended the BSP perfectly synthesises all available public information and demand and arrives at a true fair odds. Some will attempt to prove this to you by showing you a predicted chance vs observed win rate scatterplot which shows a perfect correlation between chance implied by the BSP and a horses true chance. Whilst I don&#39;t disagree that the BSP is a **very strong** estimate of a selections chance it&#39;s pretty obviously not perfect. </span>
<a id="__codelineno-33-53" name="__codelineno-33-53" href="#__codelineno-33-53"></a><span class="c1"># </span>
<a id="__codelineno-33-54" name="__codelineno-33-54" href="#__codelineno-33-54"></a><span class="c1"># Furthermore, it presents some other tricky challenges to use in practical situations. It&#39;s not knowable perfectly before it&#39;s the exact moment of market suspension so many model or strategy builders make the mistake of unknowingly leaking it into their preplay model development or their theoretical staking calculations. Where the final number will land is actually another source of uncertainty in your processes which presents anothing forecasting / predictive modelling application as I&#39;ll explore later in this piece. I&#39;ll take you through how I&#39;d measure the accuracy of the BSP, show you how it&#39;s traded on the exchange, and take you through a host of methods of estimating the BSP and build a custom machine learning approach that&#39;s better than each of them.</span>
<a id="__codelineno-33-55" name="__codelineno-33-55" href="#__codelineno-33-55"></a><span class="c1"># </span>
<a id="__codelineno-33-56" name="__codelineno-33-56" href="#__codelineno-33-56"></a><span class="c1"># ## 0.3 The Algorithm</span>
<a id="__codelineno-33-57" name="__codelineno-33-57" href="#__codelineno-33-57"></a><span class="c1"># </span>
<a id="__codelineno-33-58" name="__codelineno-33-58" href="#__codelineno-33-58"></a><span class="c1"># The actual logic of how betfair arrives at the final BSP number is quite complex and for a few reasons you won&#39;t be able to perfectly replicate it at home. However, the general gist of the BSP reconciliation algorithm that is executed just as the market suspended goes something like:</span>
<a id="__codelineno-33-59" name="__codelineno-33-59" href="#__codelineno-33-59"></a><span class="c1"># </span>
<a id="__codelineno-33-60" name="__codelineno-33-60" href="#__codelineno-33-60"></a><span class="c1"># - The algorithm combines 4 distinct groups of open bets for a given selection: </span>
<a id="__codelineno-33-61" name="__codelineno-33-61" href="#__codelineno-33-61"></a><span class="c1">#     + Non price limited BSP orders on both the back and lay side (`market_on_close` orders)</span>
<a id="__codelineno-33-62" name="__codelineno-33-62" href="#__codelineno-33-62"></a><span class="c1">#     + Price limited orders on both the back and lay side (`limit_on_close` orders)</span>
<a id="__codelineno-33-63" name="__codelineno-33-63" href="#__codelineno-33-63"></a><span class="c1">#     + All non filled open lay orders</span>
<a id="__codelineno-33-64" name="__codelineno-33-64" href="#__codelineno-33-64"></a><span class="c1">#     + All non filled open back orders </span>
<a id="__codelineno-33-65" name="__codelineno-33-65" href="#__codelineno-33-65"></a><span class="c1"># - It then combines them all together, passes a sophisticated balancing algorithm over the top of them and arrives at a single fair price for the BSP that balances the demand on either side of the ledger</span>
<a id="__codelineno-33-66" name="__codelineno-33-66" href="#__codelineno-33-66"></a><span class="c1"># </span>
<a id="__codelineno-33-67" name="__codelineno-33-67" href="#__codelineno-33-67"></a><span class="c1"># ## 0.4 This Example</span>
<a id="__codelineno-33-68" name="__codelineno-33-68" href="#__codelineno-33-68"></a><span class="c1"># </span>
<a id="__codelineno-33-69" name="__codelineno-33-69" href="#__codelineno-33-69"></a><span class="c1"># For this exercise we&#39;ll again take advantage of the betfair historical stream json files. The slice of betfair markets I&#39;ll be analysing is all thoroughbred races over July 2020 - June 2021. </span>
<a id="__codelineno-33-70" name="__codelineno-33-70" href="#__codelineno-33-70"></a><span class="c1"># </span>
<a id="__codelineno-33-71" name="__codelineno-33-71" href="#__codelineno-33-71"></a><span class="c1"># As an aside the projected BSP number you see on the betfair website isn&#39;t collected inside betfair&#39;s own internal database of orders, so any custom data request you may be able to get as a VIP won&#39;t include this number. So if you were planning to include it in any kind of projection or bet placement logic operation you were making the only way to anlayse it historically is to mine these data files. Another good reason to learn the skills to do so! </span>
<a id="__codelineno-33-72" name="__codelineno-33-72" href="#__codelineno-33-72"></a>
<a id="__codelineno-33-73" name="__codelineno-33-73" href="#__codelineno-33-73"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-74" name="__codelineno-33-74" href="#__codelineno-33-74"></a><span class="c1"># # 1.0 Data</span>
<a id="__codelineno-33-75" name="__codelineno-33-75" href="#__codelineno-33-75"></a><span class="c1"># </span>
<a id="__codelineno-33-76" name="__codelineno-33-76" href="#__codelineno-33-76"></a><span class="c1"># Like the previous tutorial we won&#39;t be able to collapse the stream data down into a single row per runner because I&#39;m interested in anlaysing how the projected BSP moves late in betfair markets. I&#39;m also interested in plotting the efficiency of certain odds values at certain distinct time points leading up the the races so I need multiple records per runner.</span>
<a id="__codelineno-33-77" name="__codelineno-33-77" href="#__codelineno-33-77"></a><span class="c1"># </span>
<a id="__codelineno-33-78" name="__codelineno-33-78" href="#__codelineno-33-78"></a><span class="c1"># Like in the previous tutorial I&#39;ll split out the selection metadata, BSP and win flag values as a seperate data file to reduce the size of the datafiles extracted for this analysis.</span>
<a id="__codelineno-33-79" name="__codelineno-33-79" href="#__codelineno-33-79"></a><span class="c1"># </span>
<a id="__codelineno-33-80" name="__codelineno-33-80" href="#__codelineno-33-80"></a><span class="c1"># For the preplay prices dataset I&#39;ll:</span>
<a id="__codelineno-33-81" name="__codelineno-33-81" href="#__codelineno-33-81"></a><span class="c1"># </span>
<a id="__codelineno-33-82" name="__codelineno-33-82" href="#__codelineno-33-82"></a><span class="c1"># - Start extraction at 2 mins before the scheduled off</span>
<a id="__codelineno-33-83" name="__codelineno-33-83" href="#__codelineno-33-83"></a><span class="c1"># - Extract prices every 10 seconds thereafter until the market is suspended</span>
<a id="__codelineno-33-84" name="__codelineno-33-84" href="#__codelineno-33-84"></a><span class="c1"># - I&#39;ll also extract the final market state the instant before the market is suspended</span>
<a id="__codelineno-33-85" name="__codelineno-33-85" href="#__codelineno-33-85"></a><span class="c1"># </span>
<a id="__codelineno-33-86" name="__codelineno-33-86" href="#__codelineno-33-86"></a><span class="c1"># ## 1.1 Sourcing Data</span>
<a id="__codelineno-33-87" name="__codelineno-33-87" href="#__codelineno-33-87"></a><span class="c1"># </span>
<a id="__codelineno-33-88" name="__codelineno-33-88" href="#__codelineno-33-88"></a><span class="c1"># First you&#39;ll need to source the stream file TAR archive files. I&#39;ll be analysing 12 months of Australian thoroughbred Pro files. Aask automation@betfair.com.au for more info if you don&#39;t know how to do this. Once you&#39;ve gotten access download them to your computer and store them together in a folder.</span>
<a id="__codelineno-33-89" name="__codelineno-33-89" href="#__codelineno-33-89"></a><span class="c1"># </span>
<a id="__codelineno-33-90" name="__codelineno-33-90" href="#__codelineno-33-90"></a><span class="c1"># ## 1.2 Utility functions</span>
<a id="__codelineno-33-91" name="__codelineno-33-91" href="#__codelineno-33-91"></a><span class="c1"># </span>
<a id="__codelineno-33-92" name="__codelineno-33-92" href="#__codelineno-33-92"></a><span class="c1"># First like always we&#39;ll need some general utility functions that you may have seen before:</span>
<a id="__codelineno-33-93" name="__codelineno-33-93" href="#__codelineno-33-93"></a>
<a id="__codelineno-33-94" name="__codelineno-33-94" href="#__codelineno-33-94"></a><span class="c1"># %%</span>
<a id="__codelineno-33-95" name="__codelineno-33-95" href="#__codelineno-33-95"></a><span class="c1"># General Utility Functions</span>
<a id="__codelineno-33-96" name="__codelineno-33-96" href="#__codelineno-33-96"></a><span class="c1"># _________________________________</span>
<a id="__codelineno-33-97" name="__codelineno-33-97" href="#__codelineno-33-97"></a>
<a id="__codelineno-33-98" name="__codelineno-33-98" href="#__codelineno-33-98"></a><span class="k">def</span> <span class="nf">split_anz_horse_market_name</span><span class="p">(</span><span class="n">market_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-33-99" name="__codelineno-33-99" href="#__codelineno-33-99"></a>    <span class="n">parts</span> <span class="o">=</span> <span class="n">market_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<a id="__codelineno-33-100" name="__codelineno-33-100" href="#__codelineno-33-100"></a>    <span class="n">race_no</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># return example R6</span>
<a id="__codelineno-33-101" name="__codelineno-33-101" href="#__codelineno-33-101"></a>    <span class="n">race_len</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># return example 1400m</span>
<a id="__codelineno-33-102" name="__codelineno-33-102" href="#__codelineno-33-102"></a>    <span class="n">race_type</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="c1"># return example grp1, trot, pace</span>
<a id="__codelineno-33-103" name="__codelineno-33-103" href="#__codelineno-33-103"></a>    <span class="k">return</span> <span class="p">(</span><span class="n">race_no</span><span class="p">,</span> <span class="n">race_len</span><span class="p">,</span> <span class="n">race_type</span><span class="p">)</span>
<a id="__codelineno-33-104" name="__codelineno-33-104" href="#__codelineno-33-104"></a>
<a id="__codelineno-33-105" name="__codelineno-33-105" href="#__codelineno-33-105"></a>
<a id="__codelineno-33-106" name="__codelineno-33-106" href="#__codelineno-33-106"></a><span class="k">def</span> <span class="nf">load_markets</span><span class="p">(</span><span class="n">file_paths</span><span class="p">):</span>
<a id="__codelineno-33-107" name="__codelineno-33-107" href="#__codelineno-33-107"></a>    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">:</span>
<a id="__codelineno-33-108" name="__codelineno-33-108" href="#__codelineno-33-108"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
<a id="__codelineno-33-109" name="__codelineno-33-109" href="#__codelineno-33-109"></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
<a id="__codelineno-33-110" name="__codelineno-33-110" href="#__codelineno-33-110"></a>            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">iglob</span><span class="p">(</span><span class="n">file_path</span> <span class="o">+</span> <span class="s1">&#39;**/**/*.bz2&#39;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<a id="__codelineno-33-111" name="__codelineno-33-111" href="#__codelineno-33-111"></a>                <span class="n">f</span> <span class="o">=</span> <span class="n">bz2</span><span class="o">.</span><span class="n">BZ2File</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<a id="__codelineno-33-112" name="__codelineno-33-112" href="#__codelineno-33-112"></a>                <span class="k">yield</span> <span class="n">f</span>
<a id="__codelineno-33-113" name="__codelineno-33-113" href="#__codelineno-33-113"></a>                <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-33-114" name="__codelineno-33-114" href="#__codelineno-33-114"></a>        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
<a id="__codelineno-33-115" name="__codelineno-33-115" href="#__codelineno-33-115"></a>            <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">file_path</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-33-116" name="__codelineno-33-116" href="#__codelineno-33-116"></a>            <span class="c1"># iterate through a tar archive</span>
<a id="__codelineno-33-117" name="__codelineno-33-117" href="#__codelineno-33-117"></a>            <span class="k">if</span> <span class="n">ext</span> <span class="o">==</span> <span class="s1">&#39;.tar&#39;</span><span class="p">:</span>
<a id="__codelineno-33-118" name="__codelineno-33-118" href="#__codelineno-33-118"></a>                <span class="k">with</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">TarFile</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<a id="__codelineno-33-119" name="__codelineno-33-119" href="#__codelineno-33-119"></a>                    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">archive</span><span class="p">:</span>
<a id="__codelineno-33-120" name="__codelineno-33-120" href="#__codelineno-33-120"></a>                        <span class="k">yield</span> <span class="n">bz2</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">extractfile</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
<a id="__codelineno-33-121" name="__codelineno-33-121" href="#__codelineno-33-121"></a>            <span class="c1"># or a zip archive</span>
<a id="__codelineno-33-122" name="__codelineno-33-122" href="#__codelineno-33-122"></a>            <span class="k">elif</span> <span class="n">ext</span> <span class="o">==</span> <span class="s1">&#39;.zip&#39;</span><span class="p">:</span>
<a id="__codelineno-33-123" name="__codelineno-33-123" href="#__codelineno-33-123"></a>                <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">archive</span><span class="p">:</span>
<a id="__codelineno-33-124" name="__codelineno-33-124" href="#__codelineno-33-124"></a>                    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">archive</span><span class="o">.</span><span class="n">namelist</span><span class="p">():</span>
<a id="__codelineno-33-125" name="__codelineno-33-125" href="#__codelineno-33-125"></a>                        <span class="k">yield</span> <span class="n">bz2</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">archive</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
<a id="__codelineno-33-126" name="__codelineno-33-126" href="#__codelineno-33-126"></a>
<a id="__codelineno-33-127" name="__codelineno-33-127" href="#__codelineno-33-127"></a>    <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-33-128" name="__codelineno-33-128" href="#__codelineno-33-128"></a>
<a id="__codelineno-33-129" name="__codelineno-33-129" href="#__codelineno-33-129"></a><span class="k">def</span> <span class="nf">pull_ladder</span><span class="p">(</span><span class="n">availableLadder</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
<a id="__codelineno-33-130" name="__codelineno-33-130" href="#__codelineno-33-130"></a>        <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-33-131" name="__codelineno-33-131" href="#__codelineno-33-131"></a>        <span class="n">price</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-33-132" name="__codelineno-33-132" href="#__codelineno-33-132"></a>        <span class="n">volume</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-33-133" name="__codelineno-33-133" href="#__codelineno-33-133"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">availableLadder</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-33-134" name="__codelineno-33-134" href="#__codelineno-33-134"></a>            <span class="k">return</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>        
<a id="__codelineno-33-135" name="__codelineno-33-135" href="#__codelineno-33-135"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-136" name="__codelineno-33-136" href="#__codelineno-33-136"></a>            <span class="k">for</span> <span class="n">rung</span> <span class="ow">in</span> <span class="n">availableLadder</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">n</span><span class="p">]:</span>
<a id="__codelineno-33-137" name="__codelineno-33-137" href="#__codelineno-33-137"></a>                <span class="n">price</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rung</span><span class="o">.</span><span class="n">price</span><span class="p">)</span>
<a id="__codelineno-33-138" name="__codelineno-33-138" href="#__codelineno-33-138"></a>                <span class="n">volume</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rung</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<a id="__codelineno-33-139" name="__codelineno-33-139" href="#__codelineno-33-139"></a>
<a id="__codelineno-33-140" name="__codelineno-33-140" href="#__codelineno-33-140"></a>            <span class="n">out</span><span class="p">[</span><span class="s2">&quot;p&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">price</span>
<a id="__codelineno-33-141" name="__codelineno-33-141" href="#__codelineno-33-141"></a>            <span class="n">out</span><span class="p">[</span><span class="s2">&quot;v&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">volume</span>
<a id="__codelineno-33-142" name="__codelineno-33-142" href="#__codelineno-33-142"></a>            <span class="k">return</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<a id="__codelineno-33-143" name="__codelineno-33-143" href="#__codelineno-33-143"></a>
<a id="__codelineno-33-144" name="__codelineno-33-144" href="#__codelineno-33-144"></a><span class="k">def</span> <span class="nf">filter_market</span><span class="p">(</span><span class="n">market</span><span class="p">:</span> <span class="n">MarketBook</span><span class="p">)</span> <span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="nb">bool</span><span class="p">:</span> 
<a id="__codelineno-33-145" name="__codelineno-33-145" href="#__codelineno-33-145"></a>
<a id="__codelineno-33-146" name="__codelineno-33-146" href="#__codelineno-33-146"></a>    <span class="n">d</span> <span class="o">=</span> <span class="n">market</span><span class="o">.</span><span class="n">market_definition</span>
<a id="__codelineno-33-147" name="__codelineno-33-147" href="#__codelineno-33-147"></a>
<a id="__codelineno-33-148" name="__codelineno-33-148" href="#__codelineno-33-148"></a>    <span class="k">return</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">country_code</span> <span class="o">==</span> <span class="s1">&#39;AU&#39;</span> 
<a id="__codelineno-33-149" name="__codelineno-33-149" href="#__codelineno-33-149"></a>        <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">market_type</span> <span class="o">==</span> <span class="s1">&#39;WIN&#39;</span> 
<a id="__codelineno-33-150" name="__codelineno-33-150" href="#__codelineno-33-150"></a>        <span class="ow">and</span> <span class="p">(</span><span class="n">c</span> <span class="o">:=</span> <span class="n">split_anz_horse_market_name</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">name</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span> <span class="o">!=</span> <span class="s1">&#39;trot&#39;</span> <span class="ow">and</span> <span class="n">c</span> <span class="o">!=</span> <span class="s1">&#39;pace&#39;</span><span class="p">)</span>
<a id="__codelineno-33-151" name="__codelineno-33-151" href="#__codelineno-33-151"></a>
<a id="__codelineno-33-152" name="__codelineno-33-152" href="#__codelineno-33-152"></a>
<a id="__codelineno-33-153" name="__codelineno-33-153" href="#__codelineno-33-153"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-154" name="__codelineno-33-154" href="#__codelineno-33-154"></a><span class="c1"># ## 1.3 Selection Metadata</span>
<a id="__codelineno-33-155" name="__codelineno-33-155" href="#__codelineno-33-155"></a><span class="c1"># </span>
<a id="__codelineno-33-156" name="__codelineno-33-156" href="#__codelineno-33-156"></a><span class="c1"># Given that the detailed price data will have so many records we will split out the selection metadata (including the selection win outcome flag and the bsp) into it&#39;s own dataset much you would do in a relational database to manage data volumes.</span>
<a id="__codelineno-33-157" name="__codelineno-33-157" href="#__codelineno-33-157"></a>
<a id="__codelineno-33-158" name="__codelineno-33-158" href="#__codelineno-33-158"></a><span class="c1"># %%</span>
<a id="__codelineno-33-159" name="__codelineno-33-159" href="#__codelineno-33-159"></a>
<a id="__codelineno-33-160" name="__codelineno-33-160" href="#__codelineno-33-160"></a><span class="k">def</span> <span class="nf">final_market_book</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<a id="__codelineno-33-161" name="__codelineno-33-161" href="#__codelineno-33-161"></a>    <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s2">&quot;builtins.open&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">f</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">f</span><span class="p">):</span>
<a id="__codelineno-33-162" name="__codelineno-33-162" href="#__codelineno-33-162"></a>        <span class="n">gen</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get_generator</span><span class="p">()</span>
<a id="__codelineno-33-163" name="__codelineno-33-163" href="#__codelineno-33-163"></a>        <span class="k">for</span> <span class="n">market_books</span> <span class="ow">in</span> <span class="n">gen</span><span class="p">():</span>
<a id="__codelineno-33-164" name="__codelineno-33-164" href="#__codelineno-33-164"></a>            <span class="c1"># Check if this market book meets our market filter ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-33-165" name="__codelineno-33-165" href="#__codelineno-33-165"></a>            <span class="k">if</span> <span class="p">((</span><span class="n">evaluate_market</span> <span class="o">:=</span> <span class="n">filter_market</span><span class="p">(</span><span class="n">market_books</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-33-166" name="__codelineno-33-166" href="#__codelineno-33-166"></a>                    <span class="k">return</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-33-167" name="__codelineno-33-167" href="#__codelineno-33-167"></a>            <span class="k">for</span> <span class="n">market_book</span> <span class="ow">in</span> <span class="n">market_books</span><span class="p">:</span>
<a id="__codelineno-33-168" name="__codelineno-33-168" href="#__codelineno-33-168"></a>                <span class="n">last_market_book</span> <span class="o">=</span> <span class="n">market_book</span>
<a id="__codelineno-33-169" name="__codelineno-33-169" href="#__codelineno-33-169"></a>        <span class="k">return</span><span class="p">(</span><span class="n">last_market_book</span><span class="p">)</span>
<a id="__codelineno-33-170" name="__codelineno-33-170" href="#__codelineno-33-170"></a>
<a id="__codelineno-33-171" name="__codelineno-33-171" href="#__codelineno-33-171"></a><span class="k">def</span> <span class="nf">parse_final_selection_meta</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">out_file</span><span class="p">):</span>
<a id="__codelineno-33-172" name="__codelineno-33-172" href="#__codelineno-33-172"></a>
<a id="__codelineno-33-173" name="__codelineno-33-173" href="#__codelineno-33-173"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">out_file</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
<a id="__codelineno-33-174" name="__codelineno-33-174" href="#__codelineno-33-174"></a>
<a id="__codelineno-33-175" name="__codelineno-33-175" href="#__codelineno-33-175"></a>        <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;market_id,selection_id,venue,market_time,selection_name,win,bsp</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-33-176" name="__codelineno-33-176" href="#__codelineno-33-176"></a>
<a id="__codelineno-33-177" name="__codelineno-33-177" href="#__codelineno-33-177"></a>        <span class="k">for</span> <span class="n">file_obj</span> <span class="ow">in</span> <span class="n">load_markets</span><span class="p">(</span><span class="nb">dir</span><span class="p">):</span>
<a id="__codelineno-33-178" name="__codelineno-33-178" href="#__codelineno-33-178"></a>
<a id="__codelineno-33-179" name="__codelineno-33-179" href="#__codelineno-33-179"></a>            <span class="n">stream</span> <span class="o">=</span> <span class="n">trading</span><span class="o">.</span><span class="n">streaming</span><span class="o">.</span><span class="n">create_historical_generator_stream</span><span class="p">(</span>
<a id="__codelineno-33-180" name="__codelineno-33-180" href="#__codelineno-33-180"></a>                <span class="n">file_path</span><span class="o">=</span><span class="n">file_obj</span><span class="p">,</span>
<a id="__codelineno-33-181" name="__codelineno-33-181" href="#__codelineno-33-181"></a>                <span class="n">listener</span><span class="o">=</span><span class="n">listener</span><span class="p">,</span>
<a id="__codelineno-33-182" name="__codelineno-33-182" href="#__codelineno-33-182"></a>            <span class="p">)</span>
<a id="__codelineno-33-183" name="__codelineno-33-183" href="#__codelineno-33-183"></a>
<a id="__codelineno-33-184" name="__codelineno-33-184" href="#__codelineno-33-184"></a>            <span class="n">last_market_book</span> <span class="o">=</span> <span class="n">final_market_book</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
<a id="__codelineno-33-185" name="__codelineno-33-185" href="#__codelineno-33-185"></a>            <span class="k">if</span> <span class="n">last_market_book</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-33-186" name="__codelineno-33-186" href="#__codelineno-33-186"></a>                <span class="k">continue</span> 
<a id="__codelineno-33-187" name="__codelineno-33-187" href="#__codelineno-33-187"></a>
<a id="__codelineno-33-188" name="__codelineno-33-188" href="#__codelineno-33-188"></a>            <span class="c1"># Extract Info ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-33-189" name="__codelineno-33-189" href="#__codelineno-33-189"></a>            <span class="n">runnerMeta</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-33-190" name="__codelineno-33-190" href="#__codelineno-33-190"></a>                <span class="p">{</span>
<a id="__codelineno-33-191" name="__codelineno-33-191" href="#__codelineno-33-191"></a>                    <span class="s1">&#39;selection_id&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">selection_id</span><span class="p">,</span>
<a id="__codelineno-33-192" name="__codelineno-33-192" href="#__codelineno-33-192"></a>                    <span class="s1">&#39;selection_name&#39;</span><span class="p">:</span> <span class="nb">next</span><span class="p">((</span><span class="n">rd</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">rd</span> <span class="ow">in</span> <span class="n">last_market_book</span><span class="o">.</span><span class="n">market_definition</span><span class="o">.</span><span class="n">runners</span> <span class="k">if</span> <span class="n">rd</span><span class="o">.</span><span class="n">selection_id</span> <span class="o">==</span> <span class="n">r</span><span class="o">.</span><span class="n">selection_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">),</span>
<a id="__codelineno-33-193" name="__codelineno-33-193" href="#__codelineno-33-193"></a>                    <span class="s1">&#39;selection_status&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
<a id="__codelineno-33-194" name="__codelineno-33-194" href="#__codelineno-33-194"></a>                    <span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;WINNER&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<a id="__codelineno-33-195" name="__codelineno-33-195" href="#__codelineno-33-195"></a>                    <span class="s1">&#39;sp&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">actual_sp</span>
<a id="__codelineno-33-196" name="__codelineno-33-196" href="#__codelineno-33-196"></a>                <span class="p">}</span>
<a id="__codelineno-33-197" name="__codelineno-33-197" href="#__codelineno-33-197"></a>                <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">last_market_book</span><span class="o">.</span><span class="n">runners</span> 
<a id="__codelineno-33-198" name="__codelineno-33-198" href="#__codelineno-33-198"></a>            <span class="p">]</span>
<a id="__codelineno-33-199" name="__codelineno-33-199" href="#__codelineno-33-199"></a>
<a id="__codelineno-33-200" name="__codelineno-33-200" href="#__codelineno-33-200"></a>            <span class="c1"># Return Info ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-33-201" name="__codelineno-33-201" href="#__codelineno-33-201"></a>            <span class="k">for</span> <span class="n">runnerMeta</span> <span class="ow">in</span> <span class="n">runnerMeta</span><span class="p">:</span>
<a id="__codelineno-33-202" name="__codelineno-33-202" href="#__codelineno-33-202"></a>                <span class="k">if</span> <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;selection_status&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;REMOVED&#39;</span><span class="p">:</span>
<a id="__codelineno-33-203" name="__codelineno-33-203" href="#__codelineno-33-203"></a>                    <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<a id="__codelineno-33-204" name="__codelineno-33-204" href="#__codelineno-33-204"></a>                        <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<a id="__codelineno-33-205" name="__codelineno-33-205" href="#__codelineno-33-205"></a>                            <span class="nb">str</span><span class="p">(</span><span class="n">last_market_book</span><span class="o">.</span><span class="n">market_id</span><span class="p">),</span>
<a id="__codelineno-33-206" name="__codelineno-33-206" href="#__codelineno-33-206"></a>                            <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;selection_id&#39;</span><span class="p">],</span>
<a id="__codelineno-33-207" name="__codelineno-33-207" href="#__codelineno-33-207"></a>                            <span class="n">last_market_book</span><span class="o">.</span><span class="n">market_definition</span><span class="o">.</span><span class="n">venue</span><span class="p">,</span>
<a id="__codelineno-33-208" name="__codelineno-33-208" href="#__codelineno-33-208"></a>                            <span class="n">last_market_book</span><span class="o">.</span><span class="n">market_definition</span><span class="o">.</span><span class="n">market_time</span><span class="p">,</span>
<a id="__codelineno-33-209" name="__codelineno-33-209" href="#__codelineno-33-209"></a>                            <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;selection_name&#39;</span><span class="p">],</span>
<a id="__codelineno-33-210" name="__codelineno-33-210" href="#__codelineno-33-210"></a>                            <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;win&#39;</span><span class="p">],</span>
<a id="__codelineno-33-211" name="__codelineno-33-211" href="#__codelineno-33-211"></a>                            <span class="n">runnerMeta</span><span class="p">[</span><span class="s1">&#39;sp&#39;</span><span class="p">]</span>
<a id="__codelineno-33-212" name="__codelineno-33-212" href="#__codelineno-33-212"></a>                        <span class="p">)</span>
<a id="__codelineno-33-213" name="__codelineno-33-213" href="#__codelineno-33-213"></a>                    <span class="p">)</span>
<a id="__codelineno-33-214" name="__codelineno-33-214" href="#__codelineno-33-214"></a>
<a id="__codelineno-33-215" name="__codelineno-33-215" href="#__codelineno-33-215"></a><span class="c1"># %%</span>
<a id="__codelineno-33-216" name="__codelineno-33-216" href="#__codelineno-33-216"></a><span class="n">selection_meta</span> <span class="o">=</span> <span class="s2">&quot;[OUTPUT PATH TO CSV FOR SELECTION METADATA]&quot;</span>
<a id="__codelineno-33-217" name="__codelineno-33-217" href="#__codelineno-33-217"></a><span class="n">stream_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;[PATH TO STREAM FILES]*.tar&quot;</span><span class="p">)</span>
<a id="__codelineno-33-218" name="__codelineno-33-218" href="#__codelineno-33-218"></a><span class="c1"># trading = betfairlightweight.APIClient(&quot;username&quot;, &quot;password&quot;)</span>
<a id="__codelineno-33-219" name="__codelineno-33-219" href="#__codelineno-33-219"></a><span class="c1"># listener = StreamListener(max_latency=None)</span>
<a id="__codelineno-33-220" name="__codelineno-33-220" href="#__codelineno-33-220"></a>
<a id="__codelineno-33-221" name="__codelineno-33-221" href="#__codelineno-33-221"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;__ Parsing Selection Metadata ___ &quot;</span><span class="p">)</span>
<a id="__codelineno-33-222" name="__codelineno-33-222" href="#__codelineno-33-222"></a><span class="c1"># parse_final_selection_meta(stream_files, selection_meta)</span>
<a id="__codelineno-33-223" name="__codelineno-33-223" href="#__codelineno-33-223"></a>
<a id="__codelineno-33-224" name="__codelineno-33-224" href="#__codelineno-33-224"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-225" name="__codelineno-33-225" href="#__codelineno-33-225"></a><span class="c1"># ## 1.4 Preplay Prices and Projections</span>
<a id="__codelineno-33-226" name="__codelineno-33-226" href="#__codelineno-33-226"></a><span class="c1"># </span>
<a id="__codelineno-33-227" name="__codelineno-33-227" href="#__codelineno-33-227"></a><span class="c1"># In this set of preplay prices I&#39;m interested in many of the same fields as we&#39;ve extracted in previous tutorials as well as fields relating to the current state of the BSP.</span>
<a id="__codelineno-33-228" name="__codelineno-33-228" href="#__codelineno-33-228"></a><span class="c1"># </span>
<a id="__codelineno-33-229" name="__codelineno-33-229" href="#__codelineno-33-229"></a><span class="c1"># These objects sit under the `sp` slot within the returned `runner` object. The fields we&#39;ll extract are:</span>
<a id="__codelineno-33-230" name="__codelineno-33-230" href="#__codelineno-33-230"></a><span class="c1"># </span>
<a id="__codelineno-33-231" name="__codelineno-33-231" href="#__codelineno-33-231"></a><span class="c1"># - The so called &quot;near price&quot;</span>
<a id="__codelineno-33-232" name="__codelineno-33-232" href="#__codelineno-33-232"></a><span class="c1">#     + The near price is the projected SP value you can see on the website</span>
<a id="__codelineno-33-233" name="__codelineno-33-233" href="#__codelineno-33-233"></a><span class="c1">#     + It includes both bets already placed into the SP pools as well as open limit orders to estimate what the final BSP value will be</span>
<a id="__codelineno-33-234" name="__codelineno-33-234" href="#__codelineno-33-234"></a><span class="c1"># - The so called &quot;far price&quot;</span>
<a id="__codelineno-33-235" name="__codelineno-33-235" href="#__codelineno-33-235"></a><span class="c1">#     + This is the same as the near price except it excludes limit orders on the exchange</span>
<a id="__codelineno-33-236" name="__codelineno-33-236" href="#__codelineno-33-236"></a><span class="c1">#     + This makes it fairly redundant value and we&#39;ll see how poor of an estimator it is a bit later</span>
<a id="__codelineno-33-237" name="__codelineno-33-237" href="#__codelineno-33-237"></a><span class="c1"># - The volume currently bet into the BSP back pool</span>
<a id="__codelineno-33-238" name="__codelineno-33-238" href="#__codelineno-33-238"></a><span class="c1"># - The liability currently laid into the BSP lay pool</span>
<a id="__codelineno-33-239" name="__codelineno-33-239" href="#__codelineno-33-239"></a><span class="c1"># </span>
<a id="__codelineno-33-240" name="__codelineno-33-240" href="#__codelineno-33-240"></a><span class="c1"># We&#39;ll also extract the top 5 rungs of the available to back and available to lay ladders as well as the traded volume of limit bets.</span>
<a id="__codelineno-33-241" name="__codelineno-33-241" href="#__codelineno-33-241"></a><span class="c1"># </span>
<a id="__codelineno-33-242" name="__codelineno-33-242" href="#__codelineno-33-242"></a><span class="c1"># It&#39;s worth noting that I am discarding some key information about the BSP pools that I could have extracted if I wanted to. The current SP bets are laid out in a way that I could split out `limit_on_close` as well as `market_on_close` sp bets but I&#39;ve rolled everything together in SP stake on the back side and sp liability on the lay side. This is just to reduce complexity of this article but including it would increase the predictive power of the BSP model in the final step.</span>
<a id="__codelineno-33-243" name="__codelineno-33-243" href="#__codelineno-33-243"></a>
<a id="__codelineno-33-244" name="__codelineno-33-244" href="#__codelineno-33-244"></a><span class="c1"># %%</span>
<a id="__codelineno-33-245" name="__codelineno-33-245" href="#__codelineno-33-245"></a><span class="k">def</span> <span class="nf">loop_preplay_prices</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
<a id="__codelineno-33-246" name="__codelineno-33-246" href="#__codelineno-33-246"></a>
<a id="__codelineno-33-247" name="__codelineno-33-247" href="#__codelineno-33-247"></a>    <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s2">&quot;builtins.open&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">f</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">f</span><span class="p">):</span>
<a id="__codelineno-33-248" name="__codelineno-33-248" href="#__codelineno-33-248"></a>
<a id="__codelineno-33-249" name="__codelineno-33-249" href="#__codelineno-33-249"></a>        <span class="n">gen</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get_generator</span><span class="p">()</span>
<a id="__codelineno-33-250" name="__codelineno-33-250" href="#__codelineno-33-250"></a>
<a id="__codelineno-33-251" name="__codelineno-33-251" href="#__codelineno-33-251"></a>        <span class="n">marketID</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-33-252" name="__codelineno-33-252" href="#__codelineno-33-252"></a>        <span class="n">tradeVols</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-33-253" name="__codelineno-33-253" href="#__codelineno-33-253"></a>        <span class="n">time</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-33-254" name="__codelineno-33-254" href="#__codelineno-33-254"></a>        <span class="n">last_book_recorded</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-33-255" name="__codelineno-33-255" href="#__codelineno-33-255"></a>        <span class="n">prev_book</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-33-256" name="__codelineno-33-256" href="#__codelineno-33-256"></a>
<a id="__codelineno-33-257" name="__codelineno-33-257" href="#__codelineno-33-257"></a>        <span class="k">for</span> <span class="n">market_books</span> <span class="ow">in</span> <span class="n">gen</span><span class="p">():</span>
<a id="__codelineno-33-258" name="__codelineno-33-258" href="#__codelineno-33-258"></a>
<a id="__codelineno-33-259" name="__codelineno-33-259" href="#__codelineno-33-259"></a>            <span class="c1"># Check if this market book meets our market filter ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-33-260" name="__codelineno-33-260" href="#__codelineno-33-260"></a>
<a id="__codelineno-33-261" name="__codelineno-33-261" href="#__codelineno-33-261"></a>            <span class="k">if</span> <span class="p">((</span><span class="n">evaluate_market</span> <span class="o">:=</span> <span class="n">filter_market</span><span class="p">(</span><span class="n">market_books</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-33-262" name="__codelineno-33-262" href="#__codelineno-33-262"></a>                    <span class="k">break</span>
<a id="__codelineno-33-263" name="__codelineno-33-263" href="#__codelineno-33-263"></a>
<a id="__codelineno-33-264" name="__codelineno-33-264" href="#__codelineno-33-264"></a>            <span class="k">for</span> <span class="n">market_book</span> <span class="ow">in</span> <span class="n">market_books</span><span class="p">:</span>
<a id="__codelineno-33-265" name="__codelineno-33-265" href="#__codelineno-33-265"></a>
<a id="__codelineno-33-266" name="__codelineno-33-266" href="#__codelineno-33-266"></a>                <span class="c1"># Time Step Management ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-33-267" name="__codelineno-33-267" href="#__codelineno-33-267"></a>
<a id="__codelineno-33-268" name="__codelineno-33-268" href="#__codelineno-33-268"></a>                <span class="k">if</span> <span class="n">marketID</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-33-269" name="__codelineno-33-269" href="#__codelineno-33-269"></a>                    <span class="c1"># No market initialised</span>
<a id="__codelineno-33-270" name="__codelineno-33-270" href="#__codelineno-33-270"></a>                    <span class="n">marketID</span> <span class="o">=</span> <span class="n">market_book</span><span class="o">.</span><span class="n">market_id</span>
<a id="__codelineno-33-271" name="__codelineno-33-271" href="#__codelineno-33-271"></a>                    <span class="n">time</span> <span class="o">=</span>  <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span>
<a id="__codelineno-33-272" name="__codelineno-33-272" href="#__codelineno-33-272"></a>                <span class="k">elif</span> <span class="n">market_book</span><span class="o">.</span><span class="n">inplay</span> <span class="ow">and</span> <span class="n">last_book_recorded</span><span class="p">:</span>
<a id="__codelineno-33-273" name="__codelineno-33-273" href="#__codelineno-33-273"></a>                    <span class="k">break</span>
<a id="__codelineno-33-274" name="__codelineno-33-274" href="#__codelineno-33-274"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-275" name="__codelineno-33-275" href="#__codelineno-33-275"></a>
<a id="__codelineno-33-276" name="__codelineno-33-276" href="#__codelineno-33-276"></a>                    <span class="n">seconds_to_start</span> <span class="o">=</span> <span class="p">(</span><span class="n">market_book</span><span class="o">.</span><span class="n">market_definition</span><span class="o">.</span><span class="n">market_time</span> <span class="o">-</span> <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
<a id="__codelineno-33-277" name="__codelineno-33-277" href="#__codelineno-33-277"></a>
<a id="__codelineno-33-278" name="__codelineno-33-278" href="#__codelineno-33-278"></a>                    <span class="k">if</span> <span class="n">seconds_to_start</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">120</span><span class="p">:</span>
<a id="__codelineno-33-279" name="__codelineno-33-279" href="#__codelineno-33-279"></a>                        <span class="c1"># Too early before off to start logging prices</span>
<a id="__codelineno-33-280" name="__codelineno-33-280" href="#__codelineno-33-280"></a>                        <span class="n">prev_book</span> <span class="o">=</span> <span class="n">market_book</span>
<a id="__codelineno-33-281" name="__codelineno-33-281" href="#__codelineno-33-281"></a>                        <span class="k">continue</span>
<a id="__codelineno-33-282" name="__codelineno-33-282" href="#__codelineno-33-282"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-283" name="__codelineno-33-283" href="#__codelineno-33-283"></a>
<a id="__codelineno-33-284" name="__codelineno-33-284" href="#__codelineno-33-284"></a>                        <span class="c1"># Update data at different time steps depending on seconds to off</span>
<a id="__codelineno-33-285" name="__codelineno-33-285" href="#__codelineno-33-285"></a>                        <span class="n">wait</span> <span class="o">=</span> <span class="mi">10</span>
<a id="__codelineno-33-286" name="__codelineno-33-286" href="#__codelineno-33-286"></a>
<a id="__codelineno-33-287" name="__codelineno-33-287" href="#__codelineno-33-287"></a>                        <span class="c1"># New Market</span>
<a id="__codelineno-33-288" name="__codelineno-33-288" href="#__codelineno-33-288"></a>                        <span class="k">if</span> <span class="n">market_book</span><span class="o">.</span><span class="n">market_id</span> <span class="o">!=</span> <span class="n">marketID</span><span class="p">:</span>
<a id="__codelineno-33-289" name="__codelineno-33-289" href="#__codelineno-33-289"></a>                            <span class="n">last_book_recorded</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-33-290" name="__codelineno-33-290" href="#__codelineno-33-290"></a>                            <span class="n">marketID</span> <span class="o">=</span> <span class="n">market_book</span><span class="o">.</span><span class="n">market_id</span>
<a id="__codelineno-33-291" name="__codelineno-33-291" href="#__codelineno-33-291"></a>                            <span class="n">time</span> <span class="o">=</span>  <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span>
<a id="__codelineno-33-292" name="__codelineno-33-292" href="#__codelineno-33-292"></a>                            <span class="k">continue</span>
<a id="__codelineno-33-293" name="__codelineno-33-293" href="#__codelineno-33-293"></a>                        <span class="c1"># (wait) seconds elapsed since last write</span>
<a id="__codelineno-33-294" name="__codelineno-33-294" href="#__codelineno-33-294"></a>                        <span class="k">elif</span> <span class="p">(</span><span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span> <span class="o">-</span> <span class="n">time</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">wait</span><span class="p">:</span>
<a id="__codelineno-33-295" name="__codelineno-33-295" href="#__codelineno-33-295"></a>                            <span class="n">time</span> <span class="o">=</span> <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span>
<a id="__codelineno-33-296" name="__codelineno-33-296" href="#__codelineno-33-296"></a>                        <span class="c1"># if current marketbook is inplay want to record the previous market book as it&#39;s the last preplay marketbook</span>
<a id="__codelineno-33-297" name="__codelineno-33-297" href="#__codelineno-33-297"></a>                        <span class="k">elif</span> <span class="n">market_book</span><span class="o">.</span><span class="n">inplay</span><span class="p">:</span>
<a id="__codelineno-33-298" name="__codelineno-33-298" href="#__codelineno-33-298"></a>                            <span class="n">last_book_recorded</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-33-299" name="__codelineno-33-299" href="#__codelineno-33-299"></a>                            <span class="n">market_book</span> <span class="o">=</span> <span class="n">prev_book</span>
<a id="__codelineno-33-300" name="__codelineno-33-300" href="#__codelineno-33-300"></a>                        <span class="c1"># fewer than (wait) seconds elapsed continue to next loop</span>
<a id="__codelineno-33-301" name="__codelineno-33-301" href="#__codelineno-33-301"></a>                        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-302" name="__codelineno-33-302" href="#__codelineno-33-302"></a>                            <span class="n">prev_book</span> <span class="o">=</span> <span class="n">market_book</span>
<a id="__codelineno-33-303" name="__codelineno-33-303" href="#__codelineno-33-303"></a>                            <span class="k">continue</span>
<a id="__codelineno-33-304" name="__codelineno-33-304" href="#__codelineno-33-304"></a>
<a id="__codelineno-33-305" name="__codelineno-33-305" href="#__codelineno-33-305"></a>                <span class="c1"># Execute Data Logging ++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-33-306" name="__codelineno-33-306" href="#__codelineno-33-306"></a>                <span class="k">for</span> <span class="n">runner</span> <span class="ow">in</span> <span class="n">market_book</span><span class="o">.</span><span class="n">runners</span><span class="p">:</span>
<a id="__codelineno-33-307" name="__codelineno-33-307" href="#__codelineno-33-307"></a>
<a id="__codelineno-33-308" name="__codelineno-33-308" href="#__codelineno-33-308"></a>                    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-33-309" name="__codelineno-33-309" href="#__codelineno-33-309"></a>                        <span class="n">atb_ladder</span> <span class="o">=</span> <span class="n">pull_ladder</span><span class="p">(</span><span class="n">runner</span><span class="o">.</span><span class="n">ex</span><span class="o">.</span><span class="n">available_to_back</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-33-310" name="__codelineno-33-310" href="#__codelineno-33-310"></a>                        <span class="n">atl_ladder</span> <span class="o">=</span> <span class="n">pull_ladder</span><span class="p">(</span><span class="n">runner</span><span class="o">.</span><span class="n">ex</span><span class="o">.</span><span class="n">available_to_lay</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-33-311" name="__codelineno-33-311" href="#__codelineno-33-311"></a>                    <span class="k">except</span><span class="p">:</span>
<a id="__codelineno-33-312" name="__codelineno-33-312" href="#__codelineno-33-312"></a>                        <span class="n">atb_ladder</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-33-313" name="__codelineno-33-313" href="#__codelineno-33-313"></a>                        <span class="n">atl_ladder</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-33-314" name="__codelineno-33-314" href="#__codelineno-33-314"></a>
<a id="__codelineno-33-315" name="__codelineno-33-315" href="#__codelineno-33-315"></a>                    <span class="n">limitTradedVol</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">rung</span><span class="o">.</span><span class="n">size</span> <span class="k">for</span> <span class="n">rung</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">ex</span><span class="o">.</span><span class="n">traded_volume</span><span class="p">])</span>
<a id="__codelineno-33-316" name="__codelineno-33-316" href="#__codelineno-33-316"></a>
<a id="__codelineno-33-317" name="__codelineno-33-317" href="#__codelineno-33-317"></a>                    <span class="n">o</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span>
<a id="__codelineno-33-318" name="__codelineno-33-318" href="#__codelineno-33-318"></a>                        <span class="p">(</span>
<a id="__codelineno-33-319" name="__codelineno-33-319" href="#__codelineno-33-319"></a>                            <span class="n">market_book</span><span class="o">.</span><span class="n">market_id</span><span class="p">,</span>
<a id="__codelineno-33-320" name="__codelineno-33-320" href="#__codelineno-33-320"></a>                            <span class="n">runner</span><span class="o">.</span><span class="n">selection_id</span><span class="p">,</span>
<a id="__codelineno-33-321" name="__codelineno-33-321" href="#__codelineno-33-321"></a>                            <span class="n">market_book</span><span class="o">.</span><span class="n">publish_time</span><span class="p">,</span>
<a id="__codelineno-33-322" name="__codelineno-33-322" href="#__codelineno-33-322"></a>                            <span class="nb">int</span><span class="p">(</span><span class="n">limitTradedVol</span><span class="p">),</span>
<a id="__codelineno-33-323" name="__codelineno-33-323" href="#__codelineno-33-323"></a>                            <span class="c1"># SP Fields</span>
<a id="__codelineno-33-324" name="__codelineno-33-324" href="#__codelineno-33-324"></a>                            <span class="n">runner</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">near_price</span><span class="p">,</span>
<a id="__codelineno-33-325" name="__codelineno-33-325" href="#__codelineno-33-325"></a>                            <span class="n">runner</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">far_price</span><span class="p">,</span>
<a id="__codelineno-33-326" name="__codelineno-33-326" href="#__codelineno-33-326"></a>                            <span class="nb">int</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">ps</span><span class="o">.</span><span class="n">size</span> <span class="k">for</span> <span class="n">ps</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">back_stake_taken</span><span class="p">])),</span>
<a id="__codelineno-33-327" name="__codelineno-33-327" href="#__codelineno-33-327"></a>                            <span class="nb">int</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">ps</span><span class="o">.</span><span class="n">size</span> <span class="k">for</span> <span class="n">ps</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">lay_liability_taken</span><span class="p">])),</span>
<a id="__codelineno-33-328" name="__codelineno-33-328" href="#__codelineno-33-328"></a>                            <span class="c1"># Limit bets available</span>
<a id="__codelineno-33-329" name="__codelineno-33-329" href="#__codelineno-33-329"></a>                            <span class="nb">str</span><span class="p">(</span><span class="n">atb_ladder</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span> 
<a id="__codelineno-33-330" name="__codelineno-33-330" href="#__codelineno-33-330"></a>                            <span class="nb">str</span><span class="p">(</span><span class="n">atl_ladder</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<a id="__codelineno-33-331" name="__codelineno-33-331" href="#__codelineno-33-331"></a>                        <span class="p">)</span>
<a id="__codelineno-33-332" name="__codelineno-33-332" href="#__codelineno-33-332"></a>                    <span class="p">)</span>
<a id="__codelineno-33-333" name="__codelineno-33-333" href="#__codelineno-33-333"></a>
<a id="__codelineno-33-334" name="__codelineno-33-334" href="#__codelineno-33-334"></a>                <span class="n">prev_book</span> <span class="o">=</span> <span class="n">market_book</span>
<a id="__codelineno-33-335" name="__codelineno-33-335" href="#__codelineno-33-335"></a>
<a id="__codelineno-33-336" name="__codelineno-33-336" href="#__codelineno-33-336"></a><span class="k">def</span> <span class="nf">parse_preplay_prices</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">out_file</span><span class="p">):</span>
<a id="__codelineno-33-337" name="__codelineno-33-337" href="#__codelineno-33-337"></a>
<a id="__codelineno-33-338" name="__codelineno-33-338" href="#__codelineno-33-338"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">out_file</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
<a id="__codelineno-33-339" name="__codelineno-33-339" href="#__codelineno-33-339"></a>
<a id="__codelineno-33-340" name="__codelineno-33-340" href="#__codelineno-33-340"></a>        <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span>
<a id="__codelineno-33-341" name="__codelineno-33-341" href="#__codelineno-33-341"></a>            <span class="n">output</span><span class="p">,</span> 
<a id="__codelineno-33-342" name="__codelineno-33-342" href="#__codelineno-33-342"></a>            <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span>
<a id="__codelineno-33-343" name="__codelineno-33-343" href="#__codelineno-33-343"></a>            <span class="n">lineterminator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span><span class="p">,</span>
<a id="__codelineno-33-344" name="__codelineno-33-344" href="#__codelineno-33-344"></a>            <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_ALL</span>
<a id="__codelineno-33-345" name="__codelineno-33-345" href="#__codelineno-33-345"></a>        <span class="p">)</span>
<a id="__codelineno-33-346" name="__codelineno-33-346" href="#__codelineno-33-346"></a>        <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">((</span><span class="s2">&quot;market_id&quot;</span><span class="p">,</span><span class="s2">&quot;selection_id&quot;</span><span class="p">,</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="s2">&quot;traded_volume&quot;</span><span class="p">,</span><span class="s2">&quot;near_price&quot;</span><span class="p">,</span><span class="s2">&quot;far_price&quot;</span><span class="p">,</span><span class="s2">&quot;bsp_back_pool_stake&quot;</span><span class="p">,</span><span class="s2">&quot;bsp_lay_pool_liability&quot;</span><span class="p">,</span><span class="s2">&quot;atb_ladder&quot;</span><span class="p">,</span><span class="s1">&#39;atl_ladder&#39;</span><span class="p">))</span>
<a id="__codelineno-33-347" name="__codelineno-33-347" href="#__codelineno-33-347"></a>
<a id="__codelineno-33-348" name="__codelineno-33-348" href="#__codelineno-33-348"></a>        <span class="k">for</span> <span class="n">file_obj</span> <span class="ow">in</span> <span class="n">load_markets</span><span class="p">(</span><span class="nb">dir</span><span class="p">):</span>
<a id="__codelineno-33-349" name="__codelineno-33-349" href="#__codelineno-33-349"></a>
<a id="__codelineno-33-350" name="__codelineno-33-350" href="#__codelineno-33-350"></a>            <span class="n">stream</span> <span class="o">=</span> <span class="n">trading</span><span class="o">.</span><span class="n">streaming</span><span class="o">.</span><span class="n">create_historical_generator_stream</span><span class="p">(</span>
<a id="__codelineno-33-351" name="__codelineno-33-351" href="#__codelineno-33-351"></a>                <span class="n">file_path</span><span class="o">=</span><span class="n">file_obj</span><span class="p">,</span>
<a id="__codelineno-33-352" name="__codelineno-33-352" href="#__codelineno-33-352"></a>                <span class="n">listener</span><span class="o">=</span><span class="n">listener</span><span class="p">,</span>
<a id="__codelineno-33-353" name="__codelineno-33-353" href="#__codelineno-33-353"></a>            <span class="p">)</span>
<a id="__codelineno-33-354" name="__codelineno-33-354" href="#__codelineno-33-354"></a>
<a id="__codelineno-33-355" name="__codelineno-33-355" href="#__codelineno-33-355"></a>            <span class="n">loop_preplay_prices</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span>
<a id="__codelineno-33-356" name="__codelineno-33-356" href="#__codelineno-33-356"></a>
<a id="__codelineno-33-357" name="__codelineno-33-357" href="#__codelineno-33-357"></a><span class="c1"># %%</span>
<a id="__codelineno-33-358" name="__codelineno-33-358" href="#__codelineno-33-358"></a><span class="n">price</span> <span class="o">=</span> <span class="s2">&quot;[OUTPUT PATH TO CSV FOR SELECTION METADATA]&quot;</span>
<a id="__codelineno-33-359" name="__codelineno-33-359" href="#__codelineno-33-359"></a><span class="n">stream_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;[PATH TO STREAM FILES]*.tar&quot;</span><span class="p">)</span>
<a id="__codelineno-33-360" name="__codelineno-33-360" href="#__codelineno-33-360"></a><span class="c1"># trading = betfairlightweight.APIClient(&quot;username&quot;, &quot;password&quot;)</span>
<a id="__codelineno-33-361" name="__codelineno-33-361" href="#__codelineno-33-361"></a><span class="c1"># listener = StreamListener(max_latency=None)</span>
<a id="__codelineno-33-362" name="__codelineno-33-362" href="#__codelineno-33-362"></a>
<a id="__codelineno-33-363" name="__codelineno-33-363" href="#__codelineno-33-363"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;__ Parsing Selection Prices ___ &quot;</span><span class="p">)</span>
<a id="__codelineno-33-364" name="__codelineno-33-364" href="#__codelineno-33-364"></a><span class="c1"># parse_final_selection_meta(stream_files, price)</span>
<a id="__codelineno-33-365" name="__codelineno-33-365" href="#__codelineno-33-365"></a>
<a id="__codelineno-33-366" name="__codelineno-33-366" href="#__codelineno-33-366"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-367" name="__codelineno-33-367" href="#__codelineno-33-367"></a><span class="c1"># # 2.0 Analysis</span>
<a id="__codelineno-33-368" name="__codelineno-33-368" href="#__codelineno-33-368"></a><span class="c1"># </span>
<a id="__codelineno-33-369" name="__codelineno-33-369" href="#__codelineno-33-369"></a><span class="c1"># First step let&#39;s boot up the datasets we extracted in the previous steps and take a look at what we&#39;ve managed to extract from the raw stream files.</span>
<a id="__codelineno-33-370" name="__codelineno-33-370" href="#__codelineno-33-370"></a><span class="c1"># </span>
<a id="__codelineno-33-371" name="__codelineno-33-371" href="#__codelineno-33-371"></a><span class="c1"># ## 2.1 Load and Inspect</span>
<a id="__codelineno-33-372" name="__codelineno-33-372" href="#__codelineno-33-372"></a><span class="c1"># </span>
<a id="__codelineno-33-373" name="__codelineno-33-373" href="#__codelineno-33-373"></a><span class="c1"># First we have the highlevel selection metadata as we have already seen in other tutorials</span>
<a id="__codelineno-33-374" name="__codelineno-33-374" href="#__codelineno-33-374"></a>
<a id="__codelineno-33-375" name="__codelineno-33-375" href="#__codelineno-33-375"></a><span class="c1"># %%</span>
<a id="__codelineno-33-376" name="__codelineno-33-376" href="#__codelineno-33-376"></a><span class="n">selection</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;[PATH TO YOUR SELECTION METADATA FILE]&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;market_id&#39;</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">:</span> <span class="nb">object</span><span class="p">},</span> <span class="n">parse_dates</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;market_time&#39;</span><span class="p">])</span>
<a id="__codelineno-33-377" name="__codelineno-33-377" href="#__codelineno-33-377"></a>
<a id="__codelineno-33-378" name="__codelineno-33-378" href="#__codelineno-33-378"></a><span class="n">selection</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-33-379" name="__codelineno-33-379" href="#__codelineno-33-379"></a>
<a id="__codelineno-33-380" name="__codelineno-33-380" href="#__codelineno-33-380"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-381" name="__codelineno-33-381" href="#__codelineno-33-381"></a><span class="c1"># Now let&#39;s load the prices file. We&#39;ll apply some extra logic to parse the ladder columns into dictionaries and also remove the first odds record per group as it&#39;s the first record as the market was instantiated.</span>
<a id="__codelineno-33-382" name="__codelineno-33-382" href="#__codelineno-33-382"></a>
<a id="__codelineno-33-383" name="__codelineno-33-383" href="#__codelineno-33-383"></a><span class="c1"># %%</span>
<a id="__codelineno-33-384" name="__codelineno-33-384" href="#__codelineno-33-384"></a><span class="n">prices</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
<a id="__codelineno-33-385" name="__codelineno-33-385" href="#__codelineno-33-385"></a>    <span class="s2">&quot;[PATH TO YOUR PRICES FILE]&quot;</span><span class="p">,</span> 
<a id="__codelineno-33-386" name="__codelineno-33-386" href="#__codelineno-33-386"></a>    <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_ALL</span><span class="p">,</span>
<a id="__codelineno-33-387" name="__codelineno-33-387" href="#__codelineno-33-387"></a>    <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;market_id&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span>
<a id="__codelineno-33-388" name="__codelineno-33-388" href="#__codelineno-33-388"></a>    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
<a id="__codelineno-33-389" name="__codelineno-33-389" href="#__codelineno-33-389"></a><span class="p">)</span>
<a id="__codelineno-33-390" name="__codelineno-33-390" href="#__codelineno-33-390"></a>
<a id="__codelineno-33-391" name="__codelineno-33-391" href="#__codelineno-33-391"></a><span class="c1"># Parse ladder columns</span>
<a id="__codelineno-33-392" name="__codelineno-33-392" href="#__codelineno-33-392"></a><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;atb_ladder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;atb_ladder&#39;</span><span class="p">]]</span>
<a id="__codelineno-33-393" name="__codelineno-33-393" href="#__codelineno-33-393"></a><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;atl_ladder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;atl_ladder&#39;</span><span class="p">]]</span>
<a id="__codelineno-33-394" name="__codelineno-33-394" href="#__codelineno-33-394"></a>
<a id="__codelineno-33-395" name="__codelineno-33-395" href="#__codelineno-33-395"></a><span class="c1"># Drop the first row within each group</span>
<a id="__codelineno-33-396" name="__codelineno-33-396" href="#__codelineno-33-396"></a><span class="n">prices</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">],</span><span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<a id="__codelineno-33-397" name="__codelineno-33-397" href="#__codelineno-33-397"></a>
<a id="__codelineno-33-398" name="__codelineno-33-398" href="#__codelineno-33-398"></a><span class="n">prices</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-33-399" name="__codelineno-33-399" href="#__codelineno-33-399"></a>
<a id="__codelineno-33-400" name="__codelineno-33-400" href="#__codelineno-33-400"></a><span class="c1"># %%</span>
<a id="__codelineno-33-401" name="__codelineno-33-401" href="#__codelineno-33-401"></a><span class="sa">f</span><span class="s1">&#39;The shape of the prices data file is </span><span class="si">{</span><span class="n">prices</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> rows and </span><span class="si">{</span><span class="n">prices</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1"> columns&#39;</span>
<a id="__codelineno-33-402" name="__codelineno-33-402" href="#__codelineno-33-402"></a>
<a id="__codelineno-33-403" name="__codelineno-33-403" href="#__codelineno-33-403"></a><span class="c1"># %%</span>
<a id="__codelineno-33-404" name="__codelineno-33-404" href="#__codelineno-33-404"></a><span class="c1"># Let&#39;s have a look at the prices datafile for a distinct market and selection</span>
<a id="__codelineno-33-405" name="__codelineno-33-405" href="#__codelineno-33-405"></a><span class="n">prices</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;market_id == &quot;1.183995724&quot; and selection_id == &quot;22832649&quot;&#39;</span><span class="p">)</span>
<a id="__codelineno-33-406" name="__codelineno-33-406" href="#__codelineno-33-406"></a>
<a id="__codelineno-33-407" name="__codelineno-33-407" href="#__codelineno-33-407"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-408" name="__codelineno-33-408" href="#__codelineno-33-408"></a><span class="c1"># We can see some expected behaviour as we zoom in on a particular selection</span>
<a id="__codelineno-33-409" name="__codelineno-33-409" href="#__codelineno-33-409"></a><span class="c1"># </span>
<a id="__codelineno-33-410" name="__codelineno-33-410" href="#__codelineno-33-410"></a><span class="c1"># - The traded volume increases on this selection as we get closer to the jump</span>
<a id="__codelineno-33-411" name="__codelineno-33-411" href="#__codelineno-33-411"></a><span class="c1"># - The projected BSP (the `near_price` column) stays constant for a number of increments as its update is cached for 60 seconds at a time</span>
<a id="__codelineno-33-412" name="__codelineno-33-412" href="#__codelineno-33-412"></a><span class="c1"># - The sizes in the BSP pools also increases as we get closer to the jump</span>
<a id="__codelineno-33-413" name="__codelineno-33-413" href="#__codelineno-33-413"></a><span class="c1"># - The prices offered and traded closer to the jump are closer to the BSP than those at the start of the 2 minute period</span>
<a id="__codelineno-33-414" name="__codelineno-33-414" href="#__codelineno-33-414"></a>
<a id="__codelineno-33-415" name="__codelineno-33-415" href="#__codelineno-33-415"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-416" name="__codelineno-33-416" href="#__codelineno-33-416"></a><span class="c1"># ## 2.2 Transform and Assemble</span>
<a id="__codelineno-33-417" name="__codelineno-33-417" href="#__codelineno-33-417"></a><span class="c1"># </span>
<a id="__codelineno-33-418" name="__codelineno-33-418" href="#__codelineno-33-418"></a><span class="c1"># We have our 2 core datasets, but we&#39;d prefer to work with one now. We&#39;d also like to add some key columns that will be reused throughout our analysis so we&#39;ll add those now too.</span>
<a id="__codelineno-33-419" name="__codelineno-33-419" href="#__codelineno-33-419"></a><span class="c1"># </span>
<a id="__codelineno-33-420" name="__codelineno-33-420" href="#__codelineno-33-420"></a><span class="c1"># </span>
<a id="__codelineno-33-421" name="__codelineno-33-421" href="#__codelineno-33-421"></a><span class="c1"># ### 2.2.1 Mid points</span>
<a id="__codelineno-33-422" name="__codelineno-33-422" href="#__codelineno-33-422"></a><span class="c1"># </span>
<a id="__codelineno-33-423" name="__codelineno-33-423" href="#__codelineno-33-423"></a><span class="c1"># The first semi-interesting thing we&#39;ll do in this analysis is add selection mid-points to our dataset. Eventually we&#39;re going to be interested in estimating the BSP and measuring the efficiency of certain prices at various points leading up to the race. </span>
<a id="__codelineno-33-424" name="__codelineno-33-424" href="#__codelineno-33-424"></a><span class="c1"># </span>
<a id="__codelineno-33-425" name="__codelineno-33-425" href="#__codelineno-33-425"></a><span class="c1"># Betfair markets work like all markets with bids and spreads. The market equilibrium forms around the best price offered on either side of the market to back or to lay. These top prices each have some inherent advantage built into it for the offerer. For example in early markets the best offers on either side of the market might be really wide (say 1.80 as a best back and 2.50 as a best lay). Given the price discovery process is still immature each bidder gets a large premium, backed into their offer price, which compensates them for providing betting opportunities with little to no information provided from other market participants. This spread will naturally get tighter and tighter as the market matures and more participants seek to get volume down and must be more and more competitive. But what&#39;s the price &quot;equilibrium&quot; in each case?</span>
<a id="__codelineno-33-426" name="__codelineno-33-426" href="#__codelineno-33-426"></a><span class="c1"># </span>
<a id="__codelineno-33-427" name="__codelineno-33-427" href="#__codelineno-33-427"></a><span class="c1"># Well it&#39;s up to you but I&#39;ll provide you two ways of finding the central mid-point of a bid-ask spread on betfair markets. The problem we&#39;re solving for here is the non-linearity of prices in odds space. We have some intuition for this: when we see a market spread of 10-100 in early trading we have an understanding that the true midpoint of this market is somewhere around 25-35 not the 55 you&#39;d get if you simply took the (arithmetic) mean of those two numbers.</span>
<a id="__codelineno-33-428" name="__codelineno-33-428" href="#__codelineno-33-428"></a><span class="c1"># </span>
<a id="__codelineno-33-429" name="__codelineno-33-429" href="#__codelineno-33-429"></a><span class="c1"># Two techniquest for accounting for that non-linearity are as follows.</span>
<a id="__codelineno-33-430" name="__codelineno-33-430" href="#__codelineno-33-430"></a><span class="c1"># </span>
<a id="__codelineno-33-431" name="__codelineno-33-431" href="#__codelineno-33-431"></a><span class="c1"># **Ladder Midpoint**</span>
<a id="__codelineno-33-432" name="__codelineno-33-432" href="#__codelineno-33-432"></a><span class="c1"># </span>
<a id="__codelineno-33-433" name="__codelineno-33-433" href="#__codelineno-33-433"></a><span class="c1"># The ladder midpoint method takes advantage of the fact that the betfair price ladder itself accounts for the nonlinearity of prices in odds space. The method calculated the difference in number of rungs on the betfair ladder, halves it, and shifts the best back or lay price that number of rungs towards the centre. This will generally provide a much better idea of the market midpoint than a simple arithmetic mean of the two prices.</span>
<a id="__codelineno-33-434" name="__codelineno-33-434" href="#__codelineno-33-434"></a><span class="c1"># </span>
<a id="__codelineno-33-435" name="__codelineno-33-435" href="#__codelineno-33-435"></a><span class="c1"># **Geometric Mean**</span>
<a id="__codelineno-33-436" name="__codelineno-33-436" href="#__codelineno-33-436"></a><span class="c1"># </span>
<a id="__codelineno-33-437" name="__codelineno-33-437" href="#__codelineno-33-437"></a><span class="c1"># Unfortunately the ladder method is a little computationally expensive. A good approximation for this approach is to take the geometric mean of the best back and best lay values. The geometric mean is a special kind of mean that you may have never used before that is more appropriate for purposes like this. It is calculated like: `sqrt(x1 * x2 * ...)`. This number will also provide a much better estimate of the market midpoint than the simple arithmetic mean.</span>
<a id="__codelineno-33-438" name="__codelineno-33-438" href="#__codelineno-33-438"></a><span class="c1"># </span>
<a id="__codelineno-33-439" name="__codelineno-33-439" href="#__codelineno-33-439"></a><span class="c1"># The latter calculation is trivial. The former requires a suite of betfair tick arithmetic functions that I&#39;ll put below. It may seem like overkill for this exercise (and it is) but hopefully these functions might be of use to you for other purposes.</span>
<a id="__codelineno-33-440" name="__codelineno-33-440" href="#__codelineno-33-440"></a>
<a id="__codelineno-33-441" name="__codelineno-33-441" href="#__codelineno-33-441"></a><span class="c1"># %%</span>
<a id="__codelineno-33-442" name="__codelineno-33-442" href="#__codelineno-33-442"></a><span class="c1"># Define the betfair tick ladder</span>
<a id="__codelineno-33-443" name="__codelineno-33-443" href="#__codelineno-33-443"></a><span class="k">def</span> <span class="nf">bfTickLadder</span><span class="p">():</span>
<a id="__codelineno-33-444" name="__codelineno-33-444" href="#__codelineno-33-444"></a>
<a id="__codelineno-33-445" name="__codelineno-33-445" href="#__codelineno-33-445"></a>    <span class="n">tickIncrements</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-33-446" name="__codelineno-33-446" href="#__codelineno-33-446"></a>        <span class="mf">1.0</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
<a id="__codelineno-33-447" name="__codelineno-33-447" href="#__codelineno-33-447"></a>        <span class="mf">2.0</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
<a id="__codelineno-33-448" name="__codelineno-33-448" href="#__codelineno-33-448"></a>        <span class="mf">3.0</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
<a id="__codelineno-33-449" name="__codelineno-33-449" href="#__codelineno-33-449"></a>        <span class="mf">4.0</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<a id="__codelineno-33-450" name="__codelineno-33-450" href="#__codelineno-33-450"></a>        <span class="mf">6.0</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<a id="__codelineno-33-451" name="__codelineno-33-451" href="#__codelineno-33-451"></a>        <span class="mf">10.0</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-33-452" name="__codelineno-33-452" href="#__codelineno-33-452"></a>        <span class="mf">20.0</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-33-453" name="__codelineno-33-453" href="#__codelineno-33-453"></a>        <span class="mf">30.0</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<a id="__codelineno-33-454" name="__codelineno-33-454" href="#__codelineno-33-454"></a>        <span class="mf">50.0</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<a id="__codelineno-33-455" name="__codelineno-33-455" href="#__codelineno-33-455"></a>        <span class="mf">100.0</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<a id="__codelineno-33-456" name="__codelineno-33-456" href="#__codelineno-33-456"></a>        <span class="mf">1000.0</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
<a id="__codelineno-33-457" name="__codelineno-33-457" href="#__codelineno-33-457"></a>    <span class="p">}</span>
<a id="__codelineno-33-458" name="__codelineno-33-458" href="#__codelineno-33-458"></a>
<a id="__codelineno-33-459" name="__codelineno-33-459" href="#__codelineno-33-459"></a>    <span class="n">ladder</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-33-460" name="__codelineno-33-460" href="#__codelineno-33-460"></a>
<a id="__codelineno-33-461" name="__codelineno-33-461" href="#__codelineno-33-461"></a>    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tickIncrements</span><span class="p">):</span>
<a id="__codelineno-33-462" name="__codelineno-33-462" href="#__codelineno-33-462"></a>
<a id="__codelineno-33-463" name="__codelineno-33-463" href="#__codelineno-33-463"></a>        <span class="n">increment</span> <span class="o">=</span> <span class="n">tickIncrements</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
<a id="__codelineno-33-464" name="__codelineno-33-464" href="#__codelineno-33-464"></a>
<a id="__codelineno-33-465" name="__codelineno-33-465" href="#__codelineno-33-465"></a>        <span class="k">if</span> <span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">tickIncrements</span><span class="p">):</span>
<a id="__codelineno-33-466" name="__codelineno-33-466" href="#__codelineno-33-466"></a>            <span class="n">ladder</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-33-467" name="__codelineno-33-467" href="#__codelineno-33-467"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-468" name="__codelineno-33-468" href="#__codelineno-33-468"></a>            <span class="n">key1</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">tickIncrements</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>
<a id="__codelineno-33-469" name="__codelineno-33-469" href="#__codelineno-33-469"></a>            <span class="n">key2</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">tickIncrements</span><span class="p">][</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-33-470" name="__codelineno-33-470" href="#__codelineno-33-470"></a>            <span class="n">steps</span> <span class="o">=</span> <span class="p">(</span><span class="n">key2</span> <span class="o">-</span> <span class="n">key1</span><span class="p">)</span> <span class="o">/</span> <span class="n">increment</span>
<a id="__codelineno-33-471" name="__codelineno-33-471" href="#__codelineno-33-471"></a>
<a id="__codelineno-33-472" name="__codelineno-33-472" href="#__codelineno-33-472"></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">steps</span><span class="p">)):</span>
<a id="__codelineno-33-473" name="__codelineno-33-473" href="#__codelineno-33-473"></a>                <span class="n">ladder</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">key</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">increment</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<a id="__codelineno-33-474" name="__codelineno-33-474" href="#__codelineno-33-474"></a>
<a id="__codelineno-33-475" name="__codelineno-33-475" href="#__codelineno-33-475"></a>    <span class="k">return</span><span class="p">(</span><span class="n">ladder</span><span class="p">)</span>
<a id="__codelineno-33-476" name="__codelineno-33-476" href="#__codelineno-33-476"></a>
<a id="__codelineno-33-477" name="__codelineno-33-477" href="#__codelineno-33-477"></a><span class="n">bfticks</span> <span class="o">=</span> <span class="n">bfTickLadder</span><span class="p">()</span>
<a id="__codelineno-33-478" name="__codelineno-33-478" href="#__codelineno-33-478"></a>
<a id="__codelineno-33-479" name="__codelineno-33-479" href="#__codelineno-33-479"></a><span class="c1"># Round a decimal to the betfair tick value below</span>
<a id="__codelineno-33-480" name="__codelineno-33-480" href="#__codelineno-33-480"></a><span class="k">def</span> <span class="nf">bfTickFloor</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">includeIndex</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-33-481" name="__codelineno-33-481" href="#__codelineno-33-481"></a>
<a id="__codelineno-33-482" name="__codelineno-33-482" href="#__codelineno-33-482"></a>    <span class="k">if</span> <span class="s1">&#39;bfticks&#39;</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
<a id="__codelineno-33-483" name="__codelineno-33-483" href="#__codelineno-33-483"></a>        <span class="k">global</span> <span class="n">bfticks</span>
<a id="__codelineno-33-484" name="__codelineno-33-484" href="#__codelineno-33-484"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-485" name="__codelineno-33-485" href="#__codelineno-33-485"></a>        <span class="n">bfticks</span> <span class="o">=</span> <span class="n">bfTickLadder</span><span class="p">()</span>
<a id="__codelineno-33-486" name="__codelineno-33-486" href="#__codelineno-33-486"></a>
<a id="__codelineno-33-487" name="__codelineno-33-487" href="#__codelineno-33-487"></a>    <span class="n">ind</span> <span class="o">=</span> <span class="p">[</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span><span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bfticks</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">=</span><span class="n">price</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-33-488" name="__codelineno-33-488" href="#__codelineno-33-488"></a>    <span class="k">if</span> <span class="n">includeIndex</span><span class="p">:</span>
<a id="__codelineno-33-489" name="__codelineno-33-489" href="#__codelineno-33-489"></a>        <span class="k">if</span> <span class="n">bfticks</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span><span class="o">==</span><span class="n">price</span><span class="p">:</span>
<a id="__codelineno-33-490" name="__codelineno-33-490" href="#__codelineno-33-490"></a>            <span class="k">return</span><span class="p">((</span><span class="n">ind</span><span class="p">,</span> <span class="n">price</span><span class="p">))</span>
<a id="__codelineno-33-491" name="__codelineno-33-491" href="#__codelineno-33-491"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-492" name="__codelineno-33-492" href="#__codelineno-33-492"></a>            <span class="k">return</span><span class="p">((</span><span class="n">ind</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">bfticks</span><span class="p">[</span><span class="n">ind</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
<a id="__codelineno-33-493" name="__codelineno-33-493" href="#__codelineno-33-493"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-494" name="__codelineno-33-494" href="#__codelineno-33-494"></a>        <span class="k">if</span> <span class="n">bfticks</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span><span class="o">==</span><span class="n">price</span><span class="p">:</span>
<a id="__codelineno-33-495" name="__codelineno-33-495" href="#__codelineno-33-495"></a>            <span class="k">return</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>
<a id="__codelineno-33-496" name="__codelineno-33-496" href="#__codelineno-33-496"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-497" name="__codelineno-33-497" href="#__codelineno-33-497"></a>            <span class="k">return</span><span class="p">(</span><span class="n">bfticks</span><span class="p">[</span><span class="n">ind</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-33-498" name="__codelineno-33-498" href="#__codelineno-33-498"></a>
<a id="__codelineno-33-499" name="__codelineno-33-499" href="#__codelineno-33-499"></a><span class="c1"># Calculate the numder of ticks between two tick values</span>
<a id="__codelineno-33-500" name="__codelineno-33-500" href="#__codelineno-33-500"></a><span class="k">def</span> <span class="nf">bfTickDelta</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-33-501" name="__codelineno-33-501" href="#__codelineno-33-501"></a>
<a id="__codelineno-33-502" name="__codelineno-33-502" href="#__codelineno-33-502"></a>    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-33-503" name="__codelineno-33-503" href="#__codelineno-33-503"></a>        <span class="k">return</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<a id="__codelineno-33-504" name="__codelineno-33-504" href="#__codelineno-33-504"></a>
<a id="__codelineno-33-505" name="__codelineno-33-505" href="#__codelineno-33-505"></a>    <span class="n">x</span> <span class="o">=</span> <span class="n">bfTickFloor</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">includeIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-33-506" name="__codelineno-33-506" href="#__codelineno-33-506"></a>    <span class="n">y</span> <span class="o">=</span> <span class="n">bfTickFloor</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">includeIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-33-507" name="__codelineno-33-507" href="#__codelineno-33-507"></a>    <span class="k">return</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-33-508" name="__codelineno-33-508" href="#__codelineno-33-508"></a>
<a id="__codelineno-33-509" name="__codelineno-33-509" href="#__codelineno-33-509"></a><span class="k">def</span> <span class="nf">bfTickShift</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">rungs</span><span class="p">):</span>
<a id="__codelineno-33-510" name="__codelineno-33-510" href="#__codelineno-33-510"></a>
<a id="__codelineno-33-511" name="__codelineno-33-511" href="#__codelineno-33-511"></a>    <span class="k">if</span> <span class="s1">&#39;bfticks&#39;</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
<a id="__codelineno-33-512" name="__codelineno-33-512" href="#__codelineno-33-512"></a>        <span class="k">global</span> <span class="n">bfticks</span>
<a id="__codelineno-33-513" name="__codelineno-33-513" href="#__codelineno-33-513"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-514" name="__codelineno-33-514" href="#__codelineno-33-514"></a>        <span class="n">bfticks</span> <span class="o">=</span> <span class="n">bfTickLadder</span><span class="p">()</span>
<a id="__codelineno-33-515" name="__codelineno-33-515" href="#__codelineno-33-515"></a>
<a id="__codelineno-33-516" name="__codelineno-33-516" href="#__codelineno-33-516"></a>    <span class="n">flr</span> <span class="o">=</span> <span class="n">bfTickFloor</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">includeIndex</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-33-517" name="__codelineno-33-517" href="#__codelineno-33-517"></a>
<a id="__codelineno-33-518" name="__codelineno-33-518" href="#__codelineno-33-518"></a>    <span class="k">return</span><span class="p">(</span><span class="n">bfticks</span><span class="p">[</span><span class="n">flr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">rungs</span><span class="p">])</span>
<a id="__codelineno-33-519" name="__codelineno-33-519" href="#__codelineno-33-519"></a>
<a id="__codelineno-33-520" name="__codelineno-33-520" href="#__codelineno-33-520"></a>
<a id="__codelineno-33-521" name="__codelineno-33-521" href="#__codelineno-33-521"></a><span class="k">def</span> <span class="nf">bfLadderMidPoint</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-33-522" name="__codelineno-33-522" href="#__codelineno-33-522"></a>
<a id="__codelineno-33-523" name="__codelineno-33-523" href="#__codelineno-33-523"></a>    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-33-524" name="__codelineno-33-524" href="#__codelineno-33-524"></a>        <span class="k">return</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<a id="__codelineno-33-525" name="__codelineno-33-525" href="#__codelineno-33-525"></a>
<a id="__codelineno-33-526" name="__codelineno-33-526" href="#__codelineno-33-526"></a>    <span class="n">delta</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">bfTickDelta</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
<a id="__codelineno-33-527" name="__codelineno-33-527" href="#__codelineno-33-527"></a>
<a id="__codelineno-33-528" name="__codelineno-33-528" href="#__codelineno-33-528"></a>    <span class="k">if</span> <span class="n">delta</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-33-529" name="__codelineno-33-529" href="#__codelineno-33-529"></a>        <span class="k">return</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<a id="__codelineno-33-530" name="__codelineno-33-530" href="#__codelineno-33-530"></a>    <span class="k">elif</span> <span class="n">delta</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-33-531" name="__codelineno-33-531" href="#__codelineno-33-531"></a>        <span class="k">return</span><span class="p">(</span><span class="n">bfTickShift</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">delta</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)))</span>
<a id="__codelineno-33-532" name="__codelineno-33-532" href="#__codelineno-33-532"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-33-533" name="__codelineno-33-533" href="#__codelineno-33-533"></a>        <span class="k">return</span><span class="p">(</span><span class="n">bfTickShift</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">delta</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)))</span>
<a id="__codelineno-33-534" name="__codelineno-33-534" href="#__codelineno-33-534"></a>
<a id="__codelineno-33-535" name="__codelineno-33-535" href="#__codelineno-33-535"></a><span class="c1"># %%</span>
<a id="__codelineno-33-536" name="__codelineno-33-536" href="#__codelineno-33-536"></a><span class="c1"># Let&#39;s test a midpoint using the ladder mid point method</span>
<a id="__codelineno-33-537" name="__codelineno-33-537" href="#__codelineno-33-537"></a><span class="n">bfLadderMidPoint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-33-538" name="__codelineno-33-538" href="#__codelineno-33-538"></a>
<a id="__codelineno-33-539" name="__codelineno-33-539" href="#__codelineno-33-539"></a><span class="c1"># %%</span>
<a id="__codelineno-33-540" name="__codelineno-33-540" href="#__codelineno-33-540"></a><span class="c1"># And for illustrative purposes let&#39;s calculate the geomtric mean of these values</span>
<a id="__codelineno-33-541" name="__codelineno-33-541" href="#__codelineno-33-541"></a><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-33-542" name="__codelineno-33-542" href="#__codelineno-33-542"></a>
<a id="__codelineno-33-543" name="__codelineno-33-543" href="#__codelineno-33-543"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-544" name="__codelineno-33-544" href="#__codelineno-33-544"></a><span class="c1"># Let&#39;s put this all together while stitching together our two core datasets.</span>
<a id="__codelineno-33-545" name="__codelineno-33-545" href="#__codelineno-33-545"></a>
<a id="__codelineno-33-546" name="__codelineno-33-546" href="#__codelineno-33-546"></a><span class="c1"># %%</span>
<a id="__codelineno-33-547" name="__codelineno-33-547" href="#__codelineno-33-547"></a><span class="c1"># Join and augment</span>
<a id="__codelineno-33-548" name="__codelineno-33-548" href="#__codelineno-33-548"></a><span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-33-549" name="__codelineno-33-549" href="#__codelineno-33-549"></a>    <span class="n">selection</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">prices</span><span class="p">,</span> <span class="n">on</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">])</span>
<a id="__codelineno-33-550" name="__codelineno-33-550" href="#__codelineno-33-550"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">sbsj</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;market_time&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-33-551" name="__codelineno-33-551" href="#__codelineno-33-551"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">back_best</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;atb_ladder&#39;</span><span class="p">]])</span>
<a id="__codelineno-33-552" name="__codelineno-33-552" href="#__codelineno-33-552"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">lay_best</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;atl_ladder&#39;</span><span class="p">]])</span>
<a id="__codelineno-33-553" name="__codelineno-33-553" href="#__codelineno-33-553"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">geometric_mid_point</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;back_best&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;lay_best&#39;</span><span class="p">])),</span> <span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-33-554" name="__codelineno-33-554" href="#__codelineno-33-554"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">ladder_mid_point</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">bfLadderMidPoint</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">back_best</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">lay_best</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-33-555" name="__codelineno-33-555" href="#__codelineno-33-555"></a>    <span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<a id="__codelineno-33-556" name="__codelineno-33-556" href="#__codelineno-33-556"></a><span class="p">)</span>
<a id="__codelineno-33-557" name="__codelineno-33-557" href="#__codelineno-33-557"></a>
<a id="__codelineno-33-558" name="__codelineno-33-558" href="#__codelineno-33-558"></a><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-33-559" name="__codelineno-33-559" href="#__codelineno-33-559"></a>
<a id="__codelineno-33-560" name="__codelineno-33-560" href="#__codelineno-33-560"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-561" name="__codelineno-33-561" href="#__codelineno-33-561"></a><span class="c1"># ## 2.3 Analysing The BSP</span>
<a id="__codelineno-33-562" name="__codelineno-33-562" href="#__codelineno-33-562"></a><span class="c1"># </span>
<a id="__codelineno-33-563" name="__codelineno-33-563" href="#__codelineno-33-563"></a><span class="c1"># Before we embark on our predictive exercise let&#39;s analyse the BSP to get a feel for it as an entity.</span>
<a id="__codelineno-33-564" name="__codelineno-33-564" href="#__codelineno-33-564"></a><span class="c1"># </span>
<a id="__codelineno-33-565" name="__codelineno-33-565" href="#__codelineno-33-565"></a><span class="c1"># ### 2.3.1 Volumes</span>
<a id="__codelineno-33-566" name="__codelineno-33-566" href="#__codelineno-33-566"></a><span class="c1"># </span>
<a id="__codelineno-33-567" name="__codelineno-33-567" href="#__codelineno-33-567"></a><span class="c1"># Ever wondered how much volume is traded on the BSP? How does it compare to limit bets? Well with our parsed stream data we can answer those questions! Now the BSP volume will be the bigger of the BSP back stake and the lay stake (which you can infer by the final BSP and the total lay liability).</span>
<a id="__codelineno-33-568" name="__codelineno-33-568" href="#__codelineno-33-568"></a><span class="c1"># </span>
<a id="__codelineno-33-569" name="__codelineno-33-569" href="#__codelineno-33-569"></a><span class="c1"># </span>
<a id="__codelineno-33-570" name="__codelineno-33-570" href="#__codelineno-33-570"></a>
<a id="__codelineno-33-571" name="__codelineno-33-571" href="#__codelineno-33-571"></a><span class="c1"># %%</span>
<a id="__codelineno-33-572" name="__codelineno-33-572" href="#__codelineno-33-572"></a><span class="c1"># Volume Traded</span>
<a id="__codelineno-33-573" name="__codelineno-33-573" href="#__codelineno-33-573"></a><span class="c1"># _________________________</span>
<a id="__codelineno-33-574" name="__codelineno-33-574" href="#__codelineno-33-574"></a>
<a id="__codelineno-33-575" name="__codelineno-33-575" href="#__codelineno-33-575"></a>
<a id="__codelineno-33-576" name="__codelineno-33-576" href="#__codelineno-33-576"></a><span class="c1"># Extract the final time slice of data which includes the total preplay volumes traded across limit and BSP poools</span>
<a id="__codelineno-33-577" name="__codelineno-33-577" href="#__codelineno-33-577"></a><span class="n">volumeDf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">],</span><span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span>  <span class="s1">&#39;traded_volume&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_back_pool_stake&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_lay_pool_liability&#39;</span><span class="p">]]</span>
<a id="__codelineno-33-578" name="__codelineno-33-578" href="#__codelineno-33-578"></a>
<a id="__codelineno-33-579" name="__codelineno-33-579" href="#__codelineno-33-579"></a><span class="c1"># Infer the biggest of the two BSP stakes</span>
<a id="__codelineno-33-580" name="__codelineno-33-580" href="#__codelineno-33-580"></a><span class="n">volumeDf</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-33-581" name="__codelineno-33-581" href="#__codelineno-33-581"></a>    <span class="n">volumeDf</span>
<a id="__codelineno-33-582" name="__codelineno-33-582" href="#__codelineno-33-582"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">lay_stake</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp_lay_pool_liability&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-33-583" name="__codelineno-33-583" href="#__codelineno-33-583"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">bsp_stake</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[[</span><span class="s1">&#39;lay_stake&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_back_pool_stake&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-33-584" name="__codelineno-33-584" href="#__codelineno-33-584"></a><span class="p">)</span>
<a id="__codelineno-33-585" name="__codelineno-33-585" href="#__codelineno-33-585"></a>
<a id="__codelineno-33-586" name="__codelineno-33-586" href="#__codelineno-33-586"></a><span class="p">(</span>
<a id="__codelineno-33-587" name="__codelineno-33-587" href="#__codelineno-33-587"></a>    <span class="n">volumeDf</span>
<a id="__codelineno-33-588" name="__codelineno-33-588" href="#__codelineno-33-588"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-33-589" name="__codelineno-33-589" href="#__codelineno-33-589"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;traded_volume&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_stake&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">})</span>
<a id="__codelineno-33-590" name="__codelineno-33-590" href="#__codelineno-33-590"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;traded_volume&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_stake&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-33-591" name="__codelineno-33-591" href="#__codelineno-33-591"></a><span class="p">)</span>
<a id="__codelineno-33-592" name="__codelineno-33-592" href="#__codelineno-33-592"></a>
<a id="__codelineno-33-593" name="__codelineno-33-593" href="#__codelineno-33-593"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-594" name="__codelineno-33-594" href="#__codelineno-33-594"></a><span class="c1"># So in an average thoroughbred market there&#39;s about 98k traded limit volume and 7,300 BSP traded stake. So approximately 7% of thoroughbred volume is traded at the BSP at least for our sample of thoroughbred races.</span>
<a id="__codelineno-33-595" name="__codelineno-33-595" href="#__codelineno-33-595"></a><span class="c1"># </span>
<a id="__codelineno-33-596" name="__codelineno-33-596" href="#__codelineno-33-596"></a><span class="c1"># </span>
<a id="__codelineno-33-597" name="__codelineno-33-597" href="#__codelineno-33-597"></a><span class="c1"># ## 2.3.2 Efficiency?</span>
<a id="__codelineno-33-598" name="__codelineno-33-598" href="#__codelineno-33-598"></a><span class="c1"># </span>
<a id="__codelineno-33-599" name="__codelineno-33-599" href="#__codelineno-33-599"></a><span class="c1"># Now you may have heard this story before: **you can&#39;t beat the BSP it&#39;s too efficient!**. I&#39;m not sure people really have a firm idea about what they&#39;re talking about when they say this.</span>
<a id="__codelineno-33-600" name="__codelineno-33-600" href="#__codelineno-33-600"></a><span class="c1"># </span>
<a id="__codelineno-33-601" name="__codelineno-33-601" href="#__codelineno-33-601"></a><span class="c1"># Typically what you&#39;ll see in a discussion about efficiency is the predicted vs observed scatterplot. Let&#39;s see if we can reproduce this chart.</span>
<a id="__codelineno-33-602" name="__codelineno-33-602" href="#__codelineno-33-602"></a><span class="c1"># </span>
<a id="__codelineno-33-603" name="__codelineno-33-603" href="#__codelineno-33-603"></a><span class="c1"># First let&#39;s assemble a dataframe that we can use for this chart as well as others. What we&#39;ll do is we&#39;ll extract the BSP and a price value at 5 different slices before the race starts. We could chose any price point (we&#39;ll analyse the difference between them in a subsequent step) but for this section I&#39;m going to take the preplay market estimate as the geometric market midpoint (you&#39;ll have to trust me for now that this is a sensible decision).</span>
<a id="__codelineno-33-604" name="__codelineno-33-604" href="#__codelineno-33-604"></a>
<a id="__codelineno-33-605" name="__codelineno-33-605" href="#__codelineno-33-605"></a><span class="c1"># %%</span>
<a id="__codelineno-33-606" name="__codelineno-33-606" href="#__codelineno-33-606"></a><span class="c1"># Extract the geomtric market mid point at time slices: 120, 90, 60, 30, and 0 seconds from the scheduled off</span>
<a id="__codelineno-33-607" name="__codelineno-33-607" href="#__codelineno-33-607"></a><span class="n">preplay</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sbsj</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">120</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">])][[</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;win&#39;</span><span class="p">,</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">],</span> <span class="n">ascending</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">:</span> <span class="s1">&#39;odds&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;seconds before off: &quot;</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>
<a id="__codelineno-33-608" name="__codelineno-33-608" href="#__codelineno-33-608"></a>
<a id="__codelineno-33-609" name="__codelineno-33-609" href="#__codelineno-33-609"></a><span class="c1"># Extract the BSP values</span>
<a id="__codelineno-33-610" name="__codelineno-33-610" href="#__codelineno-33-610"></a><span class="n">bsp</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">ascending</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">,</span> <span class="s1">&#39;win&#39;</span><span class="p">,</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bsp&#39;</span><span class="p">:</span> <span class="s1">&#39;odds&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;bsp&quot;</span><span class="p">)</span>
<a id="__codelineno-33-611" name="__codelineno-33-611" href="#__codelineno-33-611"></a>
<a id="__codelineno-33-612" name="__codelineno-33-612" href="#__codelineno-33-612"></a><span class="c1"># Append them together</span>
<a id="__codelineno-33-613" name="__codelineno-33-613" href="#__codelineno-33-613"></a><span class="n">accuracyFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">preplay</span><span class="p">,</span> <span class="n">bsp</span><span class="p">])</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-33-614" name="__codelineno-33-614" href="#__codelineno-33-614"></a><span class="n">accuracyFrame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-33-615" name="__codelineno-33-615" href="#__codelineno-33-615"></a>
<a id="__codelineno-33-616" name="__codelineno-33-616" href="#__codelineno-33-616"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-617" name="__codelineno-33-617" href="#__codelineno-33-617"></a><span class="c1"># Now we&#39;ll filter just on our BSP records and plot the observed vs actual scatterplot</span>
<a id="__codelineno-33-618" name="__codelineno-33-618" href="#__codelineno-33-618"></a>
<a id="__codelineno-33-619" name="__codelineno-33-619" href="#__codelineno-33-619"></a><span class="c1"># %%</span>
<a id="__codelineno-33-620" name="__codelineno-33-620" href="#__codelineno-33-620"></a><span class="c1"># BSP Scatter</span>
<a id="__codelineno-33-621" name="__codelineno-33-621" href="#__codelineno-33-621"></a><span class="c1"># __________________</span>
<a id="__codelineno-33-622" name="__codelineno-33-622" href="#__codelineno-33-622"></a>
<a id="__codelineno-33-623" name="__codelineno-33-623" href="#__codelineno-33-623"></a><span class="n">winRates</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-33-624" name="__codelineno-33-624" href="#__codelineno-33-624"></a>    <span class="n">accuracyFrame</span>
<a id="__codelineno-33-625" name="__codelineno-33-625" href="#__codelineno-33-625"></a>    <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;type == &quot;bsp&quot;&#39;</span><span class="p">)</span>
<a id="__codelineno-33-626" name="__codelineno-33-626" href="#__codelineno-33-626"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">implied_chance</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="mi">20</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;odds&#39;</span><span class="p">]))</span><span class="o">/</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-33-627" name="__codelineno-33-627" href="#__codelineno-33-627"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;implied_chance&#39;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-33-628" name="__codelineno-33-628" href="#__codelineno-33-628"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-33-629" name="__codelineno-33-629" href="#__codelineno-33-629"></a><span class="p">)</span>
<a id="__codelineno-33-630" name="__codelineno-33-630" href="#__codelineno-33-630"></a>
<a id="__codelineno-33-631" name="__codelineno-33-631" href="#__codelineno-33-631"></a><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">winRates</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;implied_chance&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;win&quot;</span><span class="p">,</span> <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;BSP: implied win vs actual win&quot;</span><span class="p">)</span>
<a id="__codelineno-33-632" name="__codelineno-33-632" href="#__codelineno-33-632"></a><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
<a id="__codelineno-33-633" name="__codelineno-33-633" href="#__codelineno-33-633"></a>    <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
<a id="__codelineno-33-634" name="__codelineno-33-634" href="#__codelineno-33-634"></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">winRates</span><span class="o">.</span><span class="n">implied_chance</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">winRates</span><span class="o">.</span><span class="n">implied_chance</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;no bias&#39;</span><span class="p">,</span> <span class="n">line_color</span> <span class="o">=</span> <span class="s1">&#39;rgba(8,61,119, 0.3)&#39;</span>
<a id="__codelineno-33-635" name="__codelineno-33-635" href="#__codelineno-33-635"></a>    <span class="p">)</span>
<a id="__codelineno-33-636" name="__codelineno-33-636" href="#__codelineno-33-636"></a><span class="p">)</span>
<a id="__codelineno-33-637" name="__codelineno-33-637" href="#__codelineno-33-637"></a><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
<a id="__codelineno-33-638" name="__codelineno-33-638" href="#__codelineno-33-638"></a>
<a id="__codelineno-33-639" name="__codelineno-33-639" href="#__codelineno-33-639"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-640" name="__codelineno-33-640" href="#__codelineno-33-640"></a><span class="c1"># Ok aside from some small sample noise at the top end (there&#39;s very few horses that run at sub 1.20 BSPs) we can see that the BSP is pretty perfectly.... efficient? Is that the right word? I&#39;d argue that it&#39;s very much not the right word. Let me illustrate with a counter example. Let&#39;s plot the same chart for the BSP as well as our 5 other price points.</span>
<a id="__codelineno-33-641" name="__codelineno-33-641" href="#__codelineno-33-641"></a>
<a id="__codelineno-33-642" name="__codelineno-33-642" href="#__codelineno-33-642"></a><span class="c1"># %%</span>
<a id="__codelineno-33-643" name="__codelineno-33-643" href="#__codelineno-33-643"></a><span class="c1"># Bsp + Other Odds Scatter</span>
<a id="__codelineno-33-644" name="__codelineno-33-644" href="#__codelineno-33-644"></a><span class="c1"># __________________</span>
<a id="__codelineno-33-645" name="__codelineno-33-645" href="#__codelineno-33-645"></a>
<a id="__codelineno-33-646" name="__codelineno-33-646" href="#__codelineno-33-646"></a><span class="n">winRates</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-33-647" name="__codelineno-33-647" href="#__codelineno-33-647"></a>    <span class="n">accuracyFrame</span>
<a id="__codelineno-33-648" name="__codelineno-33-648" href="#__codelineno-33-648"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">implied_chance</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="mi">20</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;odds&#39;</span><span class="p">]))</span><span class="o">/</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-33-649" name="__codelineno-33-649" href="#__codelineno-33-649"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;implied_chance&#39;</span><span class="p">],</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-33-650" name="__codelineno-33-650" href="#__codelineno-33-650"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-33-651" name="__codelineno-33-651" href="#__codelineno-33-651"></a><span class="p">)</span>
<a id="__codelineno-33-652" name="__codelineno-33-652" href="#__codelineno-33-652"></a>
<a id="__codelineno-33-653" name="__codelineno-33-653" href="#__codelineno-33-653"></a><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">winRates</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;implied_chance&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;win&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Comparing Price Points: implied win vs actual win&quot;</span><span class="p">)</span>
<a id="__codelineno-33-654" name="__codelineno-33-654" href="#__codelineno-33-654"></a><span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
<a id="__codelineno-33-655" name="__codelineno-33-655" href="#__codelineno-33-655"></a>    <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
<a id="__codelineno-33-656" name="__codelineno-33-656" href="#__codelineno-33-656"></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">winRates</span><span class="o">.</span><span class="n">implied_chance</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">winRates</span><span class="o">.</span><span class="n">implied_chance</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;no bias&#39;</span><span class="p">,</span> <span class="n">line_color</span> <span class="o">=</span> <span class="s1">&#39;rgba(8,61,119, 0.3)&#39;</span>
<a id="__codelineno-33-657" name="__codelineno-33-657" href="#__codelineno-33-657"></a>    <span class="p">)</span>
<a id="__codelineno-33-658" name="__codelineno-33-658" href="#__codelineno-33-658"></a><span class="p">)</span>
<a id="__codelineno-33-659" name="__codelineno-33-659" href="#__codelineno-33-659"></a><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
<a id="__codelineno-33-660" name="__codelineno-33-660" href="#__codelineno-33-660"></a>
<a id="__codelineno-33-661" name="__codelineno-33-661" href="#__codelineno-33-661"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-662" name="__codelineno-33-662" href="#__codelineno-33-662"></a><span class="c1"># So they&#39;re all efficient? And indecernibly as efficient as one another?</span>
<a id="__codelineno-33-663" name="__codelineno-33-663" href="#__codelineno-33-663"></a><span class="c1"># </span>
<a id="__codelineno-33-664" name="__codelineno-33-664" href="#__codelineno-33-664"></a><span class="c1"># Well, to cut a long and possibly boring story short this isn&#39;t the right way to measure efficiency. What we&#39;re measure here is **bias**. All my scatter plot here tells me is if there&#39;s any systematic bias in the BSP, ie groups of BSPs that aren&#39;t well calibrated with actual outcomes. That is, for example, that perhaps randomly the group of horses that BSP around 2 don&#39;t happen to win 50% of the time maybe there was a sytemic bias that short favourites were underbet and these selections actually won 55% of the time. That would be a price bias in the BSP that someone could take advatange at just by looking at historical prices and outcomes alone.</span>
<a id="__codelineno-33-665" name="__codelineno-33-665" href="#__codelineno-33-665"></a><span class="c1"># </span>
<a id="__codelineno-33-666" name="__codelineno-33-666" href="#__codelineno-33-666"></a><span class="c1"># For and even simpler counter point: I could create a perfectly well calibrated estimate that assigned a single odds value to every horse which was the overall horse empirical win rate over our sample: 10.25% (which is merely a reflection of field sizes). This estimate would be unbiased, and would pass through our scatterplot method unscathed but would it be an efficient estimate? Clearly not.</span>
<a id="__codelineno-33-667" name="__codelineno-33-667" href="#__codelineno-33-667"></a>
<a id="__codelineno-33-668" name="__codelineno-33-668" href="#__codelineno-33-668"></a><span class="c1"># %%</span>
<a id="__codelineno-33-669" name="__codelineno-33-669" href="#__codelineno-33-669"></a><span class="n">df</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-33-670" name="__codelineno-33-670" href="#__codelineno-33-670"></a>
<a id="__codelineno-33-671" name="__codelineno-33-671" href="#__codelineno-33-671"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-672" name="__codelineno-33-672" href="#__codelineno-33-672"></a><span class="c1"># Bias only tells us if there&#39;s a systematic way of exploiting the odds values themselves. I could have told you that this was unlikely but the scatterplot proves it.</span>
<a id="__codelineno-33-673" name="__codelineno-33-673" href="#__codelineno-33-673"></a><span class="c1"># </span>
<a id="__codelineno-33-674" name="__codelineno-33-674" href="#__codelineno-33-674"></a><span class="c1"># How else could we measure efficiency? I propose using the `logloss` metric.</span>
<a id="__codelineno-33-675" name="__codelineno-33-675" href="#__codelineno-33-675"></a><span class="c1"># </span>
<a id="__codelineno-33-676" name="__codelineno-33-676" href="#__codelineno-33-676"></a><span class="c1"># Let&#39;s calculate the logloss of the BSP</span>
<a id="__codelineno-33-677" name="__codelineno-33-677" href="#__codelineno-33-677"></a>
<a id="__codelineno-33-678" name="__codelineno-33-678" href="#__codelineno-33-678"></a><span class="c1"># %%</span>
<a id="__codelineno-33-679" name="__codelineno-33-679" href="#__codelineno-33-679"></a><span class="c1"># Logloss ++++++++++++++++++++++++++++++++++++++++</span>
<a id="__codelineno-33-680" name="__codelineno-33-680" href="#__codelineno-33-680"></a>
<a id="__codelineno-33-681" name="__codelineno-33-681" href="#__codelineno-33-681"></a><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">log_loss</span>
<a id="__codelineno-33-682" name="__codelineno-33-682" href="#__codelineno-33-682"></a>
<a id="__codelineno-33-683" name="__codelineno-33-683" href="#__codelineno-33-683"></a><span class="c1"># Overall Logloss</span>
<a id="__codelineno-33-684" name="__codelineno-33-684" href="#__codelineno-33-684"></a><span class="c1"># _________________</span>
<a id="__codelineno-33-685" name="__codelineno-33-685" href="#__codelineno-33-685"></a>
<a id="__codelineno-33-686" name="__codelineno-33-686" href="#__codelineno-33-686"></a><span class="n">bspLoss</span> <span class="o">=</span> <span class="n">log_loss</span><span class="p">(</span>
<a id="__codelineno-33-687" name="__codelineno-33-687" href="#__codelineno-33-687"></a>    <span class="n">y_pred</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">accuracyFrame</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;type == &quot;bsp&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;odds&#39;</span><span class="p">],</span>
<a id="__codelineno-33-688" name="__codelineno-33-688" href="#__codelineno-33-688"></a>    <span class="n">y_true</span> <span class="o">=</span> <span class="n">accuracyFrame</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;type == &quot;bsp&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;win&#39;</span><span class="p">]</span>
<a id="__codelineno-33-689" name="__codelineno-33-689" href="#__codelineno-33-689"></a><span class="p">)</span>
<a id="__codelineno-33-690" name="__codelineno-33-690" href="#__codelineno-33-690"></a>
<a id="__codelineno-33-691" name="__codelineno-33-691" href="#__codelineno-33-691"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The overall logloss of the BSP is </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">bspLoss</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<a id="__codelineno-33-692" name="__codelineno-33-692" href="#__codelineno-33-692"></a>
<a id="__codelineno-33-693" name="__codelineno-33-693" href="#__codelineno-33-693"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-694" name="__codelineno-33-694" href="#__codelineno-33-694"></a><span class="c1"># Ok what does this mean? Well nothing really. This metric won&#39;t tell you anything by itself it&#39;s just useful for relative comparisons. Let&#39;s plot the logloss of our geometric midpoint at our various timeslices.</span>
<a id="__codelineno-33-695" name="__codelineno-33-695" href="#__codelineno-33-695"></a><span class="c1"># </span>
<a id="__codelineno-33-696" name="__codelineno-33-696" href="#__codelineno-33-696"></a>
<a id="__codelineno-33-697" name="__codelineno-33-697" href="#__codelineno-33-697"></a><span class="c1"># %%</span>
<a id="__codelineno-33-698" name="__codelineno-33-698" href="#__codelineno-33-698"></a>
<a id="__codelineno-33-699" name="__codelineno-33-699" href="#__codelineno-33-699"></a><span class="c1"># Logloss at Different Time Points</span>
<a id="__codelineno-33-700" name="__codelineno-33-700" href="#__codelineno-33-700"></a><span class="c1"># _________________</span>
<a id="__codelineno-33-701" name="__codelineno-33-701" href="#__codelineno-33-701"></a>
<a id="__codelineno-33-702" name="__codelineno-33-702" href="#__codelineno-33-702"></a><span class="n">accuracyFrame</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">log_loss</span><span class="p">(</span><span class="n">y_pred</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;odds&#39;</span><span class="p">],</span><span class="n">y_true</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;win&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="kc">None</span><span class="p">:</span> <span class="s1">&#39;logloss&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;logloss&#39;</span><span class="p">)</span>
<a id="__codelineno-33-703" name="__codelineno-33-703" href="#__codelineno-33-703"></a>
<a id="__codelineno-33-704" name="__codelineno-33-704" href="#__codelineno-33-704"></a><span class="c1"># %%</span>
<a id="__codelineno-33-705" name="__codelineno-33-705" href="#__codelineno-33-705"></a><span class="c1"># And in chart form</span>
<a id="__codelineno-33-706" name="__codelineno-33-706" href="#__codelineno-33-706"></a><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
<a id="__codelineno-33-707" name="__codelineno-33-707" href="#__codelineno-33-707"></a>    <span class="n">accuracyFrame</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">log_loss</span><span class="p">(</span><span class="n">y_pred</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;odds&#39;</span><span class="p">],</span><span class="n">y_true</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;win&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="kc">None</span><span class="p">:</span> <span class="s1">&#39;logloss&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;logloss&#39;</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">),</span>
<a id="__codelineno-33-708" name="__codelineno-33-708" href="#__codelineno-33-708"></a>    <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span>
<a id="__codelineno-33-709" name="__codelineno-33-709" href="#__codelineno-33-709"></a>    <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;logloss&quot;</span><span class="p">,</span>
<a id="__codelineno-33-710" name="__codelineno-33-710" href="#__codelineno-33-710"></a>    <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span>
<a id="__codelineno-33-711" name="__codelineno-33-711" href="#__codelineno-33-711"></a>    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Logloss Of Odds At Various Time Points&quot;</span>
<a id="__codelineno-33-712" name="__codelineno-33-712" href="#__codelineno-33-712"></a><span class="p">)</span>
<a id="__codelineno-33-713" name="__codelineno-33-713" href="#__codelineno-33-713"></a><span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mf">.2755</span><span class="p">,</span> <span class="mf">.2765</span><span class="p">])</span>
<a id="__codelineno-33-714" name="__codelineno-33-714" href="#__codelineno-33-714"></a><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
<a id="__codelineno-33-715" name="__codelineno-33-715" href="#__codelineno-33-715"></a>
<a id="__codelineno-33-716" name="__codelineno-33-716" href="#__codelineno-33-716"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-717" name="__codelineno-33-717" href="#__codelineno-33-717"></a><span class="c1"># Now this is a cool graph. This is exactly like we would have intiuited. The market sharpens monotonically as we approach the market jump with the BSP being the most effiecient of all the prices!</span>
<a id="__codelineno-33-718" name="__codelineno-33-718" href="#__codelineno-33-718"></a><span class="c1"># </span>
<a id="__codelineno-33-719" name="__codelineno-33-719" href="#__codelineno-33-719"></a><span class="c1"># Hopefully you can now see the logical failing of measuring bias over market efficiency and it changes the way you think about your bet placement.</span>
<a id="__codelineno-33-720" name="__codelineno-33-720" href="#__codelineno-33-720"></a><span class="c1"># </span>
<a id="__codelineno-33-721" name="__codelineno-33-721" href="#__codelineno-33-721"></a><span class="c1"># Let&#39;s move on to what we&#39;re here for: is it possible to predict the BSP.</span>
<a id="__codelineno-33-722" name="__codelineno-33-722" href="#__codelineno-33-722"></a>
<a id="__codelineno-33-723" name="__codelineno-33-723" href="#__codelineno-33-723"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-724" name="__codelineno-33-724" href="#__codelineno-33-724"></a><span class="c1"># ## 2.4 Predicting the BSP</span>
<a id="__codelineno-33-725" name="__codelineno-33-725" href="#__codelineno-33-725"></a><span class="c1"># </span>
<a id="__codelineno-33-726" name="__codelineno-33-726" href="#__codelineno-33-726"></a><span class="c1"># Ok so I&#39;m interested in finding the answer to the question: which estimate of BSP should i use when betting on the exchange and is it possible to beat the projected SP provided on the website and through the API?</span>
<a id="__codelineno-33-727" name="__codelineno-33-727" href="#__codelineno-33-727"></a><span class="c1"># </span>
<a id="__codelineno-33-728" name="__codelineno-33-728" href="#__codelineno-33-728"></a><span class="c1"># Well the first thing we should recognise about this projection is that it&#39;s cached. What does that mean? It means it only updated every 60 seconds. This suprised me when i first learned it and it was actually causing issues in my bet placement logic for the SP.</span>
<a id="__codelineno-33-729" name="__codelineno-33-729" href="#__codelineno-33-729"></a><span class="c1"># </span>
<a id="__codelineno-33-730" name="__codelineno-33-730" href="#__codelineno-33-730"></a><span class="c1"># Let&#39;s have a look at a selection to see how this works in practice</span>
<a id="__codelineno-33-731" name="__codelineno-33-731" href="#__codelineno-33-731"></a>
<a id="__codelineno-33-732" name="__codelineno-33-732" href="#__codelineno-33-732"></a><span class="c1"># %%</span>
<a id="__codelineno-33-733" name="__codelineno-33-733" href="#__codelineno-33-733"></a><span class="c1"># Lets take a sample of a market and a selection</span>
<a id="__codelineno-33-734" name="__codelineno-33-734" href="#__codelineno-33-734"></a><span class="n">dSlice</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;market_id == &quot;1.182394184&quot; and selection_id == &quot;39243409&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-33-735" name="__codelineno-33-735" href="#__codelineno-33-735"></a>
<a id="__codelineno-33-736" name="__codelineno-33-736" href="#__codelineno-33-736"></a><span class="c1"># %%</span>
<a id="__codelineno-33-737" name="__codelineno-33-737" href="#__codelineno-33-737"></a><span class="k">def</span> <span class="nf">chartClosingPrices</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<a id="__codelineno-33-738" name="__codelineno-33-738" href="#__codelineno-33-738"></a>
<a id="__codelineno-33-739" name="__codelineno-33-739" href="#__codelineno-33-739"></a>    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
<a id="__codelineno-33-740" name="__codelineno-33-740" href="#__codelineno-33-740"></a>        <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">d</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">][[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">]],</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">),</span> 
<a id="__codelineno-33-741" name="__codelineno-33-741" href="#__codelineno-33-741"></a>            <span class="n">x</span><span class="o">=</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
<a id="__codelineno-33-742" name="__codelineno-33-742" href="#__codelineno-33-742"></a>            <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">,</span>
<a id="__codelineno-33-743" name="__codelineno-33-743" href="#__codelineno-33-743"></a>            <span class="n">template</span><span class="o">=</span><span class="s1">&#39;plotly_white&#39;</span><span class="p">,</span>
<a id="__codelineno-33-744" name="__codelineno-33-744" href="#__codelineno-33-744"></a>            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Selection&quot;</span><span class="p">,</span>
<a id="__codelineno-33-745" name="__codelineno-33-745" href="#__codelineno-33-745"></a>            <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-33-746" name="__codelineno-33-746" href="#__codelineno-33-746"></a>                <span class="s1">&#39;sbsj&#39;</span><span class="p">:</span> <span class="s2">&quot;Seconds Before Scheduled Jump&quot;</span>
<a id="__codelineno-33-747" name="__codelineno-33-747" href="#__codelineno-33-747"></a>            <span class="p">}</span>
<a id="__codelineno-33-748" name="__codelineno-33-748" href="#__codelineno-33-748"></a>    <span class="p">)</span>
<a id="__codelineno-33-749" name="__codelineno-33-749" href="#__codelineno-33-749"></a>    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">font_family</span><span class="o">=</span><span class="s2">&quot;Roboto&quot;</span><span class="p">)</span>
<a id="__codelineno-33-750" name="__codelineno-33-750" href="#__codelineno-33-750"></a>    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
<a id="__codelineno-33-751" name="__codelineno-33-751" href="#__codelineno-33-751"></a>        <span class="n">go</span><span class="o">.</span><span class="n">Line</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">dSlice</span><span class="o">.</span><span class="n">sbsj</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">dSlice</span><span class="o">.</span><span class="n">bsp</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;BSP&#39;</span><span class="p">,</span> <span class="n">line_color</span> <span class="o">=</span> <span class="s1">&#39;rgba(8,61,119, 0.3)&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;lines&quot;</span><span class="p">)</span>
<a id="__codelineno-33-752" name="__codelineno-33-752" href="#__codelineno-33-752"></a>    <span class="p">)</span>
<a id="__codelineno-33-753" name="__codelineno-33-753" href="#__codelineno-33-753"></a>    <span class="n">fig</span><span class="p">[</span><span class="s1">&#39;layout&#39;</span><span class="p">][</span><span class="s1">&#39;xaxis&#39;</span><span class="p">][</span><span class="s1">&#39;autorange&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;reversed&quot;</span>
<a id="__codelineno-33-754" name="__codelineno-33-754" href="#__codelineno-33-754"></a>    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
<a id="__codelineno-33-755" name="__codelineno-33-755" href="#__codelineno-33-755"></a>
<a id="__codelineno-33-756" name="__codelineno-33-756" href="#__codelineno-33-756"></a><span class="n">chartClosingPrices</span><span class="p">(</span><span class="n">dSlice</span><span class="p">)</span>
<a id="__codelineno-33-757" name="__codelineno-33-757" href="#__codelineno-33-757"></a>
<a id="__codelineno-33-758" name="__codelineno-33-758" href="#__codelineno-33-758"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-759" name="__codelineno-33-759" href="#__codelineno-33-759"></a><span class="c1"># The red line is the projected BSP, you can see that it&#39;s not very responsive. As the best back price comes in from ~3 to 2.9 leading up to the jump the projected SP doesn&#39;t move because it&#39;s cached. If you were relying on this number for something important and you were using it in that period you were using stale information and you&#39;d be worse off for it. In this instance the final SP was 2.79 so you may have made the wrong betting decision.</span>
<a id="__codelineno-33-760" name="__codelineno-33-760" href="#__codelineno-33-760"></a><span class="c1"># </span>
<a id="__codelineno-33-761" name="__codelineno-33-761" href="#__codelineno-33-761"></a><span class="c1"># This is somewhat counter intuitive because the projected sp (the so called near price) should be a good estimate of the BSP because it synthetically runs the BSP algorithm on the current market state and produces and estimate, so you would think that it&#39;d be a pretty good estimate.</span>
<a id="__codelineno-33-762" name="__codelineno-33-762" href="#__codelineno-33-762"></a><span class="c1"># </span>
<a id="__codelineno-33-763" name="__codelineno-33-763" href="#__codelineno-33-763"></a><span class="c1"># Let&#39;s widen our sample a bit and see how it performs across our entire sample. We&#39;ll slice the data at the exact scheduled off and see how accurate various price points are at predicting what the final BSP is. We&#39;ll use mean absolute error (MAE) as our error metric. We&#39;ll assess 6 price points:</span>
<a id="__codelineno-33-764" name="__codelineno-33-764" href="#__codelineno-33-764"></a><span class="c1"># </span>
<a id="__codelineno-33-765" name="__codelineno-33-765" href="#__codelineno-33-765"></a><span class="c1"># - The near price (projected sp)</span>
<a id="__codelineno-33-766" name="__codelineno-33-766" href="#__codelineno-33-766"></a><span class="c1"># - The far price (projected sp excluding limit orders)</span>
<a id="__codelineno-33-767" name="__codelineno-33-767" href="#__codelineno-33-767"></a><span class="c1"># - The best back price</span>
<a id="__codelineno-33-768" name="__codelineno-33-768" href="#__codelineno-33-768"></a><span class="c1"># - The best lay price</span>
<a id="__codelineno-33-769" name="__codelineno-33-769" href="#__codelineno-33-769"></a><span class="c1"># - The ladder midpoint price</span>
<a id="__codelineno-33-770" name="__codelineno-33-770" href="#__codelineno-33-770"></a><span class="c1"># - The geometric midpoint price</span>
<a id="__codelineno-33-771" name="__codelineno-33-771" href="#__codelineno-33-771"></a>
<a id="__codelineno-33-772" name="__codelineno-33-772" href="#__codelineno-33-772"></a><span class="c1"># %%</span>
<a id="__codelineno-33-773" name="__codelineno-33-773" href="#__codelineno-33-773"></a><span class="c1"># Measurement</span>
<a id="__codelineno-33-774" name="__codelineno-33-774" href="#__codelineno-33-774"></a><span class="c1"># ________________________</span>
<a id="__codelineno-33-775" name="__codelineno-33-775" href="#__codelineno-33-775"></a>
<a id="__codelineno-33-776" name="__codelineno-33-776" href="#__codelineno-33-776"></a><span class="n">estimatesDf</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sbsj</span> <span class="o">==</span> <span class="mi">0</span><span class="p">][[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">]]</span>
<a id="__codelineno-33-777" name="__codelineno-33-777" href="#__codelineno-33-777"></a>
<a id="__codelineno-33-778" name="__codelineno-33-778" href="#__codelineno-33-778"></a><span class="p">(</span>
<a id="__codelineno-33-779" name="__codelineno-33-779" href="#__codelineno-33-779"></a>    <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">estimatesDf</span><span class="p">,</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;estimate&#39;</span><span class="p">)</span>
<a id="__codelineno-33-780" name="__codelineno-33-780" href="#__codelineno-33-780"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">error</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span>
<a id="__codelineno-33-781" name="__codelineno-33-781" href="#__codelineno-33-781"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;estimate&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-33-782" name="__codelineno-33-782" href="#__codelineno-33-782"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-33-783" name="__codelineno-33-783" href="#__codelineno-33-783"></a>    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>
<a id="__codelineno-33-784" name="__codelineno-33-784" href="#__codelineno-33-784"></a><span class="p">)</span>
<a id="__codelineno-33-785" name="__codelineno-33-785" href="#__codelineno-33-785"></a>
<a id="__codelineno-33-786" name="__codelineno-33-786" href="#__codelineno-33-786"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-787" name="__codelineno-33-787" href="#__codelineno-33-787"></a><span class="c1"># So a bit surprisingly, in thoroughbred markets at the scheduled off your best to just use the current best back price as your estimate of the BSP. It significantly outperforms the projected SP and even some of our midpoint methods. </span>
<a id="__codelineno-33-788" name="__codelineno-33-788" href="#__codelineno-33-788"></a><span class="c1"># </span>
<a id="__codelineno-33-789" name="__codelineno-33-789" href="#__codelineno-33-789"></a><span class="c1"># Let&#39;s change the timeslice a little and take the very last moment before the market settles and see which performs best.</span>
<a id="__codelineno-33-790" name="__codelineno-33-790" href="#__codelineno-33-790"></a>
<a id="__codelineno-33-791" name="__codelineno-33-791" href="#__codelineno-33-791"></a><span class="c1"># %%</span>
<a id="__codelineno-33-792" name="__codelineno-33-792" href="#__codelineno-33-792"></a><span class="n">lastEstimatesDf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;market_id&#39;</span><span class="p">,</span> <span class="s1">&#39;selection_id&#39;</span><span class="p">],</span><span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">]]</span>
<a id="__codelineno-33-793" name="__codelineno-33-793" href="#__codelineno-33-793"></a>
<a id="__codelineno-33-794" name="__codelineno-33-794" href="#__codelineno-33-794"></a><span class="p">(</span>
<a id="__codelineno-33-795" name="__codelineno-33-795" href="#__codelineno-33-795"></a>    <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">lastEstimatesDf</span><span class="p">,</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;estimate&#39;</span><span class="p">)</span>
<a id="__codelineno-33-796" name="__codelineno-33-796" href="#__codelineno-33-796"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">error</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span>
<a id="__codelineno-33-797" name="__codelineno-33-797" href="#__codelineno-33-797"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;estimate&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-33-798" name="__codelineno-33-798" href="#__codelineno-33-798"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-33-799" name="__codelineno-33-799" href="#__codelineno-33-799"></a>    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>
<a id="__codelineno-33-800" name="__codelineno-33-800" href="#__codelineno-33-800"></a><span class="p">)</span>
<a id="__codelineno-33-801" name="__codelineno-33-801" href="#__codelineno-33-801"></a>
<a id="__codelineno-33-802" name="__codelineno-33-802" href="#__codelineno-33-802"></a>
<a id="__codelineno-33-803" name="__codelineno-33-803" href="#__codelineno-33-803"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-804" name="__codelineno-33-804" href="#__codelineno-33-804"></a><span class="c1"># First thing to notice is the estimates get a lot better than at the scheduled off, as we&#39;d expect. A bit surprisingly the projected SP is still very weak due to the caching issue. In this scenario the geometric mid point beforms significantly better than the current best back price which suggests that as the late market is forming the back and lay spread with start converging to the fair price and eventual BSP. I personally use the geometric midpoint as my BSP estimate as it&#39;s a quick and easy metric that performs pretty well.</span>
<a id="__codelineno-33-805" name="__codelineno-33-805" href="#__codelineno-33-805"></a><span class="c1"># </span>
<a id="__codelineno-33-806" name="__codelineno-33-806" href="#__codelineno-33-806"></a><span class="c1"># What if you want more though? Is it possible to do better than these metrics? These simple price points use no information about what&#39;s in the BSP pools, surely if we used this information we&#39;d be able to do better. Let&#39;s try to use machine learning to synthesise all this information at once.</span>
<a id="__codelineno-33-807" name="__codelineno-33-807" href="#__codelineno-33-807"></a><span class="c1"># </span>
<a id="__codelineno-33-808" name="__codelineno-33-808" href="#__codelineno-33-808"></a><span class="c1"># ### 2.3.4 Machine Learning</span>
<a id="__codelineno-33-809" name="__codelineno-33-809" href="#__codelineno-33-809"></a><span class="c1"># </span>
<a id="__codelineno-33-810" name="__codelineno-33-810" href="#__codelineno-33-810"></a><span class="c1"># We&#39;ll build a quite random forest model to estimate the BSP with current price and pool size information. This is a very simple application of machine learning so hopefully gives you an idea of its power without being too complex.</span>
<a id="__codelineno-33-811" name="__codelineno-33-811" href="#__codelineno-33-811"></a><span class="c1"># </span>
<a id="__codelineno-33-812" name="__codelineno-33-812" href="#__codelineno-33-812"></a><span class="c1"># Now we need an intelligent way of turning our pool and ladder information into a feature to insert into our model, how could we engineer this feature? Well what we&#39;ll do is calculate a WAP required to fill our pool stake on the back and lay side. What does that mean? Say we&#39;ve got $200 sitting in the BSP back pool and $200 sitting on the top box of 2.5 on the back side, in this instance our WAP value would be exactly 2.5 cause we can fill it all at the top box. But if however, there was only $100 in the top box then we&#39;d need to move down the ladder to fill the remaining $100 volume. Our feature will simulate this allocation logic and return the final weighted average price required to fill the total BSP pool. Here&#39;s the functions to do it on the back and lay side respectively:</span>
<a id="__codelineno-33-813" name="__codelineno-33-813" href="#__codelineno-33-813"></a>
<a id="__codelineno-33-814" name="__codelineno-33-814" href="#__codelineno-33-814"></a><span class="c1"># %%</span>
<a id="__codelineno-33-815" name="__codelineno-33-815" href="#__codelineno-33-815"></a><span class="k">def</span> <span class="nf">wapToGetBack</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="n">ladder</span><span class="p">):</span>
<a id="__codelineno-33-816" name="__codelineno-33-816" href="#__codelineno-33-816"></a>    <span class="n">price</span> <span class="o">=</span> <span class="n">ladder</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span>
<a id="__codelineno-33-817" name="__codelineno-33-817" href="#__codelineno-33-817"></a>    <span class="n">volume</span> <span class="o">=</span> <span class="n">ladder</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">]</span>
<a id="__codelineno-33-818" name="__codelineno-33-818" href="#__codelineno-33-818"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-33-819" name="__codelineno-33-819" href="#__codelineno-33-819"></a>        <span class="n">indmax</span> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span> <span class="n">i</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cVolume</span><span class="p">)</span> <span class="k">if</span> <span class="n">j</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">pool</span> <span class="p">])</span><span class="o">+</span><span class="mi">1</span>
<a id="__codelineno-33-820" name="__codelineno-33-820" href="#__codelineno-33-820"></a>    <span class="k">except</span><span class="p">:</span>
<a id="__codelineno-33-821" name="__codelineno-33-821" href="#__codelineno-33-821"></a>        <span class="n">indmax</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
<a id="__codelineno-33-822" name="__codelineno-33-822" href="#__codelineno-33-822"></a>    <span class="k">return</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">price</span><span class="p">[:</span><span class="n">indmax</span><span class="p">],</span> <span class="n">volume</span><span class="p">[:</span><span class="n">indmax</span><span class="p">])])</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">volume</span><span class="p">[:</span><span class="n">indmax</span><span class="p">]),</span><span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-33-823" name="__codelineno-33-823" href="#__codelineno-33-823"></a>
<a id="__codelineno-33-824" name="__codelineno-33-824" href="#__codelineno-33-824"></a><span class="k">def</span> <span class="nf">wapToGetLay</span><span class="p">(</span><span class="n">liability_pool</span><span class="p">,</span> <span class="n">ladder</span><span class="p">):</span>
<a id="__codelineno-33-825" name="__codelineno-33-825" href="#__codelineno-33-825"></a>    <span class="n">price</span> <span class="o">=</span> <span class="n">ladder</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span>
<a id="__codelineno-33-826" name="__codelineno-33-826" href="#__codelineno-33-826"></a>    <span class="n">volume</span> <span class="o">=</span> <span class="n">ladder</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">]</span>
<a id="__codelineno-33-827" name="__codelineno-33-827" href="#__codelineno-33-827"></a>    <span class="n">liability</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">volume</span><span class="p">)]</span>
<a id="__codelineno-33-828" name="__codelineno-33-828" href="#__codelineno-33-828"></a>    <span class="n">cLiability</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">liability</span><span class="p">)</span>
<a id="__codelineno-33-829" name="__codelineno-33-829" href="#__codelineno-33-829"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-33-830" name="__codelineno-33-830" href="#__codelineno-33-830"></a>        <span class="n">indmax</span> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span> <span class="n">i</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cLiability</span><span class="p">)</span> <span class="k">if</span> <span class="n">j</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">liability_pool</span> <span class="p">])</span><span class="o">+</span><span class="mi">1</span>
<a id="__codelineno-33-831" name="__codelineno-33-831" href="#__codelineno-33-831"></a>    <span class="k">except</span><span class="p">:</span>
<a id="__codelineno-33-832" name="__codelineno-33-832" href="#__codelineno-33-832"></a>        <span class="n">indmax</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
<a id="__codelineno-33-833" name="__codelineno-33-833" href="#__codelineno-33-833"></a>    <span class="k">return</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">price</span><span class="p">[:</span><span class="n">indmax</span><span class="p">],</span> <span class="n">volume</span><span class="p">[:</span><span class="n">indmax</span><span class="p">])])</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">volume</span><span class="p">[:</span><span class="n">indmax</span><span class="p">]),</span><span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-33-834" name="__codelineno-33-834" href="#__codelineno-33-834"></a>
<a id="__codelineno-33-835" name="__codelineno-33-835" href="#__codelineno-33-835"></a>
<a id="__codelineno-33-836" name="__codelineno-33-836" href="#__codelineno-33-836"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-837" name="__codelineno-33-837" href="#__codelineno-33-837"></a><span class="c1"># Now we&#39;ll set up our model matrix which will be the market state at the exact scheduled off. We&#39;ll also add our custom features.</span>
<a id="__codelineno-33-838" name="__codelineno-33-838" href="#__codelineno-33-838"></a>
<a id="__codelineno-33-839" name="__codelineno-33-839" href="#__codelineno-33-839"></a><span class="c1"># %%</span>
<a id="__codelineno-33-840" name="__codelineno-33-840" href="#__codelineno-33-840"></a><span class="n">model_matrix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">,</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;traded_volume&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_back_pool_stake&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_lay_pool_liability&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">]]</span>
<a id="__codelineno-33-841" name="__codelineno-33-841" href="#__codelineno-33-841"></a>
<a id="__codelineno-33-842" name="__codelineno-33-842" href="#__codelineno-33-842"></a><span class="c1"># Filter at scheduled jump</span>
<a id="__codelineno-33-843" name="__codelineno-33-843" href="#__codelineno-33-843"></a><span class="n">model_matrix</span> <span class="o">=</span> <span class="n">model_matrix</span><span class="p">[</span><span class="n">model_matrix</span><span class="o">.</span><span class="n">sbsj</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-33-844" name="__codelineno-33-844" href="#__codelineno-33-844"></a>
<a id="__codelineno-33-845" name="__codelineno-33-845" href="#__codelineno-33-845"></a><span class="n">model_matrix</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-33-846" name="__codelineno-33-846" href="#__codelineno-33-846"></a>    <span class="n">model_matrix</span>
<a id="__codelineno-33-847" name="__codelineno-33-847" href="#__codelineno-33-847"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">wap_to_get_back_pool</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">wapToGetBack</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">bsp_back_pool_stake</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">atb_ladder</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-33-848" name="__codelineno-33-848" href="#__codelineno-33-848"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">wap_to_get_lay_pool</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">wapToGetLay</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">bsp_lay_pool_liability</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">atl_ladder</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-33-849" name="__codelineno-33-849" href="#__codelineno-33-849"></a><span class="p">)</span>
<a id="__codelineno-33-850" name="__codelineno-33-850" href="#__codelineno-33-850"></a>
<a id="__codelineno-33-851" name="__codelineno-33-851" href="#__codelineno-33-851"></a><span class="c1"># Drop other columns</span>
<a id="__codelineno-33-852" name="__codelineno-33-852" href="#__codelineno-33-852"></a><span class="n">model_matrix</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-33-853" name="__codelineno-33-853" href="#__codelineno-33-853"></a>
<a id="__codelineno-33-854" name="__codelineno-33-854" href="#__codelineno-33-854"></a><span class="n">model_matrix</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-33-855" name="__codelineno-33-855" href="#__codelineno-33-855"></a>
<a id="__codelineno-33-856" name="__codelineno-33-856" href="#__codelineno-33-856"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-857" name="__codelineno-33-857" href="#__codelineno-33-857"></a><span class="c1"># Now the machine learning. Sklearn make this very simple, in our case it&#39;s a few lines only. We&#39;ll split our data into train and test sets and train a small random forrest to predict the BSP.</span>
<a id="__codelineno-33-858" name="__codelineno-33-858" href="#__codelineno-33-858"></a>
<a id="__codelineno-33-859" name="__codelineno-33-859" href="#__codelineno-33-859"></a><span class="c1"># %%</span>
<a id="__codelineno-33-860" name="__codelineno-33-860" href="#__codelineno-33-860"></a><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<a id="__codelineno-33-861" name="__codelineno-33-861" href="#__codelineno-33-861"></a><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<a id="__codelineno-33-862" name="__codelineno-33-862" href="#__codelineno-33-862"></a>
<a id="__codelineno-33-863" name="__codelineno-33-863" href="#__codelineno-33-863"></a><span class="c1"># Setup Train / Test</span>
<a id="__codelineno-33-864" name="__codelineno-33-864" href="#__codelineno-33-864"></a><span class="n">train_features</span><span class="p">,</span> <span class="n">test_features</span><span class="p">,</span> <span class="n">train_labels</span><span class="p">,</span> <span class="n">test_labels</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">model_matrix</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">]),</span> <span class="n">model_matrix</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">],</span> <span class="n">test_size</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">)</span>
<a id="__codelineno-33-865" name="__codelineno-33-865" href="#__codelineno-33-865"></a>
<a id="__codelineno-33-866" name="__codelineno-33-866" href="#__codelineno-33-866"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Training Features Shape:&#39;</span><span class="p">,</span> <span class="n">train_features</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<a id="__codelineno-33-867" name="__codelineno-33-867" href="#__codelineno-33-867"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Training Labels Shape:&#39;</span><span class="p">,</span> <span class="n">train_labels</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<a id="__codelineno-33-868" name="__codelineno-33-868" href="#__codelineno-33-868"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Testing Features Shape:&#39;</span><span class="p">,</span> <span class="n">test_features</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<a id="__codelineno-33-869" name="__codelineno-33-869" href="#__codelineno-33-869"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Testing Labels Shape:&#39;</span><span class="p">,</span> <span class="n">test_labels</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<a id="__codelineno-33-870" name="__codelineno-33-870" href="#__codelineno-33-870"></a>
<a id="__codelineno-33-871" name="__codelineno-33-871" href="#__codelineno-33-871"></a><span class="c1"># Instantiate Model</span>
<a id="__codelineno-33-872" name="__codelineno-33-872" href="#__codelineno-33-872"></a><span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-33-873" name="__codelineno-33-873" href="#__codelineno-33-873"></a>
<a id="__codelineno-33-874" name="__codelineno-33-874" href="#__codelineno-33-874"></a><span class="c1"># Train Model</span>
<a id="__codelineno-33-875" name="__codelineno-33-875" href="#__codelineno-33-875"></a><span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_features</span><span class="p">,</span> <span class="n">train_labels</span><span class="p">)</span>
<a id="__codelineno-33-876" name="__codelineno-33-876" href="#__codelineno-33-876"></a>
<a id="__codelineno-33-877" name="__codelineno-33-877" href="#__codelineno-33-877"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-878" name="__codelineno-33-878" href="#__codelineno-33-878"></a><span class="c1"># Let&#39;s check out our predictions on the test set (remember our model hasn&#39;t seen any of this data so it should be a true reflection on how we&#39;d perform on some new races that would happen this afternoon say)</span>
<a id="__codelineno-33-879" name="__codelineno-33-879" href="#__codelineno-33-879"></a>
<a id="__codelineno-33-880" name="__codelineno-33-880" href="#__codelineno-33-880"></a><span class="c1"># %%</span>
<a id="__codelineno-33-881" name="__codelineno-33-881" href="#__codelineno-33-881"></a><span class="c1"># Use the forest&#39;s predict method on the test data</span>
<a id="__codelineno-33-882" name="__codelineno-33-882" href="#__codelineno-33-882"></a><span class="n">predicted_bsp</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_features</span><span class="p">)</span>
<a id="__codelineno-33-883" name="__codelineno-33-883" href="#__codelineno-33-883"></a><span class="n">predicted_bsp</span>
<a id="__codelineno-33-884" name="__codelineno-33-884" href="#__codelineno-33-884"></a>
<a id="__codelineno-33-885" name="__codelineno-33-885" href="#__codelineno-33-885"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-886" name="__codelineno-33-886" href="#__codelineno-33-886"></a><span class="c1"># Seems reasonable. All well and good though is the prediction any good? Let&#39;s measure it using MAE in the same way as we did before.</span>
<a id="__codelineno-33-887" name="__codelineno-33-887" href="#__codelineno-33-887"></a>
<a id="__codelineno-33-888" name="__codelineno-33-888" href="#__codelineno-33-888"></a><span class="c1"># %%</span>
<a id="__codelineno-33-889" name="__codelineno-33-889" href="#__codelineno-33-889"></a><span class="c1"># Let&#39;s test our estimate vs our others in the same way as before</span>
<a id="__codelineno-33-890" name="__codelineno-33-890" href="#__codelineno-33-890"></a>
<a id="__codelineno-33-891" name="__codelineno-33-891" href="#__codelineno-33-891"></a><span class="n">testDf</span> <span class="o">=</span> <span class="n">test_features</span>
<a id="__codelineno-33-892" name="__codelineno-33-892" href="#__codelineno-33-892"></a><span class="n">testDf</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">test_labels</span>
<a id="__codelineno-33-893" name="__codelineno-33-893" href="#__codelineno-33-893"></a><span class="n">testDf</span><span class="p">[</span><span class="s1">&#39;rf_bsp_prediction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">predicted_bsp</span>
<a id="__codelineno-33-894" name="__codelineno-33-894" href="#__codelineno-33-894"></a>
<a id="__codelineno-33-895" name="__codelineno-33-895" href="#__codelineno-33-895"></a>
<a id="__codelineno-33-896" name="__codelineno-33-896" href="#__codelineno-33-896"></a><span class="p">(</span>
<a id="__codelineno-33-897" name="__codelineno-33-897" href="#__codelineno-33-897"></a>    <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">testDf</span><span class="p">[[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;rf_bsp_prediction&#39;</span><span class="p">]],</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;estimate&#39;</span><span class="p">)</span>
<a id="__codelineno-33-898" name="__codelineno-33-898" href="#__codelineno-33-898"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">error</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span>
<a id="__codelineno-33-899" name="__codelineno-33-899" href="#__codelineno-33-899"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;estimate&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-33-900" name="__codelineno-33-900" href="#__codelineno-33-900"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-33-901" name="__codelineno-33-901" href="#__codelineno-33-901"></a>    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>
<a id="__codelineno-33-902" name="__codelineno-33-902" href="#__codelineno-33-902"></a><span class="p">)</span>
<a id="__codelineno-33-903" name="__codelineno-33-903" href="#__codelineno-33-903"></a>
<a id="__codelineno-33-904" name="__codelineno-33-904" href="#__codelineno-33-904"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-905" name="__codelineno-33-905" href="#__codelineno-33-905"></a><span class="c1"># Nice that&#39;s significantly better than the best previous estimate at this time slice. To validate it further let&#39;s use the same model to predict the BSP using the market state 10 seconds after the scheduled jump instead of at the exact scheduled off. None of the rows (or samples) in this time slice have been seen by the model during the training step so it should provide a robust out of sample estimate of the models performance on unseen data.</span>
<a id="__codelineno-33-906" name="__codelineno-33-906" href="#__codelineno-33-906"></a>
<a id="__codelineno-33-907" name="__codelineno-33-907" href="#__codelineno-33-907"></a><span class="c1"># %%</span>
<a id="__codelineno-33-908" name="__codelineno-33-908" href="#__codelineno-33-908"></a><span class="c1"># Validate it on a completely different time point - 10 seconds after scheduled jump</span>
<a id="__codelineno-33-909" name="__codelineno-33-909" href="#__codelineno-33-909"></a>
<a id="__codelineno-33-910" name="__codelineno-33-910" href="#__codelineno-33-910"></a><span class="n">outOfSample</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">,</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;traded_volume&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_back_pool_stake&#39;</span><span class="p">,</span> <span class="s1">&#39;bsp_lay_pool_liability&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">]]</span>
<a id="__codelineno-33-911" name="__codelineno-33-911" href="#__codelineno-33-911"></a>
<a id="__codelineno-33-912" name="__codelineno-33-912" href="#__codelineno-33-912"></a><span class="n">outOfSample</span> <span class="o">=</span> <span class="n">outOfSample</span><span class="p">[</span><span class="n">outOfSample</span><span class="o">.</span><span class="n">sbsj</span> <span class="o">==</span> <span class="o">-</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-33-913" name="__codelineno-33-913" href="#__codelineno-33-913"></a>
<a id="__codelineno-33-914" name="__codelineno-33-914" href="#__codelineno-33-914"></a><span class="n">outOfSample</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-33-915" name="__codelineno-33-915" href="#__codelineno-33-915"></a>    <span class="n">outOfSample</span>
<a id="__codelineno-33-916" name="__codelineno-33-916" href="#__codelineno-33-916"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">wap_to_get_back_pool</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">wapToGetBack</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">bsp_back_pool_stake</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">atb_ladder</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-33-917" name="__codelineno-33-917" href="#__codelineno-33-917"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">wap_to_get_lay_pool</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">wapToGetLay</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">bsp_lay_pool_liability</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">atl_ladder</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-33-918" name="__codelineno-33-918" href="#__codelineno-33-918"></a><span class="p">)</span>
<a id="__codelineno-33-919" name="__codelineno-33-919" href="#__codelineno-33-919"></a>
<a id="__codelineno-33-920" name="__codelineno-33-920" href="#__codelineno-33-920"></a><span class="c1"># Produce Predictions</span>
<a id="__codelineno-33-921" name="__codelineno-33-921" href="#__codelineno-33-921"></a><span class="n">outofsamplebspprediction</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">outOfSample</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;sbsj&#39;</span><span class="p">,</span> <span class="s1">&#39;atb_ladder&#39;</span><span class="p">,</span> <span class="s1">&#39;atl_ladder&#39;</span><span class="p">]))</span>
<a id="__codelineno-33-922" name="__codelineno-33-922" href="#__codelineno-33-922"></a><span class="n">outofsamplebspprediction</span>
<a id="__codelineno-33-923" name="__codelineno-33-923" href="#__codelineno-33-923"></a>
<a id="__codelineno-33-924" name="__codelineno-33-924" href="#__codelineno-33-924"></a><span class="c1"># %%</span>
<a id="__codelineno-33-925" name="__codelineno-33-925" href="#__codelineno-33-925"></a><span class="n">outOfSample</span><span class="p">[</span><span class="s1">&#39;rf_bsp_prediction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">outofsamplebspprediction</span>
<a id="__codelineno-33-926" name="__codelineno-33-926" href="#__codelineno-33-926"></a>
<a id="__codelineno-33-927" name="__codelineno-33-927" href="#__codelineno-33-927"></a><span class="p">(</span>
<a id="__codelineno-33-928" name="__codelineno-33-928" href="#__codelineno-33-928"></a>    <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">outOfSample</span><span class="p">[[</span><span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="s1">&#39;near_price&#39;</span><span class="p">,</span> <span class="s1">&#39;far_price&#39;</span><span class="p">,</span> <span class="s1">&#39;back_best&#39;</span><span class="p">,</span> <span class="s1">&#39;lay_best&#39;</span><span class="p">,</span> <span class="s1">&#39;geometric_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;ladder_mid_point&#39;</span><span class="p">,</span> <span class="s1">&#39;rf_bsp_prediction&#39;</span><span class="p">]],</span> <span class="n">id_vars</span> <span class="o">=</span> <span class="s1">&#39;bsp&#39;</span><span class="p">,</span> <span class="n">var_name</span> <span class="o">=</span> <span class="s1">&#39;estimate&#39;</span><span class="p">)</span>
<a id="__codelineno-33-929" name="__codelineno-33-929" href="#__codelineno-33-929"></a>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">error</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;bsp&#39;</span><span class="p">])</span>
<a id="__codelineno-33-930" name="__codelineno-33-930" href="#__codelineno-33-930"></a>    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;estimate&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-33-931" name="__codelineno-33-931" href="#__codelineno-33-931"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
<a id="__codelineno-33-932" name="__codelineno-33-932" href="#__codelineno-33-932"></a>    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span>
<a id="__codelineno-33-933" name="__codelineno-33-933" href="#__codelineno-33-933"></a><span class="p">)</span>
<a id="__codelineno-33-934" name="__codelineno-33-934" href="#__codelineno-33-934"></a>
<a id="__codelineno-33-935" name="__codelineno-33-935" href="#__codelineno-33-935"></a><span class="c1"># %% [markdown]</span>
<a id="__codelineno-33-936" name="__codelineno-33-936" href="#__codelineno-33-936"></a><span class="c1"># Still significantly better on the out of sample set which is a really positive sign.</span>
<a id="__codelineno-33-937" name="__codelineno-33-937" href="#__codelineno-33-937"></a><span class="c1"># </span>
<a id="__codelineno-33-938" name="__codelineno-33-938" href="#__codelineno-33-938"></a><span class="c1"># ## 2.3.5 Next Steps</span>
<a id="__codelineno-33-939" name="__codelineno-33-939" href="#__codelineno-33-939"></a><span class="c1"># </span>
<a id="__codelineno-33-940" name="__codelineno-33-940" href="#__codelineno-33-940"></a><span class="c1"># To improve this model I&#39;d include multiple time slices in the training sample and use the seconds before scheduled jump as a feature as I would estimate that the predictive dynamics of each of these features is dynamic and affected by how mature + how close to settlement the market is. </span>
<a id="__codelineno-33-941" name="__codelineno-33-941" href="#__codelineno-33-941"></a><span class="c1"># </span>
<a id="__codelineno-33-942" name="__codelineno-33-942" href="#__codelineno-33-942"></a><span class="c1"># To implement this model in your bet placement code you&#39;d simply need to save the model object (some info about how to do this with sklearn can be found here [here](https://scikit-learn.org/stable/modules/model_persistence.html)). Your key challenge will be making sure you can produce the exact inputs you&#39;ve created in this development process from the live stream or polling API responses, but if you&#39;ve gotten this far it won&#39;t be a huge challenge for you.</span>
<a id="__codelineno-33-943" name="__codelineno-33-943" href="#__codelineno-33-943"></a><span class="c1"># </span>
<a id="__codelineno-33-944" name="__codelineno-33-944" href="#__codelineno-33-944"></a><span class="c1"># # 3.0 Conclusion</span>
<a id="__codelineno-33-945" name="__codelineno-33-945" href="#__codelineno-33-945"></a><span class="c1"># </span>
<a id="__codelineno-33-946" name="__codelineno-33-946" href="#__codelineno-33-946"></a><span class="c1"># I&#39;ve taken you through a quick crash course in the Betfair BSP including:</span>
<a id="__codelineno-33-947" name="__codelineno-33-947" href="#__codelineno-33-947"></a><span class="c1"># </span>
<a id="__codelineno-33-948" name="__codelineno-33-948" href="#__codelineno-33-948"></a><span class="c1"># - What it is</span>
<a id="__codelineno-33-949" name="__codelineno-33-949" href="#__codelineno-33-949"></a><span class="c1"># - How it&#39;s created</span>
<a id="__codelineno-33-950" name="__codelineno-33-950" href="#__codelineno-33-950"></a><span class="c1"># - How it&#39;s traded on betfair Australian thoroughbred markets</span>
<a id="__codelineno-33-951" name="__codelineno-33-951" href="#__codelineno-33-951"></a><span class="c1"># - How efficient it is and a methodology for measuring its efficiency in different contexts</span>
<a id="__codelineno-33-952" name="__codelineno-33-952" href="#__codelineno-33-952"></a><span class="c1"># - The accuracy of the projected SP and how it compares with other estimates</span>
<a id="__codelineno-33-953" name="__codelineno-33-953" href="#__codelineno-33-953"></a><span class="c1"># - How to build your own custom projection that&#39;s better than anything available out of the box</span>
<a id="__codelineno-33-954" name="__codelineno-33-954" href="#__codelineno-33-954"></a><span class="c1"># </span>
<a id="__codelineno-33-955" name="__codelineno-33-955" href="#__codelineno-33-955"></a><span class="c1"># The analysis focused on thoroughbred markets but could easily be extended to other racing codes or sports markets that have BSP enabled. The custom SP projection methodology could be used for anything from staking your model more accurately or with some improvement maybe as part of a automated trading strategy.</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr />
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="disclaimer">Disclaimer</h2>
<p>Note that whilst models and automated strategies are fun and rewarding to create, we can't promise that your model or betting strategy will be profitable, and we make no representations in relation to the code shared or information on this page. If you're using this code or implementing your own strategies, you do so entirely at your own risk and you are responsible for any winnings/losses incurred. Under no circumstances will Betfair be liable for any loss or damage you suffer.</p>
</div>
</div>
</div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
    
      <nav class="md-footer__inner md-grid" aria-label="footer.title">
        
          
          <a href="../analysingAndPredictingMarketMovements/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Do they know? Analysing Betfair market formation &amp; market movements" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <div class="md-ellipsis">
                <span class="md-footer__direction">
                  Previous
                </span>
                Do they know? Analysing Betfair market formation & market movements
              </div>
            </div>
          </a>
        
        
          
          <a href="../../mentalGame/intro/" class="md-footer__link md-footer__link--next" aria-label="Next: Intro" rel="next">
            <div class="md-footer__title">
              <div class="md-ellipsis">
                <span class="md-footer__direction">
                  Next
                </span>
                Intro
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-copyright">
  
  
</div>
        
          <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/Betfair_Aus" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/company/betfair-australia" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://facebook.com/betfairaustralia" target="_blank" rel="noopener" title="facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://youtube.com/user/betfairaus" target="_blank" rel="noopener" title="youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/betfair-datascientists" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
        
      </div>

      <div class="bf-footer">
          <div class="bf-footer-inner">
              <p class="bf-light">Betfair Pty Limited is licensed and regulated by the Northern Territory Government of Australia.</p>
              <p class="bf-dark">Betfair Pty Limited's gambling operations are governed by its <a class='inner-link' href="https://www.betfair.com.au/info/responsible-gambling/">Responsible Gambling Code of Conduct</a> and for South
              Australian residents by the <a class='inner-link' href="https://www.betfair.com.au/info/pdf/SA-GCoP.pdf">South Australian Responsible Gambling Code of Practice.</a></p>
              <p class="bf-dark">BetStop is the Australian National Self-Exclusion Register. For more information, please visit <a class="inner-link" href="https://betstop.gov.au">https://betstop.gov.au</a><br /> <div class="full-screen"> <p style="font-family: Arial, sans-serif; font-size: 1.2rem; font-weight: bold;text-align: center;">Chances are you&#39re about to lose</p> <p style="font-family: Arial, sans-serif; font-size: 0.8rem; font-weight: bold;text-align: center;">For free and confidential support call 1800 858 858 or visit <a href="http://www.gamblinghelponline.org.au" style="color: black; text-decoration: underline;">www.gamblinghelponline.org.au</a></p> </div> </p>
              <ul class="bf-links">
                <li><a href="https://www.betfair.com.au/hub/help/account-help/responsible-gambling/">Responsible Gambling</a><span>|</span></li>
                <li><a href="http://www.betfair.com/AUS_NZL/aboutUs/Terms.and.Conditions/">Terms & Conditions</a><span>|</span></li>
                <li><a href="https://www.betfair.com.au/info/privacy-policy/">Privacy Policy</a><span>|</span></li>
                <li><a href="http://www.betfair.com/en/aboutUs/Rules.and.Regulations/">Rules & Regulations</a><span>|</span></li>
                <li><a href="https://www.betfair.com/AUS_NZL/aboutUs/Dispute.Resolution">Dispute Resolution</a></li>
              </ul>
          </div>
      </div>
    </div>

    <script src="https://js.adsrvr.org/up_loader.1.1.0.js" type="text/javascript"></script>
    <script type="text/javascript">
        ttd_dom_ready( function() {
            if (typeof TTDUniversalPixelApi === 'function') {
                var universalPixelApi = new TTDUniversalPixelApi();
                universalPixelApi.init("y12d1ir", ["8ml4f17"], "https://insight.adsrvr.org/track/up");
            }
        });
    </script>

</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["toc.integrate", "navigation.instant", "navigation.tabs", "navigation.top", "navigation.expand", "navigation.sections", "search.suggest", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.e1c3ead8.min.js"></script>
      
        <script src="../../js/scripts.js"></script>
      
    
  </body>
</html>